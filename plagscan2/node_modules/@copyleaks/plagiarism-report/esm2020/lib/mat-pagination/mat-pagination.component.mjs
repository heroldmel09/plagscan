import { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';
import { Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../plagiarism-report/services/copyleaks-translate.service";
import * as i2 from "@angular/cdk/a11y";
import * as i3 from "@angular/material/button";
import * as i4 from "@angular/material/icon";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/cdk/bidi";
import * as i7 from "@angular/common";
import * as i8 from "@angular/material/tooltip";
import * as i9 from "@angular/material/input";
import * as i10 from "@angular/forms";
export class MatPaginationComponent {
    constructor(translationsService, announcer) {
        this.translationsService = translationsService;
        this.announcer = announcer;
        this.totalPages = 1;
        this.page = new EventEmitter();
        this._currentPage = 1;
        this.currentPageChange = new EventEmitter();
    }
    get currentPage() {
        return this._currentPage;
    }
    set currentPage(v) {
        const currentPage = coerceNumberProperty(v);
        this._currentPage = Math.min(Math.max(currentPage, 1), this.totalPages);
        this.currentPageChange.emit(currentPage);
    }
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        this._disabled = coerceBooleanProperty(value);
    }
    get showFirstLastButtons() {
        return this._showFirstLastButtons;
    }
    set showFirstLastButtons(value) {
        this._showFirstLastButtons = coerceBooleanProperty(value);
    }
    /**
     * init translations on component init
     */
    ngOnInit() {
        this.translations = this.translationsService.translations;
    }
    /**
     * Navigate to the next page.
     * This will cause the paginator to emit a `PageChangeEvent`
     */
    next() {
        const previousPage = this.currentPage;
        this.currentPage = this.currentPage + 1;
        this.page.emit({
            currentPage: this.currentPage,
            totalPages: this.totalPages,
            previousPage,
        });
        this.announcer.announce('Moved page', 'assertive');
    }
    /**
     * Navigate to the previous page.
     * This will cause the paginator to emit a `PageChangeEvent`
     */
    back() {
        const previousPage = this.currentPage;
        this.currentPage = this.currentPage - 1;
        this.page.emit({
            currentPage: this.currentPage,
            totalPages: this.totalPages,
            previousPage,
        });
        this.announcer.announce('Moved page', 'assertive');
    }
    /**
     * Navigate to page.
     * This will cause the paginator to emit a `PageChangeEvent`
     */
    goToPage(page) {
        const previousPage = this.currentPage;
        this.currentPage = page;
        this.page.emit({
            currentPage: this.currentPage,
            totalPages: this.totalPages,
            previousPage,
        });
        this.announcer.announce('Moved page', 'assertive');
    }
    /**
     * On blur handler for the paginator input will update the input with the current page
     * @param event the default blur event object
     */
    onInputBlur(event) {
        event.target.value = `${this._currentPage}`;
    }
    /**
     * flag indicating whether the paginator has multiple pages
     */
    get hasPages() {
        return this.totalPages > 1;
    }
    /**
     * check if the paginator is at the first page
     */
    get isFirstPage() {
        return this.currentPage === 1;
    }
    /**
     * check if the paginator is at the last page
     */
    get isLastPage() {
        return this.currentPage === this.totalPages;
    }
}
MatPaginationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationComponent, deps: [{ token: i1.CopyleaksTranslateService }, { token: i2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
MatPaginationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: MatPaginationComponent, selector: "cr-mat-pagination", inputs: { totalPages: "totalPages", currentPage: "currentPage", disabled: "disabled", showFirstLastButtons: "showFirstLastButtons" }, outputs: { page: "page", currentPageChange: "currentPageChange" }, ngImport: i0, template: "<div mat-pagination-wrapper dir=\"ltr\">\n\t<button\n\t\taria-label=\"Go to the first page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.FIRST_PAGE || 'First page'\"\n\t\t(click)=\"goToPage(1)\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'first_page_disabled' : 'first_page'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the previous page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.PREV_PAGE || 'Previous page'\"\n\t\t(click)=\"back()\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'chevron_left_disabled' : 'chevron_left'\"></mat-icon>\n\t</button>\n\t<mat-form-field>\n\t\t<input\n\t\t\taria-label=\"Enter page number to go to.\"\n\t\t\tmatInput\n\t\t\t(blur)=\"onInputBlur($event)\"\n\t\t\t[min]=\"1\"\n\t\t\t[max]=\"totalPages\"\n\t\t\tautocomplete=\"off\"\n\t\t\ttype=\"number\"\n\t\t\t[ngModelOptions]=\"{ updateOn: 'blur' }\"\n\t\t\t[(ngModel)]=\"currentPage\"\n\t\t\t[disabled]=\"!hasPages || disabled\" />\n\t\t<span matSuffix>{{ translations?.SHARED?.OF || 'of' }} {{ totalPages }}</span>\n\t</mat-form-field>\n\t<button\n\t\taria-label=\"Go to the next page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.NEXT_PAGE || 'Next page'\"\n\t\t(click)=\"next()\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'chevron_right_disabled' : 'chevron_right'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the last page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.LAST_PAGE || 'Last page'\"\n\t\t(click)=\"goToPage(totalPages)\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'last_page_disabled' : 'last_page'\"></mat-icon>\n\t</button>\n</div>\n", styles: ["[mat-pagination-wrapper]{display:flex;flex-flow:row nowrap;align-items:center;color:#0000008a}[mat-pagination-wrapper]>:not(:last-child){margin-right:.25em}[mat-pagination-wrapper] mat-form-field{width:100px}[mat-pagination-wrapper] input[type=number]::-webkit-inner-spin-button,[mat-pagination-wrapper] input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}[mat-pagination-wrapper] button[mat-button]{min-width:36px;padding:0}[mat-pagination-wrapper] button[mat-button] mat-icon{height:28px;width:28px;font-size:28px}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0;border:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-label-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-underline{bottom:-2px}.cdk-keyboard-focused{outline:2px solid black!important}\n"], components: [{ type: i3.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i4.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i5.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }], directives: [{ type: i6.Dir, selector: "[dir]", inputs: ["dir"], outputs: ["dirChange"], exportAs: ["dir"] }, { type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i9.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i10.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { type: i10.MaxValidator, selector: "input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]", inputs: ["max"] }, { type: i10.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { type: i10.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i10.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i10.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i5.MatSuffix, selector: "[matSuffix]" }], encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-mat-pagination', encapsulation: ViewEncapsulation.None, template: "<div mat-pagination-wrapper dir=\"ltr\">\n\t<button\n\t\taria-label=\"Go to the first page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.FIRST_PAGE || 'First page'\"\n\t\t(click)=\"goToPage(1)\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'first_page_disabled' : 'first_page'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the previous page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.PREV_PAGE || 'Previous page'\"\n\t\t(click)=\"back()\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'chevron_left_disabled' : 'chevron_left'\"></mat-icon>\n\t</button>\n\t<mat-form-field>\n\t\t<input\n\t\t\taria-label=\"Enter page number to go to.\"\n\t\t\tmatInput\n\t\t\t(blur)=\"onInputBlur($event)\"\n\t\t\t[min]=\"1\"\n\t\t\t[max]=\"totalPages\"\n\t\t\tautocomplete=\"off\"\n\t\t\ttype=\"number\"\n\t\t\t[ngModelOptions]=\"{ updateOn: 'blur' }\"\n\t\t\t[(ngModel)]=\"currentPage\"\n\t\t\t[disabled]=\"!hasPages || disabled\" />\n\t\t<span matSuffix>{{ translations?.SHARED?.OF || 'of' }} {{ totalPages }}</span>\n\t</mat-form-field>\n\t<button\n\t\taria-label=\"Go to the next page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.NEXT_PAGE || 'Next page'\"\n\t\t(click)=\"next()\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'chevron_right_disabled' : 'chevron_right'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the last page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.LAST_PAGE || 'Last page'\"\n\t\t(click)=\"goToPage(totalPages)\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'last_page_disabled' : 'last_page'\"></mat-icon>\n\t</button>\n</div>\n", styles: ["[mat-pagination-wrapper]{display:flex;flex-flow:row nowrap;align-items:center;color:#0000008a}[mat-pagination-wrapper]>:not(:last-child){margin-right:.25em}[mat-pagination-wrapper] mat-form-field{width:100px}[mat-pagination-wrapper] input[type=number]::-webkit-inner-spin-button,[mat-pagination-wrapper] input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}[mat-pagination-wrapper] button[mat-button]{min-width:36px;padding:0}[mat-pagination-wrapper] button[mat-button] mat-icon{height:28px;width:28px;font-size:28px}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0;border:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-label-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-underline{bottom:-2px}.cdk-keyboard-focused{outline:2px solid black!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.CopyleaksTranslateService }, { type: i2.LiveAnnouncer }]; }, propDecorators: { totalPages: [{
                type: Input
            }], page: [{
                type: Output
            }], currentPage: [{
                type: Input
            }], currentPageChange: [{
                type: Output
            }], disabled: [{
                type: Input
            }], showFirstLastButtons: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0LXBhZ2luYXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGxhZ2lhcmlzbS1yZXBvcnQvc3JjL2xpYi9tYXQtcGFnaW5hdGlvbi9tYXQtcGFnaW5hdGlvbi5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wbGFnaWFyaXNtLXJlcG9ydC9zcmMvbGliL21hdC1wYWdpbmF0aW9uL21hdC1wYWdpbmF0aW9uLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3BGLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQVUsTUFBTSxlQUFlLENBQUM7Ozs7Ozs7Ozs7OztBQW1CbEcsTUFBTSxPQUFPLHNCQUFzQjtJQW1DbEMsWUFBb0IsbUJBQThDLEVBQVUsU0FBd0I7UUFBaEYsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUEyQjtRQUFVLGNBQVMsR0FBVCxTQUFTLENBQWU7UUFsQzNGLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFFZCxTQUFJLEdBQUcsSUFBSSxZQUFZLEVBQW1CLENBQUM7UUFDN0MsaUJBQVksR0FBRyxDQUFDLENBQUM7UUFZekIsc0JBQWlCLEdBQUcsSUFBSSxZQUFZLEVBQVUsQ0FBQztJQW1Cd0QsQ0FBQztJQTdCeEcsSUFDVyxXQUFXO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMxQixDQUFDO0lBQ0QsSUFBVyxXQUFXLENBQUMsQ0FBUztRQUMvQixNQUFNLFdBQVcsR0FBRyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVB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QkFBc0Isa1FDcEJuQyw0Z0VBa0RBOzJGRDlCYSxzQkFBc0I7a0JBTmxDLFNBQVM7K0JBQ0MsbUJBQW1CLGlCQUdkLGlCQUFpQixDQUFDLElBQUk7NElBRzVCLFVBQVU7c0JBQWxCLEtBQUs7Z0JBRUksSUFBSTtzQkFBYixNQUFNO2dCQUlJLFdBQVc7c0JBRHJCLEtBQUs7Z0JBVU4saUJBQWlCO3NCQURoQixNQUFNO2dCQUtILFFBQVE7c0JBRFgsS0FBSztnQkFVRixvQkFBb0I7c0JBRHZCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb2VyY2VCb29sZWFuUHJvcGVydHksIGNvZXJjZU51bWJlclByb3BlcnR5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBWaWV3RW5jYXBzdWxhdGlvbiwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuXHRDb3B5bGVha3NUcmFuc2xhdGVTZXJ2aWNlLFxuXHRDb3B5bGVha3NUcmFuc2xhdGlvbnMsXG59IGZyb20gJy4uL3BsYWdpYXJpc20tcmVwb3J0L3NlcnZpY2VzL2NvcHlsZWFrcy10cmFuc2xhdGUuc2VydmljZSc7XG5pbXBvcnQgeyBMaXZlQW5ub3VuY2VyIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2ExMXknO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VDaGFuZ2VFdmVudCB7XG5cdGN1cnJlbnRQYWdlOiBudW1iZXI7XG5cdHByZXZpb3VzUGFnZTogbnVtYmVyO1xuXHR0b3RhbFBhZ2VzOiBudW1iZXI7XG59XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ2NyLW1hdC1wYWdpbmF0aW9uJyxcblx0dGVtcGxhdGVVcmw6ICcuL21hdC1wYWdpbmF0aW9uLmNvbXBvbmVudC5odG1sJyxcblx0c3R5bGVVcmxzOiBbJy4vbWF0LXBhZ2luYXRpb24uY29tcG9uZW50LnNjc3MnXSxcblx0ZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbn0pXG5leHBvcnQgY2xhc3MgTWF0UGFnaW5hdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cdEBJbnB1dCgpIHRvdGFsUGFnZXMgPSAxO1xuXG5cdEBPdXRwdXQoKSBwYWdlID0gbmV3IEV2ZW50RW1pdHRlcjxQYWdlQ2hhbmdlRXZlbnQ+KCk7XG5cdHByaXZhdGUgX2N1cnJlbnRQYWdlID0gMTtcblx0dHJhbnNsYXRpb25zOiBDb3B5bGVha3NUcmFuc2xhdGlvbnM7XG5cdEBJbnB1dCgpXG5cdHB1YmxpYyBnZXQgY3VycmVudFBhZ2UoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fY3VycmVudFBhZ2U7XG5cdH1cblx0cHVibGljIHNldCBjdXJyZW50UGFnZSh2OiBudW1iZXIpIHtcblx0XHRjb25zdCBjdXJyZW50UGFnZSA9IGNvZXJjZU51bWJlclByb3BlcnR5KHYpO1xuXHRcdHRoaXMuX2N1cnJlbnRQYWdlID0gTWF0aC5taW4oTWF0aC5tYXgoY3VycmVudFBhZ2UsIDEpLCB0aGlzLnRvdGFsUGFnZXMpO1xuXHRcdHRoaXMuY3VycmVudFBhZ2VDaGFuZ2UuZW1pdChjdXJyZW50UGFnZSk7XG5cdH1cblx0QE91dHB1dCgpXG5cdGN1cnJlbnRQYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XG5cblx0cHJpdmF0ZSBfZGlzYWJsZWQ6IGJvb2xlYW47XG5cdEBJbnB1dCgpXG5cdGdldCBkaXNhYmxlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XG5cdH1cblx0c2V0IGRpc2FibGVkKHZhbHVlKSB7XG5cdFx0dGhpcy5fZGlzYWJsZWQgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpO1xuXHR9XG5cblx0cHJpdmF0ZSBfc2hvd0ZpcnN0TGFzdEJ1dHRvbnM6IGJvb2xlYW47XG5cdEBJbnB1dCgpXG5cdGdldCBzaG93Rmlyc3RMYXN0QnV0dG9ucygpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2hvd0ZpcnN0TGFzdEJ1dHRvbnM7XG5cdH1cblx0c2V0IHNob3dGaXJzdExhc3RCdXR0b25zKHZhbHVlKSB7XG5cdFx0dGhpcy5fc2hvd0ZpcnN0TGFzdEJ1dHRvbnMgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpO1xuXHR9XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRpb25zU2VydmljZTogQ29weWxlYWtzVHJhbnNsYXRlU2VydmljZSwgcHJpdmF0ZSBhbm5vdW5jZXI6IExpdmVBbm5vdW5jZXIpIHt9XG5cdC8qKlxuXHQgKiBpbml0IHRyYW5zbGF0aW9ucyBvbiBjb21wb25lbnQgaW5pdFxuXHQgKi9cblx0bmdPbkluaXQoKSB7XG5cdFx0dGhpcy50cmFuc2xhdGlvbnMgPSB0aGlzLnRyYW5zbGF0aW9uc1NlcnZpY2UudHJhbnNsYXRpb25zO1xuXHR9XG5cdC8qKlxuXHQgKiBOYXZpZ2F0ZSB0byB0aGUgbmV4dCBwYWdlLlxuXHQgKiBUaGlzIHdpbGwgY2F1c2UgdGhlIHBhZ2luYXRvciB0byBlbWl0IGEgYFBhZ2VDaGFuZ2VFdmVudGBcblx0ICovXG5cdG5leHQoKSB7XG5cdFx0Y29uc3QgcHJldmlvdXNQYWdlID0gdGhpcy5jdXJyZW50UGFnZTtcblx0XHR0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSArIDE7XG5cdFx0dGhpcy5wYWdlLmVtaXQoe1xuXHRcdFx0Y3VycmVudFBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsXG5cdFx0XHR0b3RhbFBhZ2VzOiB0aGlzLnRvdGFsUGFnZXMsXG5cdFx0XHRwcmV2aW91c1BhZ2UsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFubm91bmNlci5hbm5vdW5jZSgnTW92ZWQgcGFnZScsICdhc3NlcnRpdmUnKTtcblx0fVxuXHQvKipcblx0ICogTmF2aWdhdGUgdG8gdGhlIHByZXZpb3VzIHBhZ2UuXG5cdCAqIFRoaXMgd2lsbCBjYXVzZSB0aGUgcGFnaW5hdG9yIHRvIGVtaXQgYSBgUGFnZUNoYW5nZUV2ZW50YFxuXHQgKi9cblx0YmFjaygpIHtcblx0XHRjb25zdCBwcmV2aW91c1BhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlO1xuXHRcdHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMTtcblx0XHR0aGlzLnBhZ2UuZW1pdCh7XG5cdFx0XHRjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZSxcblx0XHRcdHRvdGFsUGFnZXM6IHRoaXMudG90YWxQYWdlcyxcblx0XHRcdHByZXZpb3VzUGFnZSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYW5ub3VuY2VyLmFubm91bmNlKCdNb3ZlZCBwYWdlJywgJ2Fzc2VydGl2ZScpO1xuXHR9XG5cdC8qKlxuXHQgKiBOYXZpZ2F0ZSB0byBwYWdlLlxuXHQgKiBUaGlzIHdpbGwgY2F1c2UgdGhlIHBhZ2luYXRvciB0byBlbWl0IGEgYFBhZ2VDaGFuZ2VFdmVudGBcblx0ICovXG5cdGdvVG9QYWdlKHBhZ2U6IG51bWJlcikge1xuXHRcdGNvbnN0IHByZXZpb3VzUGFnZSA9IHRoaXMuY3VycmVudFBhZ2U7XG5cdFx0dGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG5cdFx0dGhpcy5wYWdlLmVtaXQoe1xuXHRcdFx0Y3VycmVudFBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsXG5cdFx0XHR0b3RhbFBhZ2VzOiB0aGlzLnRvdGFsUGFnZXMsXG5cdFx0XHRwcmV2aW91c1BhZ2UsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFubm91bmNlci5hbm5vdW5jZSgnTW92ZWQgcGFnZScsICdhc3NlcnRpdmUnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPbiBibHVyIGhhbmRsZXIgZm9yIHRoZSBwYWdpbmF0b3IgaW5wdXQgd2lsbCB1cGRhdGUgdGhlIGlucHV0IHdpdGggdGhlIGN1cnJlbnQgcGFnZVxuXHQgKiBAcGFyYW0gZXZlbnQgdGhlIGRlZmF1bHQgYmx1ciBldmVudCBvYmplY3Rcblx0ICovXG5cdG9uSW5wdXRCbHVyKGV2ZW50OiBGb2N1c0V2ZW50KSB7XG5cdFx0KGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IGAke3RoaXMuX2N1cnJlbnRQYWdlfWA7XG5cdH1cblxuXHQvKipcblx0ICogZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHBhZ2luYXRvciBoYXMgbXVsdGlwbGUgcGFnZXNcblx0ICovXG5cdHB1YmxpYyBnZXQgaGFzUGFnZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMudG90YWxQYWdlcyA+IDE7XG5cdH1cblx0LyoqXG5cdCAqIGNoZWNrIGlmIHRoZSBwYWdpbmF0b3IgaXMgYXQgdGhlIGZpcnN0IHBhZ2Vcblx0ICovXG5cdHB1YmxpYyBnZXQgaXNGaXJzdFBhZ2UoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgPT09IDE7XG5cdH1cblx0LyoqXG5cdCAqIGNoZWNrIGlmIHRoZSBwYWdpbmF0b3IgaXMgYXQgdGhlIGxhc3QgcGFnZVxuXHQgKi9cblx0cHVibGljIGdldCBpc0xhc3RQYWdlKCkge1xuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRQYWdlID09PSB0aGlzLnRvdGFsUGFnZXM7XG5cdH1cbn1cbiIsIjxkaXYgbWF0LXBhZ2luYXRpb24td3JhcHBlciBkaXI9XCJsdHJcIj5cblx0PGJ1dHRvblxuXHRcdGFyaWEtbGFiZWw9XCJHbyB0byB0aGUgZmlyc3QgcGFnZS5cIlxuXHRcdCpuZ0lmPVwic2hvd0ZpcnN0TGFzdEJ1dHRvbnNcIlxuXHRcdG1hdC1idXR0b25cblx0XHRbbWF0VG9vbHRpcF09XCJ0cmFuc2xhdGlvbnM/LlNIQVJFRD8uQUNUSU9OUz8uRklSU1RfUEFHRSB8fCAnRmlyc3QgcGFnZSdcIlxuXHRcdChjbGljayk9XCJnb1RvUGFnZSgxKVwiXG5cdFx0W2Rpc2FibGVkXT1cIiFoYXNQYWdlcyB8fCBpc0ZpcnN0UGFnZSB8fCBkaXNhYmxlZFwiPlxuXHRcdDxtYXQtaWNvbiBbc3ZnSWNvbl09XCIhaGFzUGFnZXMgfHwgaXNGaXJzdFBhZ2UgfHwgZGlzYWJsZWQgPyAnZmlyc3RfcGFnZV9kaXNhYmxlZCcgOiAnZmlyc3RfcGFnZSdcIj48L21hdC1pY29uPlxuXHQ8L2J1dHRvbj5cblx0PGJ1dHRvblxuXHRcdGFyaWEtbGFiZWw9XCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZS5cIlxuXHRcdG1hdC1idXR0b25cblx0XHRbbWF0VG9vbHRpcF09XCJ0cmFuc2xhdGlvbnM/LlNIQVJFRD8uQUNUSU9OUz8uUFJFVl9QQUdFIHx8ICdQcmV2aW91cyBwYWdlJ1wiXG5cdFx0KGNsaWNrKT1cImJhY2soKVwiXG5cdFx0W2Rpc2FibGVkXT1cIiFoYXNQYWdlcyB8fCBpc0ZpcnN0UGFnZSB8fCBkaXNhYmxlZFwiPlxuXHRcdDxtYXQtaWNvbiBbc3ZnSWNvbl09XCIhaGFzUGFnZXMgfHwgaXNGaXJzdFBhZ2UgfHwgZGlzYWJsZWQgPyAnY2hldnJvbl9sZWZ0X2Rpc2FibGVkJyA6ICdjaGV2cm9uX2xlZnQnXCI+PC9tYXQtaWNvbj5cblx0PC9idXR0b24+XG5cdDxtYXQtZm9ybS1maWVsZD5cblx0XHQ8aW5wdXRcblx0XHRcdGFyaWEtbGFiZWw9XCJFbnRlciBwYWdlIG51bWJlciB0byBnbyB0by5cIlxuXHRcdFx0bWF0SW5wdXRcblx0XHRcdChibHVyKT1cIm9uSW5wdXRCbHVyKCRldmVudClcIlxuXHRcdFx0W21pbl09XCIxXCJcblx0XHRcdFttYXhdPVwidG90YWxQYWdlc1wiXG5cdFx0XHRhdXRvY29tcGxldGU9XCJvZmZcIlxuXHRcdFx0dHlwZT1cIm51bWJlclwiXG5cdFx0XHRbbmdNb2RlbE9wdGlvbnNdPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIlxuXHRcdFx0WyhuZ01vZGVsKV09XCJjdXJyZW50UGFnZVwiXG5cdFx0XHRbZGlzYWJsZWRdPVwiIWhhc1BhZ2VzIHx8IGRpc2FibGVkXCIgLz5cblx0XHQ8c3BhbiBtYXRTdWZmaXg+e3sgdHJhbnNsYXRpb25zPy5TSEFSRUQ/Lk9GIHx8ICdvZicgfX0ge3sgdG90YWxQYWdlcyB9fTwvc3Bhbj5cblx0PC9tYXQtZm9ybS1maWVsZD5cblx0PGJ1dHRvblxuXHRcdGFyaWEtbGFiZWw9XCJHbyB0byB0aGUgbmV4dCBwYWdlLlwiXG5cdFx0bWF0LWJ1dHRvblxuXHRcdFttYXRUb29sdGlwXT1cInRyYW5zbGF0aW9ucz8uU0hBUkVEPy5BQ1RJT05TPy5ORVhUX1BBR0UgfHwgJ05leHQgcGFnZSdcIlxuXHRcdChjbGljayk9XCJuZXh0KClcIlxuXHRcdFtkaXNhYmxlZF09XCIhaGFzUGFnZXMgfHwgaXNMYXN0UGFnZSB8fCBkaXNhYmxlZFwiPlxuXHRcdDxtYXQtaWNvbiBbc3ZnSWNvbl09XCIhaGFzUGFnZXMgfHwgaXNMYXN0UGFnZSB8fCBkaXNhYmxlZCA/ICdjaGV2cm9uX3JpZ2h0X2Rpc2FibGVkJyA6ICdjaGV2cm9uX3JpZ2h0J1wiPjwvbWF0LWljb24+XG5cdDwvYnV0dG9uPlxuXHQ8YnV0dG9uXG5cdFx0YXJpYS1sYWJlbD1cIkdvIHRvIHRoZSBsYXN0IHBhZ2UuXCJcblx0XHQqbmdJZj1cInNob3dGaXJzdExhc3RCdXR0b25zXCJcblx0XHRtYXQtYnV0dG9uXG5cdFx0W21hdFRvb2x0aXBdPVwidHJhbnNsYXRpb25zPy5TSEFSRUQ/LkFDVElPTlM/LkxBU1RfUEFHRSB8fCAnTGFzdCBwYWdlJ1wiXG5cdFx0KGNsaWNrKT1cImdvVG9QYWdlKHRvdGFsUGFnZXMpXCJcblx0XHRbZGlzYWJsZWRdPVwiIWhhc1BhZ2VzIHx8IGlzTGFzdFBhZ2UgfHwgZGlzYWJsZWRcIj5cblx0XHQ8bWF0LWljb24gW3N2Z0ljb25dPVwiIWhhc1BhZ2VzIHx8IGlzTGFzdFBhZ2UgfHwgZGlzYWJsZWQgPyAnbGFzdF9wYWdlX2Rpc2FibGVkJyA6ICdsYXN0X3BhZ2UnXCI+PC9tYXQtaWNvbj5cblx0PC9idXR0b24+XG48L2Rpdj5cbiJdfQ==
import * as i0 from '@angular/core';
import { InjectionToken, Injectable, Component, Inject, EventEmitter, Input, Output, Pipe, ViewContainerRef, HostBinding, ViewChild, HostListener, Directive, ViewEncapsulation, ContentChildren, NgModule } from '@angular/core';
import { Subject, BehaviorSubject, Observable, of, combineLatest } from 'rxjs';
import { take, takeUntil, filter, scan, distinctUntilChanged, map, switchMap, withLatestFrom, skip, switchMapTo, delay } from 'rxjs/operators';
import deepEqual from 'deep-equal';
import * as i6 from '@angular/material/icon';
import { MatIconModule } from '@angular/material/icon';
import * as i2 from '@angular/platform-browser';
import * as i1 from '@angular/material/dialog';
import { MAT_DIALOG_DATA, MatDialogModule } from '@angular/material/dialog';
import * as i4 from '@angular/material/slide-toggle';
import { MatSlideToggleModule } from '@angular/material/slide-toggle';
import * as i4$1 from '@angular/material/divider';
import { MatDividerModule } from '@angular/material/divider';
import * as i6$1 from '@angular/material/checkbox';
import { MatCheckboxModule } from '@angular/material/checkbox';
import * as i7 from '@angular/material/button';
import { MatButtonModule } from '@angular/material/button';
import * as i10 from '@angular/forms';
import { FormsModule } from '@angular/forms';
import * as i19 from '@angular/flex-layout/flex';
import * as i1$1 from '@angular/flex-layout';
import { FlexLayoutModule } from '@angular/flex-layout';
import * as i4$2 from '@angular/cdk/a11y';
import { trigger, state, style, transition, animate, group, query, animateChild, stagger } from '@angular/animations';
import * as i8 from '@angular/material/tooltip';
import { MatTooltipModule } from '@angular/material/tooltip';
import * as i17 from '@angular/common';
import { DatePipe, CommonModule, PercentPipe } from '@angular/common';
import * as i13 from '@swimlane/ngx-charts';
import { ChartCommonModule, PieChartModule } from '@swimlane/ngx-charts';
import * as i20 from '@angular/flex-layout/extended';
import * as i16 from 'ngx-skeleton-loader';
import { NgxSkeletonLoaderModule } from 'ngx-skeleton-loader';
import scrollIntoView from 'scroll-into-view-if-needed';
import { coerceNumberProperty, coerceBooleanProperty } from '@angular/cdk/coercion';
import * as i5 from '@angular/material/form-field';
import * as i6$2 from '@angular/cdk/bidi';
import * as i9 from '@angular/material/input';
import { MatInputModule } from '@angular/material/input';
import * as i17$1 from '@angular/material/menu';
import { MatMenuModule } from '@angular/material/menu';
import * as i14 from 'ngx-virtual-scroller';
import { VirtualScrollerModule } from 'ngx-virtual-scroller';
import * as i10$1 from '@ncstate/sat-popover';
import { SatPopoverModule } from '@ncstate/sat-popover';
import { MatRippleModule } from '@angular/material/core';
import { MatListModule } from '@angular/material/list';
import { MatPaginatorModule } from '@angular/material/paginator';
import { MatProgressSpinnerModule } from '@angular/material/progress-spinner';

/** Constants related to `report.service.ts` */
const REPORT_SERVICE_CONSTANTS = {
    RESULTS_SETTINGS_KEY: 'copyleaks-results-settings',
    BTN_THROTTLE_MS: 250,
};
/** A default result options of the report */
const DEFAULT_OPTIONS = {
    showPageSources: false,
    showOnlyTopResults: true,
    showRelated: true,
    showIdentical: true,
    showMinorChanges: true,
    setAsDefault: false,
};
/** The default config of the report component. */
const DEFAULT_REPORT_CONFIG = {
    contentMode: 'html',
    download: false,
    settings: true,
    help: false,
    disableSuspectBackButton: false,
    options: { ...DEFAULT_OPTIONS },
    scanId: null,
    share: false,
    sourcePage: 1,
    suspectId: null,
    suspectPage: 1,
    viewMode: 'one-to-many',
};
/**
 * Default text messages for the report
 */
const DEFAULT_TEXT_CONFIG = {
    RESULT_PUSH_ERROR: 'Unable to retrieve result content at this time. Please try again later.',
    IDENTICAL_TOOLTIP_TEXT: 'Identical matches are one to one exact wording in the text. Click to disable',
    MINOR_CHANGES_TOOLTIP_TEXT: 'Nearly identical with different form, ie "slow" becomes "slowly". Click to disable',
    RELATED_MEANING_TOOLTIP_TEXT: 'Close meaning but different words used to convey the message. Click to disable',
    OMITTED_WORDS_TOOLTIP_TEXT: 'Words that have been hidden.',
    MATCH_TYPE_OMITTED_TOOLTIP_TEXT: 'Omitted by your configuration. Click to enable',
};
/** Font size unit for increasing/decreasing font size while in `text` content mode */
const TEXT_FONT_SIZE_UNIT = 0.25;
/** Max font size zoom level */
const MAX_TEXT_ZOOM = 4;
/** Min font size zoom level */
const MIN_TEXT_ZOOM = 0.5;
const msgWrongArgumentText = 'Wrong argument supplied. Provided data should match the type ';
/** User messages for text exclusion cases */
const EXCLUDE_MESSAGE = {
    1: 'Quotations are omitted according to your settings',
    2: 'References are omitted according to your settings',
    5: 'HTML templates are omitted according to your settings',
    6: 'Tables of content are omitted according to your settings',
    7: 'Source code comments are omitted according to your settings',
    0: 'Sensitive data are hidden according to your settings',
    8: 'This text was not scanned because there were not enough pages. Please upgrade your plan in order to scan the entire document.',
    9: 'Citations are omitted according to your settings',
};
/** Injection token used to override the default config of the report */
const COPYLEAKS_CONFIG_INJECTION_TOKEN = new InjectionToken('copyleaks-config');
/** Injection token used to override the default text messages of the report */
const COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN = new InjectionToken('copyleaks-text-config');
/** The current Copyleaks API version that this library supports */
const CURRENT_API_VERSION = 3;
/** Message used for `CompleteResult` object validation error */
const COMPLETE_RESULT_VALIDATION_ERROR = {
    errorText: msgWrongArgumentText + 'CompleteResult interface.',
    visitUrl: 'https://api.copyleaks.com/documentation/v3/webhooks/completed',
    result: {
        status: 0,
        developerPayload: 'Custom developer payload',
        scannedDocument: {
            scanId: 'string',
            totalWords: 0,
            totalExcluded: 0,
            credits: 0,
            creationTime: 'string',
            metadata: {
                finalUrl: 'string',
                canonicalUrl: 'string',
                author: 'string',
                organization: 'string',
                filename: 'string',
                publishDate: 'string',
                creationDate: 'string',
                lastModificationDate: 'string',
            },
        },
        results: {
            internet: [
                {
                    id: 'string',
                    title: 'string',
                    introduction: 'string',
                    matchedWords: 0,
                    url: 'string',
                    metadata: {
                        finalUrl: 'string',
                        canonicalUrl: 'string',
                        author: 'string',
                        organization: 'string',
                        filename: 'string',
                        publishDate: 'string',
                        creationDate: 'string',
                        lastModificationDate: 'string',
                    },
                },
            ],
            database: [
                {
                    id: 'string',
                    title: 'string',
                    introduction: 'string',
                    matchedWords: 0,
                    scanId: 'string',
                    metadata: {
                        finalUrl: 'string',
                        canonicalUrl: 'string',
                        author: 'string',
                        organization: 'string',
                        filename: 'string',
                        publishDate: 'string',
                        creationDate: 'string',
                        lastModificationDate: 'string',
                    },
                },
            ],
            batch: [
                {
                    id: 'string',
                    title: 'string',
                    introduction: 'string',
                    matchedWords: 0,
                    scanId: 'string',
                    metadata: {
                        finalUrl: 'string',
                        canonicalUrl: 'string',
                        author: 'string',
                        organization: 'string',
                        filename: 'string',
                        publishDate: 'string',
                        creationDate: 'string',
                        lastModificationDate: 'string',
                    },
                },
            ],
            repositories: [
                {
                    id: 'string',
                    title: 'string',
                    introduction: 'string',
                    matchedWords: 0,
                    repositoryId: 'string',
                    scanId: 'string',
                    metadata: {
                        finalUrl: 'string',
                        canonicalUrl: 'string',
                        author: 'string',
                        organization: 'string',
                        filename: 'string',
                        publishDate: 'string',
                        creationDate: 'string',
                        lastModificationDate: 'string',
                        submittedBy: 'string',
                    },
                },
            ],
            score: {
                identicalWords: 0,
                minorChangedWords: 0,
                relatedMeaningWords: 0,
                aggregatedScore: 0,
            },
        },
        downloadableReport: {
            status: 'Success = 0',
            report: 'string',
        },
        notifications: {
            alerts: [
                {
                    code: 'string',
                    title: 'string',
                    message: 'string',
                    helpLink: 'string',
                    severity: 0,
                    additionalData: 'string',
                },
            ],
        },
    },
};
/** Message used for `NewResult` object validation error */
const NEW_RESULT_VALIDATION_ERROR = {
    errorText: msgWrongArgumentText + 'NewResult interface.',
    visitUrl: 'https://api.copyleaks.com/documentation/v3/webhooks/new-result',
    result: {
        internet: [
            {
                id: 'string',
                title: 'string',
                introduction: 'string',
                matchedWords: 0,
                url: 'string',
                metadata: {
                    finalUrl: 'string',
                    canonicalUrl: 'string',
                    author: 'string',
                    organization: 'string',
                    filename: 'string',
                    publishDate: 'string',
                    creationDate: 'string',
                    lastModificationDate: 'string',
                },
            },
        ],
        database: [
            {
                id: 'string',
                title: 'string',
                introduction: 'string',
                matchedWords: 0,
                scanId: 'string',
                metadata: {
                    finalUrl: 'string',
                    canonicalUrl: 'string',
                    author: 'string',
                    organization: 'string',
                    filename: 'string',
                    publishDate: 'string',
                    creationDate: 'string',
                    lastModificationDate: 'string',
                },
            },
        ],
        batch: [
            {
                id: 'string',
                title: 'string',
                introduction: 'string',
                matchedWords: 0,
                scanId: 'string',
                metadata: {
                    finalUrl: 'string',
                    canonicalUrl: 'string',
                    author: 'string',
                    organization: 'string',
                    filename: 'string',
                    publishDate: 'string',
                    creationDate: 'string',
                    lastModificationDate: 'string',
                },
            },
        ],
        repositories: [
            {
                id: 'string',
                title: 'string',
                introduction: 'string',
                matchedWords: 0,
                repositoryId: 'string',
                scanId: 'string',
                metadata: {
                    finalUrl: 'string',
                    canonicalUrl: 'string',
                    author: 'string',
                    organization: 'string',
                    filename: 'string',
                    publishDate: 'string',
                    creationDate: 'string',
                    lastModificationDate: 'string',
                    submittedBy: 'string',
                },
            },
        ],
    },
};
/** Message used for `ScanResult` object validation error */
const SCAN_RESULT_VALIDATION_ERROR = {
    errorText: msgWrongArgumentText + 'ScanResult interface.',
    visitUrl: 'https://api.copyleaks.com/documentation/v3/downloads/result',
    result: {
        statistics: {
            identical: 0,
            minorChanges: 0,
            relatedMeaning: 0,
        },
        text: {
            value: 'Hello world!',
            pages: {
                startPosition: [0],
            },
            comparison: {
                identical: {
                    source: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                    suspected: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                },
                minorChanges: {
                    source: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                    suspected: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                },
                relatedMeaning: {
                    source: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                    suspected: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                },
            },
        },
        html: {
            value: '<HTML><body><h3>Hello world!</h3></body></HTML>',
            comparison: {
                identical: {
                    groupId: [0],
                    source: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                    suspected: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                },
                minorChanges: {
                    groupId: [0],
                    source: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                    suspected: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                },
                relatedMeaning: {
                    groupId: [0],
                    source: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                    suspected: {
                        chars: {
                            starts: [0],
                            lengths: [1],
                        },
                        words: {
                            starts: [0],
                            lengths: [1],
                        },
                    },
                },
            },
        },
    },
};
/** Message used for `ScanSource` object validation error */
const SCAN_SOURCE_VALIDATION_ERROR = {
    errorText: msgWrongArgumentText + 'ScanSource interface.',
    visitUrl: `https://api.copyleaks.com/documentation/v${CURRENT_API_VERSION}`,
    result: {
        metadata: {
            words: 30,
            excluded: 2,
        },
        html: {
            value: '<html><body><h1>Example Domain</h1><p>This domain is established to be used for illustrative examples in documents.</body></html>',
            exclude: {
                starts: [16],
                lengths: [14],
                reasons: [3],
                groupIds: [1],
            },
        },
        text: {
            value: 'Example Domain This domain is established to be used for illustrative examples in documents.',
            exclude: {
                starts: [0],
                lengths: [14],
                reasons: [3],
            },
            pages: {
                startPosition: [0],
            },
        },
    },
};
/** Message used for `version` number validation error */
const VERSION_VALIDATION_ERROR = {
    errorText: 'Argument was generated by an outdated version of the API.\n' +
        `please provide an argument generated by API version: ${CURRENT_API_VERSION}\n`,
    visitUrl: `https://api.copyleaks.com/documentation/v${CURRENT_API_VERSION}`,
    result: { version: `v${CURRENT_API_VERSION}` },
};
/** Alerts consts */
const ALERTS = {
    SUSPECTED_CHARACTER_REPLACEMENT_CODE: 'suspected-character-replacement',
    SUSPECTED_CHEATING_DETECTED_CODE: 'suspected-cheating-detected',
    SUSPECTED_AI_TEXT_DETECTED: 'suspected-ai-text',
};

//import { exit } from 'process';
class CopyleaksService {
    constructor() {
        this._complete$ = new Subject();
        this._preview$ = new Subject();
        this._source$ = new Subject();
        this._results$ = new Subject();
        this._progress$ = new Subject();
        this._config$ = new BehaviorSubject({ ...DEFAULT_REPORT_CONFIG });
        this._destroy$ = new Subject();
        this._filteredResultsIds$ = new Subject();
        this._scoreUpdate$ = new Subject();
        this._totalResults$ = new Subject();
        this.onCompleteResult$ = this._complete$.asObservable();
        this.onResultPreview$ = this._preview$.asObservable();
        this.onScanSource$ = this._source$.asObservable();
        this.onResultItems$ = this._results$.asObservable();
        this.onProgress$ = this._progress$.asObservable();
        this.onReportConfig$ = this._config$.asObservable();
        this.onTotalResultsChange$ = this._totalResults$.asObservable();
        this.filteredResultsIds$ = this._filteredResultsIds$.asObservable();
        this.scoreUpdate$ = this._scoreUpdate$.asObservable();
        // Delete result by Id
        this.onDeleteResultById$ = new Subject();
        this.onDeleteProccessFinish$ = new Subject();
        this.onDestroy$ = this._destroy$.asObservable();
        // Simple object validation
        this.isCompleteResult = (o) => o && !!o.scannedDocument && !!o.results;
        this.isScanSource = (o) => o && !!o.metadata && !!o.text && !!o.version;
        this.isScanResult = (o) => o && !!o.text && !!o.statistics && !!o.version;
        this.isNewResult = (o) => o && !!o.internet && !!o.database && !!o.batch;
        this.isCorrectVersion = (o) => o && o.version === 3;
    }
    //private readonly cssError = 'font-weight: bold;color:blue;';
    /**
     * set total results (optional)
     * @param totalResults scan total results amount
     */
    setTotalResults(totalResults) {
        this._totalResults$.next(totalResults);
    }
    /**
     * Init/Set the filtered results.
     * @param ids a list of results ids to be filtered.
     * @param newAggregatedScore updated score after filter.
     */
    setFilteredResultsIds(ids, newAggregatedScore) {
        this._filteredResultsIds$.next(ids);
        this._scoreUpdate$.next(newAggregatedScore);
    }
    /**
     * Delete result by id.
     * @param resultId deleted result id
     * @returns updated complete result after deletion
     */
    async deleteResultById(resultId) {
        return new Promise((resolve, reject) => {
            this.onDeleteProccessFinish$.pipe(take(1)).subscribe(res => resolve(res), err => reject(err));
            this.onDeleteResultById$.next(resultId);
        });
    }
    /**
     * Insert the completion result of a scan to the report.
     * @see https://api.copyleaks.com/documentation/v3/webhooks/completed
     * @param result the completed result
     */
    pushCompletedResult(result) {
        if (!this.isCompleteResult(result)) {
            this.showExtendedError(COMPLETE_RESULT_VALIDATION_ERROR, result);
            return;
        }
        this._complete$.next(result);
    }
    showExtendedError(type, userResult) {
        console.error(type.errorText, '\nActual supplied argument:\n', userResult, '\nExpected argument should look like:\n', type.result, '\nFor more info, visit ' + type.visitUrl);
    }
    /**
     * Insert an incoming new scan result to the report.
     * @see https://api.copyleaks.com/documentation/v3/webhooks/new-result
     * @param result the new result
     */
    pushNewResult(result) {
        if (!this.isNewResult(result)) {
            this.showExtendedError(NEW_RESULT_VALIDATION_ERROR, result);
            return;
        }
        [...result.internet, ...result.database, ...result.batch, ...result.repositories].forEach(prev => {
            this._preview$.next(prev);
        });
    }
    /**
     * Insert the downloaded source you scanned to the report.
     * @see https://api.copyleaks.com/documentation/v3/downloads/source
     * @param source the downloaded source
     */
    pushDownloadedSource(source) {
        if (!this.isCorrectVersion(source)) {
            this.showExtendedError(VERSION_VALIDATION_ERROR, source);
            return;
        }
        if (!this.isScanSource(source)) {
            this.showExtendedError(SCAN_SOURCE_VALIDATION_ERROR, source);
            return;
        }
        this._source$.next(source);
    }
    /**
     * Insert one or more downloaded scan result to the report.
     * @see https://api.copyleaks.com/documentation/v3/downloads/result
     * @param results one or more ResultItem object containing the result and the id of the result
     */
    pushScanResult(results) {
        results = [].concat(results);
        for (const { id, result } of results) {
            if (typeof id !== 'string') {
                throw new Error(`Argument "id" must be a string`);
            }
            if (result != null && !this.isScanResult(result)) {
                this.showExtendedError(SCAN_RESULT_VALIDATION_ERROR, result);
                return;
            }
        }
        this._results$.next(results);
    }
    /**
     * Change the progress percentage in the report manualy
     * @param progress an integer between 0 ~ 100
     */
    setProgress(progress) {
        this._progress$.next(progress);
    }
    /**
     * change the report's configuration
     * This function is used to sort the displayed results, you can add your own custom sort by overriding this function
     * @param previews the displayed results
     */
    sortScanResults(previews) {
        return previews.sort((a, b) => b.matchedWords - a.matchedWords);
    }
    /**
     * change the report's configuration
     * allows passing partial configuration that will be complemented by the default configuration
     * @param config the complete/partial configuration object
     */
    setConfig(config) {
        this._config$.next({ ...config });
    }
    /**
     * This method will cause the `destroy$` observable to emit
     */
    notifyDestroy() {
        this._destroy$.next();
        this.setFilteredResultsIds([], null);
    }
}
CopyleaksService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });
CopyleaksService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksService, decorators: [{
            type: Injectable
        }] });

class CopyleaksTranslateService {
    get translations() {
        return this._translations;
    }
    /**
     * set translations for report texts.
     * @param translations a list of results ids to be filtered.
     */
    setTranslations(translations) {
        this._translations = translations;
    }
}
CopyleaksTranslateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksTranslateService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });
CopyleaksTranslateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksTranslateService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksTranslateService, decorators: [{
            type: Injectable
        }] });

/** create a symbol identify the observable I add to
 * the component so it doesn't conflict with anything.
 * I need this so I'm able to add the desired behaviour to the component.
 */
const destroy$ = Symbol('destroy$');
/**
 * decorate `component`'s ngOnDestroy method and complete it before destroy
 * @internal
 */
const addDestroyObservableToComponent = (component) => {
    component[destroy$] = new Observable(observer => {
        // keep track of the original destroy function,
        // the user might do something in there
        const orignalDestroy = component.ngOnDestroy;
        if (orignalDestroy == null) {
            // Angular does not support dynamic added destroy methods
            // so make sure there is one.
            throw new Error('untilDestroy operator needs the component to have an ngOnDestroy method');
        }
        // replace the ngOndestroy
        component.ngOnDestroy = () => {
            // fire off the destroy observable
            observer.next();
            // complete the observable
            observer.complete();
            // and at last, call the original destroy
            orignalDestroy.call(component);
        };
        // return cleanup function.
        return (_) => (component[destroy$] = undefined);
    });
};
/**
 * An operator that takes until destroy it takes a components this a parameter
 * returns a pipeable RxJS operator.
 */
const untilDestroy = (component) => {
    if (component[destroy$] === undefined) {
        // only hookup each component once.
        addDestroyObservableToComponent(component);
    }
    // pipe in the takeUntil destroy$ and return the source unaltered
    return takeUntil(component[destroy$]);
};

var CompleteResultNotificationAlertSeverity;
(function (CompleteResultNotificationAlertSeverity) {
    CompleteResultNotificationAlertSeverity[CompleteResultNotificationAlertSeverity["VeryLow"] = 0] = "VeryLow";
    CompleteResultNotificationAlertSeverity[CompleteResultNotificationAlertSeverity["Low"] = 1] = "Low";
    CompleteResultNotificationAlertSeverity[CompleteResultNotificationAlertSeverity["Medium"] = 2] = "Medium";
    CompleteResultNotificationAlertSeverity[CompleteResultNotificationAlertSeverity["High"] = 3] = "High";
    CompleteResultNotificationAlertSeverity[CompleteResultNotificationAlertSeverity["VeryHigh"] = 4] = "VeryHigh";
})(CompleteResultNotificationAlertSeverity || (CompleteResultNotificationAlertSeverity = {}));
/** Enum representing the status of a scan */
var ScanStatus;
(function (ScanStatus) {
    ScanStatus[ScanStatus["Success"] = 0] = "Success";
    ScanStatus[ScanStatus["Error"] = 1] = "Error";
    ScanStatus[ScanStatus["CreditsChecked"] = 2] = "CreditsChecked";
    ScanStatus[ScanStatus["Indexed"] = 3] = "Indexed";
})(ScanStatus || (ScanStatus = {}));
/** result preview types  */
var EResultPreviewType;
(function (EResultPreviewType) {
    EResultPreviewType[EResultPreviewType["Batch"] = 0] = "Batch";
    EResultPreviewType[EResultPreviewType["Repositroy"] = 1] = "Repositroy";
    EResultPreviewType[EResultPreviewType["Internet"] = 2] = "Internet";
    EResultPreviewType[EResultPreviewType["Database"] = 3] = "Database";
})(EResultPreviewType || (EResultPreviewType = {}));
/** Enum representing the access of a result */
var ResultAccess;
(function (ResultAccess) {
    ResultAccess[ResultAccess["full"] = 0] = "full";
    ResultAccess[ResultAccess["locked"] = 1] = "locked";
})(ResultAccess || (ResultAccess = {}));

/** Enum representing reasons for exclusion */
var ExcludeReason;
(function (ExcludeReason) {
    ExcludeReason[ExcludeReason["Quotation"] = 1] = "Quotation";
    ExcludeReason[ExcludeReason["Reference"] = 2] = "Reference";
    ExcludeReason[ExcludeReason["Header"] = 3] = "Header";
    ExcludeReason[ExcludeReason["Footer"] = 4] = "Footer";
    ExcludeReason[ExcludeReason["HtmlTemplate"] = 5] = "HtmlTemplate";
    ExcludeReason[ExcludeReason["TableOfContent"] = 6] = "TableOfContent";
    ExcludeReason[ExcludeReason["CodeComments"] = 7] = "CodeComments";
    ExcludeReason[ExcludeReason["PartialScan"] = 8] = "PartialScan";
})(ExcludeReason || (ExcludeReason = {}));

/**
 * Enum of possible kinds of suspicion a match could have
 */
var MatchType;
(function (MatchType) {
    MatchType[MatchType["excluded"] = -1] = "excluded";
    MatchType[MatchType["identical"] = 0] = "identical";
    MatchType[MatchType["minorChanges"] = 1] = "minorChanges";
    MatchType[MatchType["relatedMeaning"] = 2] = "relatedMeaning";
    MatchType[MatchType["none"] = 3] = "none";
    // custom
    MatchType[MatchType["suspectedCharacterReplacement"] = 100] = "suspectedCharacterReplacement";
    // custom
    MatchType[MatchType["aiText"] = 101] = "aiText";
})(MatchType || (MatchType = {}));
/**
 * Enum of possible kinds of an endpoint could have
 */
var EndpointKind;
(function (EndpointKind) {
    EndpointKind[EndpointKind["start"] = 0] = "start";
    EndpointKind[EndpointKind["end"] = 1] = "end";
})(EndpointKind || (EndpointKind = {}));

var ECRPackageProducts;
(function (ECRPackageProducts) {
    ECRPackageProducts[ECRPackageProducts["plagiairsm"] = 0] = "plagiairsm";
    ECRPackageProducts[ECRPackageProducts["ai"] = 1] = "ai";
})(ECRPackageProducts || (ECRPackageProducts = {}));

/**
 * Higher order function that returns a function that extracts Match Intervals from a Result
 * @param type name of the match type to extract ( identical | minorChanges | relatedMeaning)
 * @param subject name of the subject to extract from ( source | suspected)
 */
const createWordIntervalsFrom = (type, subject) => ({ result }) => {
    if (!result) {
        return [];
    }
    const { starts, lengths } = result.text.comparison[type][subject].words;
    return starts.map((start, i) => ({
        start,
        end: start + lengths[i] + 1,
        type: MatchType[type],
    }));
};
/**
 * merge consecutive intervals based on start and end index
 * while prioritizing type ( lower is better )
 * this function assumes all intervals are non-distinct (has no gaps)
 */
const mergeWordIntervals = (matches) => matches.reduce((joined, next) => {
    if (joined.length === 0) {
        joined.push(next);
        return joined;
    }
    const prev = joined[joined.length - 1];
    // equal points
    // [---p---]
    // [---n---]
    if (prev.end === next.end && prev.start === next.start) {
        if (next.type < prev.type) {
            joined[joined.length - 1] = { ...prev, type: next.type };
        }
    }
    // same start inclusion
    // [---p---]  or
    // [--n--]
    else if (next.start === prev.start && next.end < prev.end) {
        if (next.type < prev.type) {
            joined[joined.length - 1] = next;
            joined.push({ ...prev, start: next.start });
        }
    }
    // same end inclusion
    // [---p---]
    // 	[--n--]
    else if (prev.end === next.end && prev.start < next.start) {
        if (next.type < prev.type) {
            joined[joined.length - 1] = { ...prev, end: next.start };
            joined.push(next);
        }
    }
    // complete inclusion
    // [---p---]
    // [--n--]
    else if (prev.start < next.start && next.end < prev.end) {
        if (next.type < prev.type) {
            joined[joined.length - 1] = { ...prev, end: next.start };
            joined.push(next);
            joined.push({ ...prev, start: next.end });
        }
    }
    // intersecting or adjacent
    // [---p---]      or [---p---]
    //     [---n---]              [---n---]
    else if (next.start > prev.start && next.end > prev.end) {
        if (next.type === prev.type) {
            joined[joined.length - 1] = { ...prev, end: next.end };
        }
        else if (next.type < prev.type) {
            joined[joined.length - 1] = { ...prev, end: next.start };
            joined.push(next);
        }
        else if (next.type > prev.type) {
            joined.push({ ...next, start: prev.end });
        }
    }
    // same start
    // [--p--]
    // [---n---]
    else if (prev.start === next.start && prev.end < next.end) {
        if (next.type <= prev.type) {
            joined[joined.length - 1] = next;
        }
        else {
            joined.push({ ...next, start: prev.end });
        }
    }
    else {
        joined.push(next);
    }
    return joined;
}, []);
/**
 * split an array of matches into nests where each nest is distinct and nested items are all overlapped
 * @param matches the matches to split
 */
const findNests$1 = (matches) => {
    if (matches.length === 0) {
        return [[]];
    }
    matches.sort((a, b) => a.start - b.start || a.end - b.end || a.type - b.type);
    const nests = [[matches[0]]];
    let nestFurthestEnd = matches[0].end;
    for (const interval of matches) {
        if (interval.start > nestFurthestEnd) {
            nests.push([interval]);
            nestFurthestEnd = interval.end;
        }
        else {
            nests[nests.length - 1].push(interval);
            nestFurthestEnd = Math.max(nestFurthestEnd, interval.end);
        }
    }
    return nests;
};
/**
 * merge overlapping matches in a list of matches
 * @param matches the list of matches
 */
const mergeWords = (matches) => {
    return findNests$1(matches).reduce((all, nest) => all.concat(mergeWordIntervals(nest)), []);
};
/**
 * calculate statistics using the scan's `completeResult` and a list of `results`
 * @param completeResult the report's complete result
 * @param results the results to calculate statistics from
 */
const calculateStatistics = (completeResult, results, options) => {
    const { totalWords, totalExcluded } = completeResult.scannedDocument;
    const identical = options.showIdentical ? results.flatMap(createWordIntervalsFrom('identical', 'source')) : [];
    const minorChanges = options.showMinorChanges
        ? results.flatMap(createWordIntervalsFrom('minorChanges', 'source'))
        : [];
    const relatedMeaning = options.showRelated
        ? results.flatMap(createWordIntervalsFrom('relatedMeaning', 'source'))
        : [];
    const withOutoverlaps = mergeWords([...relatedMeaning, ...minorChanges, ...identical]);
    const identicalCount = withOutoverlaps
        .filter(match => match.type === MatchType.identical)
        .reduce((total, elem) => total + (elem.end - elem.start), 0);
    const minorChangesCount = withOutoverlaps
        .filter(match => match.type === MatchType.minorChanges)
        .reduce((total, elem) => total + (elem.end - elem.start), 0);
    const relatedMeaningCount = withOutoverlaps
        .filter(match => match.type === MatchType.relatedMeaning)
        .reduce((total, elem) => total + (elem.end - elem.start), 0);
    let aggregatedScore = Math.min(1, (identicalCount + relatedMeaningCount + minorChangesCount) / (totalWords - totalExcluded));
    aggregatedScore = isNaN(aggregatedScore) ? 0 : aggregatedScore;
    return {
        aggregatedScore,
        identical: identicalCount,
        relatedMeaning: relatedMeaningCount,
        minorChanges: minorChangesCount,
        omittedWords: totalExcluded,
        total: totalWords,
    };
};

/**
 * An rxjs operator that filters any value that is evaluated to true.
 */
const truthy = () => filter(value => !!value);
/**
 * An rxjs operator that filters any value that is evaluated to false.
 */
const falsey = () => filter(value => !value);
/**
 * An rxjs operator that filters any array that has one or more elements.
 */
const notEmpty = () => filter(value => !!value.length);
/**
 * An rxjs operator that will accumulate items to an array
 */
const accumulate = () => scan((acc, curr) => acc.concat(curr), []);
/**
 * An rxjs operator that will filter deeply equal sequential items
 */
const distinct = () => distinctUntilChanged(deepEqual);

/**
 * @todo implement saving options localstorage
 */
class ReportService {
    constructor(copyleaksService) {
        this.copyleaksService = copyleaksService;
        // * scans API items
        this._completeResult = new BehaviorSubject(null);
        this._source = new BehaviorSubject(null);
        this._previews = new BehaviorSubject(null);
        this._results = new BehaviorSubject([]);
        // * optional total result
        this._totalResults = new BehaviorSubject(null);
        // * configurable state
        this._config = new BehaviorSubject({ ...DEFAULT_REPORT_CONFIG });
        this._progress = new BehaviorSubject(null);
        this._hiddenResults = new BehaviorSubject([]);
        // * Event emitters
        this._helpClick = new Subject();
        this._shareClick = new Subject();
        this._downloadClick = new Subject();
        this._planUpgradeEvent = new Subject();
        this._configChange = new Subject();
        this.completeResult$ = this._completeResult.asObservable().pipe(truthy());
        this.totalResults$ = this._totalResults.asObservable();
        this.source$ = this._source.asObservable().pipe(truthy(), take(1));
        this.progress$ = this._progress.asObservable();
        /** config observable */
        this.config$ = this._config.asObservable();
        /** sub config observeables */
        this.contentMode$ = this.config$.pipe(map(x => x.contentMode));
        this.viewMode$ = this.config$.pipe(map(x => x.viewMode));
        this.viewMode = this._config.value.viewMode;
        this.suspectId$ = this.config$.pipe(map(x => x.suspectId));
        this.help$ = this.config$.pipe(map(x => x.help));
        this.download$ = this.config$.pipe(map(x => x.download));
        this.settings$ = this.config$.pipe(map(x => x.settings));
        this.share$ = this.config$.pipe(map(x => x.share));
        this.options$ = this.config$.pipe(map(x => x.options));
        this.resultCardActions$ = this.config$.pipe(map(x => x.resultCardActions));
        this.onlyOneToOne$ = this.config$.pipe(map(x => x.disableSuspectBackButton));
        this.sourcePage$ = this.config$.pipe(map(x => x.sourcePage));
        this.suspectPage$ = this.config$.pipe(map(x => x.suspectPage));
        this.suspectResult$ = this.suspectId$.pipe(switchMap(id => (id ? this.findResultById$(id) : of(null))));
        this.suspectPreview$ = this.suspectId$.pipe(switchMap(id => (id ? this.findPreviewById$(id) : of(null))));
        this.hiddenResults$ = this._hiddenResults.asObservable().pipe(distinctUntilChanged());
        this.results$ = this._results.asObservable().pipe(truthy());
        this.previews$ = this._previews.asObservable().pipe(truthy());
        this.filteredPreviews$ = combineLatest([this.previews$, this.hiddenResults$]).pipe(map(([results, ids]) => results.filter(result => !ids.includes(result.id))));
        this.filteredResults$ = combineLatest([this.results$, this.hiddenResults$]).pipe(map(([results, ids]) => results.filter(result => !ids.includes(result.id))));
        this.helpClick$ = this._helpClick.asObservable();
        this.downloadClick$ = this._downloadClick.asObservable();
        this.planUpgradeEvent$ = this._planUpgradeEvent.asObservable();
        this.shareClick$ = this._shareClick.asObservable();
        this.configChange$ = this._configChange.asObservable();
        const { onCompleteResult$, onResultPreview$, onProgress$, onResultItems$, onScanSource$, onReportConfig$, filteredResultsIds$, onTotalResultsChange$, onDeleteResultById$, onDeleteProccessFinish$, } = copyleaksService;
        onCompleteResult$.pipe(untilDestroy(this)).subscribe(completeResult => this.setCompleteResult(completeResult));
        onResultPreview$.pipe(untilDestroy(this)).subscribe(preview => this.addPreview(preview));
        onProgress$.pipe(untilDestroy(this)).subscribe(progress => this.setProgress(progress));
        onTotalResultsChange$.pipe(untilDestroy(this)).subscribe(totalResults => this.setTotalResults(totalResults));
        onResultItems$.pipe(untilDestroy(this)).subscribe(resultItem => this.addDownloadedResults(resultItem));
        onScanSource$.pipe(untilDestroy(this)).subscribe(source => this.setSource(source));
        onReportConfig$.pipe(untilDestroy(this)).subscribe(config => this.configure(config));
        this.config$.pipe(untilDestroy(this)).subscribe(config => this._configChange.next(config));
        combineLatest([this.source$, this.completeResult$])
            .pipe(untilDestroy(this), take(1))
            .subscribe(() => this._progress.next(100));
        filteredResultsIds$
            .pipe(untilDestroy(this), distinctUntilChanged())
            .subscribe(ids => this._hiddenResults.next(ids));
        onDeleteResultById$.pipe(untilDestroy(this)).subscribe(id => {
            const currentCompleteResult = this._completeResult.value;
            const statistics = calculateStatistics(currentCompleteResult, this._results.value.filter(r => r.id !== id), {
                showIdentical: true,
                showMinorChanges: true,
                showPageSources: true,
                showOnlyTopResults: false,
                showRelated: true,
            });
            this.setCompleteResult({
                ...currentCompleteResult,
                scannedDocument: {
                    ...currentCompleteResult.scannedDocument,
                    totalWords: statistics.total,
                    totalExcluded: statistics.omittedWords,
                },
                results: {
                    ...currentCompleteResult.results,
                    batch: currentCompleteResult.results.batch.filter(r => r.id !== id),
                    internet: currentCompleteResult.results.internet.filter(r => r.id !== id),
                    database: currentCompleteResult.results.database.filter(r => r.id !== id),
                    repositories: currentCompleteResult.results.repositories?.filter(r => r.id !== id),
                    score: {
                        ...currentCompleteResult.results.score,
                        aggregatedScore: statistics.aggregatedScore,
                        identicalWords: statistics.identical,
                        relatedMeaningWords: statistics.relatedMeaning,
                        minorChangedWords: statistics.minorChanges,
                    },
                },
            });
            this._results.next(this._results.value.filter(r => r.id !== id));
            onDeleteProccessFinish$.next(this._completeResult.value);
        });
    }
    /**
     * Get an observable of some result by id
     * The observable completes after emitting the result
     * @param id the result id
     */
    findResultById$(id) {
        return this.results$.pipe(map(results => results.find(res => res.id === id)), truthy(), take(1));
    }
    /**
     * Get an observable of some preview by id
     * The observable completes after emitting the result
     * @param id the preview id
     */
    findPreviewById$(id) {
        return this._previews.pipe(truthy(), map(preview => preview.find(res => res.id === id)), take(1));
    }
    /**
     * Pushes a new complete result that contains the report `metadata` and updates the metadata observer.
     * @param completeResult the complete result object
     */
    setCompleteResult(completeResult) {
        const { internet, database, batch, repositories } = completeResult.results;
        const previews = [
            ...(repositories && repositories.length
                ? repositories.map(r => ({ ...r, type: EResultPreviewType.Repositroy }))
                : []),
            ...internet.map(r => ({ ...r, type: EResultPreviewType.Internet })),
            ...database.map(r => ({ ...r, type: EResultPreviewType.Database })),
            ...batch.map(r => ({ ...r, type: EResultPreviewType.Batch })),
        ];
        previews.sort((a, b) => a.matchedWords - b.matchedWords).forEach(preview => this.addPreview(preview));
        this._previews.next(previews);
        if (!completeResult.scannedDocument.creationTime.endsWith('Z')) {
            completeResult.scannedDocument.creationTime += 'Z';
        }
        if (completeResult.filters && completeResult.filters.resultIds) {
            this.setHiddenResults(completeResult.filters.resultIds);
        }
        this._completeResult.next(completeResult);
    }
    /**
     * set the total results observer
     * @param totalResults the total results amount
     */
    setTotalResults(totalResults) {
        this._totalResults.next(totalResults);
    }
    /**
     * Pushes a new scan `source` to the source observer
     * @param source the scanned document source
     */
    setSource(source) {
        this._source.next(source);
        /** Switch to text in case no html exists */
        if (source && (!source.html || !source.html.value) && this._config.value.contentMode === 'html') {
            this.configure({ contentMode: 'text' });
        }
    }
    /**
     * Pushes a new number to the `progress` observer
     * Should be a positive integer between 0 and 100;
     * if `progress` is equal to 100 then the progress observer will complete.
     * (This behaviour might change in the future)
     * @param progress the progress to display
     */
    setProgress(progress) {
        this._progress.next(progress);
    }
    /**
     * Pushes a new list of `ids` to the hidden results observer
     * @param ids the ids to hide
     */
    setHiddenResults(ids) {
        const currentCompleteResult = this._completeResult?.value;
        let aggregatedScore = null;
        if (currentCompleteResult) {
            const statistics = calculateStatistics(currentCompleteResult, this._results.value.filter(r => !ids.includes(r.id)), {
                showIdentical: true,
                showMinorChanges: true,
                showPageSources: true,
                showOnlyTopResults: false,
                showRelated: true,
            });
            aggregatedScore = statistics.aggregatedScore;
        }
        this.copyleaksService.setFilteredResultsIds(ids, aggregatedScore);
    }
    /**
     * Pushes a new `event` to the help-click observer, indicating the help button was clicked
     * @param event native click event
     */
    helpBtnClicked(event) {
        this._helpClick.next(event);
    }
    /**
     * Pushes a new `event` to the share-click observer, indicating the share button was clicked
     * @param event native click event
     */
    shareBtnClicked(event) {
        this._shareClick.next(event);
    }
    /**
     * Pushes a new `event` to the download-click observer, indicating the download button was clicked
     * @param event native click event
     */
    downloadBtnClicked(event) {
        this._downloadClick.next(event);
    }
    /**
     * Pushes a new `event` to the plan-upgrade event observer, indicating the plan-upgrade event button was clicked
     */
    upgradePlanEvent() {
        const completeResult = this._completeResult?.value;
        let recommendedPagesAmount = completeResult.scannedDocument?.credits;
        if (completeResult?.scannedDocument?.expectedCredits) {
            recommendedPagesAmount =
                completeResult?.scannedDocument?.expectedCredits - completeResult.scannedDocument?.credits;
        }
        this._planUpgradeEvent.next(recommendedPagesAmount);
    }
    /**
     * Push a new `preview` of a result to the previews observer
     * This function does nothing if the complete result is ready
     * or if the preview was allready pushed
     * @param preview the preview to push next
     */
    addPreview(preview) {
        if (!this._completeResult.value && !(this._previews.value || []).find(p => p.id === preview.id)) {
            this._previews.next([...(this._previews.value || []), preview]);
        }
    }
    /**
     * Pushes an array of new `result`s to the results observable
     * @param resultItems an array containing resultItem elements
     */
    addDownloadedResults(resultItems) {
        const newItems = resultItems.filter(res => !this._results.value.find(x => x.id === res.id));
        if (newItems.length) {
            this._results.next([...this._results.value, ...newItems]);
        }
    }
    /**
     * Edit the current state of the report using either a full or partial configuration object
     * @param config the configuration object
     */
    configure(config) {
        this._config.next(Object.assign(this._config.value, config));
    }
    hasNonAIAlerts() {
        const completeResult = this._completeResult.value;
        if (completeResult?.notifications?.alerts?.filter(s => s.code != ALERTS.SUSPECTED_AI_TEXT_DETECTED).length > 0) {
            return true;
        }
        return false;
    }
    isPlagiarismEnabled() {
        const completeResult = this._completeResult.value;
        if (completeResult) {
            if (completeResult?.scannedDocument?.enabled?.plagiarismDetection != null)
                return completeResult?.scannedDocument?.enabled?.plagiarismDetection;
        }
        return true;
    }
    isAiDetectionEnabled() {
        const completeResult = this._completeResult.value;
        if (completeResult) {
            if (completeResult?.scannedDocument?.enabled?.aiDetection)
                return true;
            return (completeResult?.notifications?.alerts?.length &&
                completeResult?.notifications?.alerts.filter(alert => alert.code == ALERTS.SUSPECTED_AI_TEXT_DETECTED).length ==
                    1);
        }
        return false;
    }
    getAiScore() {
        if (this.isAiDetectionEnabled()) {
            const completeResult = this._completeResult.value;
            const aiAlert = completeResult.notifications.alerts.find(alert => alert.code == ALERTS.SUSPECTED_AI_TEXT_DETECTED);
            if (aiAlert) {
                const aiData = JSON.parse(aiAlert.additionalData);
                return aiData.summary.ai;
            }
            return 0;
        }
        return null;
    }
    /** Completes all subjects to prevent memory leak */
    cleanup() {
        this._config.complete();
        this._completeResult.complete();
        this._source.complete();
        this._previews.complete();
        this._results.complete();
        this._progress.complete();
        this._totalResults.complete();
        this._hiddenResults.complete();
        this._downloadClick.complete();
        this._shareClick.complete();
        this._configChange.complete();
    }
    /** Clean all subjects and notify that the report has been destroyed */
    ngOnDestroy() {
        this.cleanup();
        this.copyleaksService.notifyDestroy();
    }
}
ReportService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ReportService, deps: [{ token: CopyleaksService }], target: i0.ɵɵFactoryTarget.Injectable });
ReportService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ReportService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ReportService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: CopyleaksService }]; } });

class StatisticsService {
    constructor(reportService) {
        this._statistics = new BehaviorSubject(undefined);
        this.statistics$ = this._statistics.asObservable().pipe(distinct());
        const { completeResult$, results$, viewMode$, filteredResults$, suspectResult$: suspect$, options$, } = reportService;
        combineLatest([completeResult$, suspect$, options$, viewMode$])
            .pipe(untilDestroy(this), filter(([, suspect, , viewMode]) => viewMode === 'one-to-one' && !!suspect))
            .subscribe(([completeResult, suspect, options]) => this.retreiveOneToOneStatistics(completeResult, suspect, options));
        combineLatest([completeResult$, results$, filteredResults$, options$, viewMode$])
            .pipe(untilDestroy(this), filter(([, , , , viewMode]) => viewMode === 'one-to-many'))
            .subscribe(([completeResult, results, filteredResults, options]) => {
            this.retreieveOneToManyStatistics(completeResult, results, filteredResults, options);
        });
    }
    /**
     * Retreive statistics for a one-to-one comparison using the complete result, suspect, and report options
     * @param completeResult The complete result - contains the count of total words and excluded words in the document
     * @param suspect the currently viewed suspect Result
     * @param options the current report options
     */
    retreiveOneToOneStatistics(completeResult, suspect, options) {
        this._statistics.next({
            identical: options.showIdentical ? suspect.result.statistics.identical : 0,
            relatedMeaning: options.showRelated ? suspect.result.statistics.relatedMeaning : 0,
            minorChanges: options.showMinorChanges ? suspect.result.statistics.minorChanges : 0,
            omittedWords: completeResult.scannedDocument.totalExcluded,
            total: completeResult.scannedDocument.totalWords,
        });
    }
    /**
     * Retreive statistics for a one-to-many comparison using the complete result, results,filtered results, and report options
     * @param completeResult the complete result
     * @param results list of result items containing all the results from the current scan
     * @param filteredResults list of results filtered by user settings, will be the same as `results` when no filter applied
     * @param options the current report options
     */
    retreieveOneToManyStatistics(completeResult, results, filteredResults, options) {
        const totalResults = (completeResult.results.repositories && completeResult.results.repositories.length
            ? completeResult.results.repositories.length
            : 0) +
            completeResult.results.batch.length +
            completeResult.results.internet.length +
            completeResult.results.database.length;
        const showAll = options.showIdentical && options.showMinorChanges && options.showRelated;
        const missingAggregated = totalResults !== 0 && completeResult.results.score.aggregatedScore === 0;
        let stats;
        if ((!completeResult.filters || !completeResult.filters.resultIds || !completeResult.filters.resultIds.length) &&
            (results.length !== totalResults || (totalResults === filteredResults.length && showAll && !missingAggregated))) {
            // * if results are still loading  or no results are fitlered while all match types are visible
            // * we can use the complete result stats without heavy calculations
            stats = {
                identical: completeResult.results.score.identicalWords,
                relatedMeaning: completeResult.results.score.relatedMeaningWords,
                minorChanges: completeResult.results.score.minorChangedWords,
                omittedWords: completeResult.scannedDocument.totalExcluded,
                total: completeResult.scannedDocument.totalWords,
            };
        }
        else {
            stats = calculateStatistics(completeResult, filteredResults, options);
        }
        this._statistics.next(stats);
    }
    /** dtor */
    ngOnDestroy() {
        this._statistics.complete();
    }
}
StatisticsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: StatisticsService, deps: [{ token: ReportService }], target: i0.ɵɵFactoryTarget.Injectable });
StatisticsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: StatisticsService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: StatisticsService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: ReportService }]; } });

var version = "4.1.28";
var packageInfo = {
	version: version
};

/**
 * Find the respective match for a given match directive element containing a match object
 * If the match is from the source, the return value will contain the source index first, and
 * then the suspect's index, and vice versa.
 * @param match the match directive element
 * @param result the suspect currently viewed
 * @param isSource whether the match comes from the source
 * @returns pair of indices.
 */
const findRespectiveMatch = (match, comparisons, isSource = true) => {
    const { type, start } = match;
    const { source: original, suspected: suspect } = comparisons[MatchType[type]];
    const [source, target] = isSource ? [original, suspect] : [suspect, original];
    const index = source.chars.starts.findIndex((s, i) => s <= start && start <= s + source.chars.lengths[i]);
    return [source.chars.starts[index], target.chars.starts[index]];
};
/**
 * Calculates the page number of where the start position should be
 * @param start the start position
 * @param pages array of start positions
 */
const findRespectivePage = (start, pages) => {
    let page;
    for (page = 1; page < pages.length; page++) {
        if (start < pages[page]) {
            break;
        }
    }
    return page;
};
/**
 * Search source for a match containing the given match's start position and return that match's start position
 * @param start the match to look for
 * @param source the scan source object.
 */
const findPartialMatch = (match, suspect) => {
    const { start, end } = match;
    const { identical, minorChanges, relatedMeaning } = suspect;
    for (const comparison of [identical, minorChanges, relatedMeaning]) {
        if (!comparison) {
            continue;
        }
        const { source } = comparison;
        const found = source.chars.starts.find((s, i) => s <= start && end <= s + source.chars.lengths[i]);
        if (found !== undefined) {
            return found;
        }
    }
};
/**
 * Locate the index of the next page that contains some match
 * @param matches the matches to look up in
 * @param current the index of the current page
 */
const findNextPageWithMatch = (matches, current) => {
    for (let i = current; i < matches.length; i++) {
        if (matches[i].some(({ match }) => match.type !== MatchType.none && match.type !== MatchType.excluded)) {
            return i + 1;
        }
    }
    return current;
};
/**
 * Locate the index of the previouse page that contains some match
 * @param matches the current active matches
 * @param current the index of the current match
 */
const findPrevPageWithMatch = (matches, current) => {
    for (let i = current - 2; i >= 0; i--) {
        if (matches[i].some(match => match.match.type !== MatchType.none)) {
            return i + 1;
        }
    }
    return current;
};
/**
 * Mark/Unmark the next match component based on the previously marked component
 * @param prev the previously marked/unmarked match
 * @param next the match to mark/unmark next
 * @returns `true` if the match is eventualy highlighted
 */
const onTextMatchChange = ([prev, next]) => {
    if (next) {
        if (prev && prev !== next) {
            prev.focused = false;
        }
        next.focused = !next.focused;
    }
    else {
        if (prev) {
            prev.focused = false;
        }
    }
};

class HighlightService {
    constructor(reportService) {
        this.reportService = reportService;
        this._originalText = new BehaviorSubject(null);
        this._sourceText = new BehaviorSubject(null);
        this._suspectText = new BehaviorSubject(null);
        this._originalHtml = new BehaviorSubject(null);
        this._sourceHtml = new BehaviorSubject(null);
        this._suspectHtml = new BehaviorSubject(null);
        this._textMatchClick = new Subject();
        this._htmlMatchClick = new Subject();
        this._jump = new Subject();
        this._clear = new Subject();
        this.textMatchClick$.pipe(untilDestroy(this)).subscribe(event => {
            switch (event.origin) {
                case 'original':
                    this.setOriginalTextMatch(event.elem);
                    break;
                case 'source':
                    this.setSourceTextMatch(event.elem);
                    break;
                case 'suspect':
                    this.setSuspectTextMatch(event.elem);
                    break;
            }
        });
    }
    get jump$() {
        return this._jump.asObservable();
    }
    get clear$() {
        return this._clear.asObservable();
    }
    get oneToManyTextMatchClick$() {
        return this.textMatchClick$.pipe(filter(ev => ev.origin === 'original'));
    }
    get oneToOneTextMatchClick$() {
        return this.textMatchClick$.pipe(filter(ev => ev.origin === 'source' || ev.origin === 'suspect'));
    }
    get oneToManyHtmlMatchClick$() {
        return this._htmlMatchClick.asObservable().pipe(withLatestFrom(this.reportService.viewMode$), filter(([, mode]) => mode === 'one-to-many'), map(([event]) => event));
    }
    get oneToOneHtmlMatchClick$() {
        return this._htmlMatchClick.asObservable().pipe(withLatestFrom(this.reportService.viewMode$), filter(([, mode]) => mode === 'one-to-one'), map(([event]) => event));
    }
    get originalText$() {
        return this._originalText.asObservable();
    }
    get sourceText$() {
        return this._sourceText.asObservable();
    }
    get suspectText$() {
        return this._suspectText.asObservable();
    }
    get originalHtml$() {
        return this._originalHtml.asObservable();
    }
    get sourceHtml$() {
        return this._sourceHtml.asObservable();
    }
    get suspectHtml$() {
        return this._suspectHtml.asObservable();
    }
    get textMatchClick$() {
        return this._textMatchClick.asObservable();
    }
    /**
     * Clear the currently selected matches
     * @param mode the mode to clear, leave empty for both
     */
    clear(mode) {
        if (!mode || mode === 'html') {
            this.textMatchClicked({ elem: null, broadcast: false, origin: 'original' });
            this.textMatchClicked({ elem: null, broadcast: false, origin: 'source' });
            this.textMatchClicked({ elem: null, broadcast: false, origin: 'suspect' });
        }
        if (!mode || mode === 'text') {
            this.htmlMatchClicked(null, true);
            this.htmlMatchClicked(null, false);
        }
    }
    /**
     * Pushes a new `TextMatchClickEvent` to the text match click observer
     * @param event The match component that was clicked
     */
    textMatchClicked(event) {
        this._textMatchClick.next(event);
    }
    /**
     * Pushes a new `HtmlMatchClickEvent` to the html match click observer
     * @param match the match data of the clicked element
     * @param isSource `true` if the match comes from the `source` and `false` if it comes from the `suspect`
     */
    htmlMatchClicked(match, isSource) {
        this._htmlMatchClick.next({ match, isSource, broadcast: true });
    }
    /**
     * Pushes the match that should be marked to the original text match observer
     * This will mark/unmark the text match in the original component while in `one-to-many` view mode
     * @param match The match to mark/unmark
     */
    setOriginalTextMatch(next) {
        const prev = this._originalText.value;
        if (prev === next) {
            next = null;
        }
        setTimeout(() => {
            onTextMatchChange([prev, next]);
        });
        this._originalText.next(next);
    }
    /**
     * Pushes the match that should be marked to the source text match observer
     * This will mark/unmark the text match in the original component while in `one-to-one` view mode
     * @param match The match to mark/unmark
     */
    setSourceTextMatch(next) {
        const prev = this._sourceText.value;
        if (prev === next) {
            next = null;
        }
        setTimeout(() => {
            onTextMatchChange([prev, next]);
        });
        this._sourceText.next(next);
    }
    /**
     * Pushes the match that should be marked to the suspect text match observer
     * This will mark/unmark the text match in the suspect component while in `one-to-one` view mode
     * @param next The match to mark/unmark
     */
    setSuspectTextMatch(next) {
        const prev = this._suspectText.value;
        if (prev === next) {
            next = null;
        }
        setTimeout(() => {
            onTextMatchChange([prev, next]);
        });
        this._suspectText.next(next);
    }
    /**
     * Pushes the match that should be marked to the original html match observer
     * This will mark/unmark the html match in the original component while in `one-to-many` view mode
     * @param match The match to mark/unmark
     */
    setOriginalHtmlMatch(match) {
        this._originalHtml.next(match);
    }
    /**
     * Pushes the match that should be marked to the source html match observer
     * This will mark/unmark the html match in the original component while in `one-to-one` view mode
     * @param match The match to mark/unmark
     */
    setSourceHtmlMatch(match) {
        this._sourceHtml.next(match);
    }
    /**
     * Pushes the match that should be marked to the suspect html match observer
     * This will mark/unmark the html match in the suspect component while in `one-to-one` view mode
     * @param match The match to mark/unmark
     */
    setSuspectHtmlMatch(match) {
        this._suspectHtml.next(match);
    }
    /**
     * clear all selected matches
     */
    clearAllMatchs() {
        this.setOriginalTextMatch(null);
        this.setSuspectTextMatch(null);
        this.setOriginalHtmlMatch(null);
        this.setSourceHtmlMatch(null);
        this.setSuspectHtmlMatch(null);
        this.setSourceTextMatch(null);
    }
    /**
     * Push a new jump event to the jump observer
     *
     * @param next `true` to jump to the next match and `false` to jump to the previous match
     */
    jump(next) {
        this._jump.next(next);
    }
    /** dtor */
    ngOnDestroy() {
        this._originalText.complete();
        this._sourceText.complete();
        this._suspectText.complete();
        this._originalHtml.complete();
        this._sourceHtml.complete();
        this._suspectHtml.complete();
        this._jump.complete();
        this._textMatchClick.complete();
        this._htmlMatchClick.complete();
        this._jump.complete();
        this._clear.complete();
    }
}
HighlightService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: HighlightService, deps: [{ token: ReportService }], target: i0.ɵɵFactoryTarget.Injectable });
HighlightService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: HighlightService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: HighlightService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: ReportService }]; } });

var EMatchClassification;
(function (EMatchClassification) {
    EMatchClassification[EMatchClassification["Unknown"] = 0] = "Unknown";
    EMatchClassification[EMatchClassification["Human"] = 1] = "Human";
    EMatchClassification[EMatchClassification["AI"] = 2] = "AI";
    EMatchClassification[EMatchClassification["SameWriter"] = 3] = "SameWriter";
    EMatchClassification[EMatchClassification["AnotherWriter"] = 4] = "AnotherWriter";
})(EMatchClassification || (EMatchClassification = {}));

/** A reduce function to extrace `MatchEndpoint`s */
const extractMatchEndpoints = (acc, curr) => {
    acc.push({
        index: curr.start,
        type: curr.type,
        kind: EndpointKind.start,
        ids: [...curr.ids],
        gid: curr.gid,
        reason: curr.reason,
    });
    acc.push({
        index: curr.end,
        type: curr.type,
        kind: EndpointKind.end,
        ids: [...curr.ids],
        gid: curr.gid,
        reason: curr.reason,
    });
    return acc;
};
/**
 * Takes a list of matches and push the missing gaps as matches with type of MatchType.none
 */
const fillMissingGaps = (intervals, length) => {
    let start = 0;
    const end = length;
    if (intervals.length === 0) {
        return [{ start, end, type: MatchType.none }];
    }
    for (let i = 0; i < intervals.length; i++) {
        const current = intervals[i];
        if (start < current.start) {
            intervals.splice(i, 0, { start, end: current.start, type: MatchType.none });
            i++;
        }
        start = current.end;
    }
    const last = intervals[intervals.length - 1];
    if (intervals[intervals.length - 1].end < end) {
        intervals.push({ start: last.end || 0, end, type: MatchType.none });
    }
    return intervals;
};
/**
 * divide a list of `matches` into nests of none distinct ranges
 * @param matches the base `matches` to process
 */
const findNests = (matches) => {
    if (matches.length === 0) {
        return [];
    }
    matches.sort((a, b) => a.start - b.start || a.end - b.end || a.type - b.type);
    const nests = [[matches[0]]];
    let nestFurthestEnd = matches[0].end;
    let nestFurthestReason = matches[0].reason;
    for (const interval of matches.slice(1)) {
        if (interval.start > nestFurthestEnd ||
            (interval.start === nestFurthestEnd && interval.reason !== nestFurthestReason)) {
            nests.push([interval]);
            nestFurthestEnd = interval.end;
        }
        else {
            nests[nests.length - 1].push(interval);
            nestFurthestEnd = Math.max(nestFurthestEnd, interval.end);
        }
        nestFurthestReason = interval.reason;
    }
    return nests;
};
/**
 * merge the overlapping ranges (matches) within a list of none distinct ranges
 * preserving the match ids and deciding the match type based on priority
 * @param matches the matches to merge - should not include distinct ranges (gaps)
 */
const mergeMatchesInNest = (matches) => {
    const uniqueMatches = matches.slice(1).reduce((prev, curr) => {
        const last = prev[prev.length - 1];
        if (last.start === curr.start && last.end === curr.end) {
            last.type = Math.min(last.type, curr.type);
            if (last.ids.indexOf(curr.ids[0]) === -1) {
                last.ids.push(curr.ids[0]);
            }
        }
        else {
            prev.push(curr);
        }
        return prev;
    }, [matches[0]]);
    const endpoints = uniqueMatches
        .reduce(extractMatchEndpoints, [])
        .sort((a, b) => a.index - b.index || b.kind - a.kind);
    const subMatches = [];
    const idMap = {};
    const types = [0, 0, 0, 0];
    let start;
    for (const { index, type, ids, kind, gid, reason } of endpoints) {
        if (kind === EndpointKind.start) {
            if (start !== undefined) {
                if (index !== start) {
                    const participatingIds = Object.entries(idMap)
                        .filter(([, value]) => value > 0)
                        .map(([key]) => key);
                    subMatches.push({
                        start,
                        end: index,
                        type: types.findIndex(x => x > 0),
                        ids: participatingIds,
                        gid,
                        reason,
                    });
                }
            }
            ids.forEach(id => (idMap[id] = (idMap[id] || 0) + 1));
            types[type]++;
            start = index;
        }
        if (kind === EndpointKind.end) {
            if (index !== start) {
                const participatingIds = Object.entries(idMap)
                    .filter(([, value]) => value > 0)
                    .map(([key]) => key);
                subMatches.push({ start, end: index, type: types.findIndex(x => x > 0), ids: participatingIds, gid, reason });
            }
            ids.forEach(id => (idMap[id] = (idMap[id] || 0) - 1));
            types[type]--;
            start = Object.entries(idMap).filter(([, value]) => value > 0).length === 0 ? undefined : index;
        }
    }
    const result = subMatches.slice(1).reduce((prev, curr) => {
        const last = prev[prev.length - 1];
        if (last.type === curr.type && curr.ids.sort().join(',') === last.ids.sort().join(',')) {
            last.end = curr.end;
        }
        else {
            prev.push(curr);
        }
        return prev;
    }, [subMatches[0]]);
    return result;
};
/**
 * merge a list of matches , removing overlaps while preserving the match attributes
 * @param matches the list of matches
 */
const mergeMatches = (matches) => {
    const nests = findNests(matches);
    const merged = nests.reduce((prev, nest) => {
        const joined = mergeMatchesInNest(nest);
        return prev.concat(joined);
    }, []);
    return merged;
};
/**
 * split `content` according to the given `matches` the result should contain a list of matches
 * for every page according to `pages`
 * @param content a string representing scan **text** or **html**
 * @param pages an array where every element is a start position of a page
 * @param matches `matches` containing the data to slice the `content`
 */
const paginateMatches = (content, pages, matches) => {
    const result = [[]];
    let page = 0;
    for (let match of matches) {
        if (match.start >= pages[page + 1]) {
            page++;
            result[page] = [];
        }
        if (match.end < pages[page + 1]) {
            result[page].push({ content: content.slice(match.start, match.end), match });
        }
        else {
            while (match.end > pages[page + 1]) {
                const complement = { ...match, start: pages[page + 1] };
                match.end = pages[page + 1] - 1;
                result[page].push({ content: content.slice(match.start, match.end), match });
                match = complement;
                page++;
                result[page] = [];
            }
            result[page].push({ content: content.slice(match.start, match.end), match });
        }
    }
    return result;
};
/**
 * Higher order function that returns a function that extracts Match Intervals from a Result
 * @param comparison name of the comparison type to extract ( identical | minorChanges | relatedMeaning)
 * @param content name of the content to extract from ( text | html )
 * @param subject name of the subject to extract from ( source | suspected)
 */
const extractMatches = (comparison, content, subject) => (item) => {
    const { result, id } = item;
    if (!result || !result[content] || !result[content].comparison) {
        return [];
    }
    const gids = result[content].comparison[comparison].groupId || [];
    const { starts, lengths } = result[content].comparison[comparison][subject].chars;
    return starts.map((start, i) => ({
        start,
        end: start + lengths[i],
        type: MatchType[comparison],
        ids: [id],
        gid: gids[i],
    }));
};
/**
 * Higher order function that returns a function that extracts Excluded intervals from the source document
 * @param content name of the content to extract from (text | html)
 */
const extractExcluded = (content) => (source) => {
    if (!source[content].exclude) {
        return [];
    }
    const { starts, lengths, groupIds, reasons } = source[content].exclude;
    return starts.map((start, i) => ({
        start,
        end: start + lengths[i],
        type: MatchType.excluded,
        reason: reasons[i],
        ids: [],
        gid: groupIds && groupIds[i],
    }));
};
/** A function to extract `identical` matches from the `text` of a `source` document */
const sourceTextIdentical = extractMatches('identical', 'text', 'source');
/** A function to extract `relatedMeaning` matches from the `text` of a `source` document */
const sourceTextRelatedMeaning = extractMatches('relatedMeaning', 'text', 'source');
/** A function to extract `minorChanges` matches from the `text` of a `source` document */
const sourceTextMinorChanges = extractMatches('minorChanges', 'text', 'source');
/** A function to extract `identical` matches from the `html` of a `source` document */
const sourceHtmlIdentical = extractMatches('identical', 'html', 'source');
/** A function to extract `relatedMeaning` matches from the `html` of a `source` document */
const sourceHtmlRelatedMeaning = extractMatches('relatedMeaning', 'html', 'source');
/** A function to extract `minorChanges` matches from the `html` of a `source` document */
const sourceHtmlMinorChanges = extractMatches('minorChanges', 'html', 'source');
/** A function to extract `identical` matches from the `text` of a `suspect` document */
const suspectTextIdentical = extractMatches('identical', 'text', 'suspected');
/** A function to extract `relatedMeaning` matches from the `text` of a `suspect` document */
const suspectTextRelatedMeaning = extractMatches('relatedMeaning', 'text', 'suspected');
/** A function to extract `minorChanges` matches from the `text` of a `suspect` document */
const suspectTextMinorChanges = extractMatches('minorChanges', 'text', 'suspected');
/** A function to extract `identical` matches from the `html` of a `suspect` document */
const suspectHtmlIdentical = extractMatches('identical', 'html', 'suspected');
/** A function to extract `relatedMeaning` matches from the `html` of a `suspect` document */
const suspectHtmlRelatedMeaning = extractMatches('relatedMeaning', 'html', 'suspected');
/** A function to extract `minorChanges` matches from the `html` of a `suspect` document */
const suspectHtmlMinorChanges = extractMatches('minorChanges', 'html', 'suspected');
/** A function to extract `excluded` matches from the `text` of a `source` document */
const sourceTextExcluded = extractExcluded('text');
/** A function to extract `excluded` matches from the `html` of a `source` document */
const sourceHtmlExcluded = extractExcluded('html');
/**
 * Locate the respective match start index for a given index in the given comparison.
 * If `fromSource` is set to true, the initial index is assumed to be from the comparison source
 * and therefore will search in the respective `ComparisonData`. Returns a tuple of two indices
 * where the first number is start index of the respective match, and the second is the start index
 * of the closest match to the initially given index
 * @param index a position on the text/html that covers a match
 * @param comparison comparison relevant to the match type and associated content
 * @param fromSource flag indicating that `index` is coming from the source suspect
 */
const findRespectiveStart = (index, comparison, fromSource = true) => {
    const { source, suspected } = comparison;
    const [from, to] = fromSource ? [source, suspected] : [suspected, source];
    const found = from.chars.starts.findIndex((s, i) => s <= index && index <= s + source.chars.lengths[i]);
    return [to.chars.starts[found], from.chars.starts[found]];
};
/**
 * This function will process one or more results and generate a list of match intervals that will help
 * highlight the source html with respect to user settings and match type priority
 * @param results one or more result item on which the calculation will be based on
 * @param settings the current user settings
 * @param source the scan source
 * @param text `true` if calculation should base on text comparison, `false` for html
 */
const processSourceText = (results, settings, source, text = true) => {
    // if (!source || !source.text) {
    // 	return null;
    // }
    const items = [].concat(results);
    const identical = settings.showIdentical
        ? items.reduce((acc, res) => acc.concat((text ? sourceTextIdentical : sourceHtmlIdentical)(res)), [])
        : [];
    const minor = settings.showMinorChanges
        ? items.reduce((acc, res) => acc.concat((text ? sourceTextMinorChanges : sourceHtmlMinorChanges)(res)), [])
        : [];
    const related = settings.showRelated
        ? items.reduce((acc, res) => acc.concat((text ? sourceTextRelatedMeaning : sourceHtmlRelatedMeaning)(res)), [])
        : [];
    const excluded = sourceTextExcluded(source);
    const grouped = mergeMatches([...identical, ...minor, ...related, ...excluded]);
    const filled = fillMissingGaps(grouped, source.text.value.length);
    return paginateMatches(source.text.value, source.text.pages.startPosition, filled);
};
/**
 * This function will process notifications and generate a list of match intervals that will help
 * highlight the source text.
 * @param source the scan source
 * @param alertToMatch alert to process
 */
const processSuspectedCharacterMatches = (source, alertToMatch) => {
    const matches = [];
    const data = JSON.parse(alertToMatch.additionalData);
    if (data && data.starts && data.lengths) {
        for (let i = 0; i < data.starts.length; i++) {
            matches.push({
                start: data.starts[i],
                end: data.starts[i] + data.lengths[i],
                type: MatchType.suspectedCharacterReplacement,
                ids: [],
            });
        }
    }
    const grouped = matches;
    const filled = fillMissingGaps(grouped, source.text.value.length);
    return paginateMatches(source.text.value, source.text.pages.startPosition, filled);
};
/**
 * This function will process notifications and generate a list of match intervals that will help
 * highlight the source text.
 * @param source the scan source
 * @param alertToMatch alert to process
 */
const processAICheatingMatches = (source, alertToMatch) => {
    const matches = [];
    var scanResult = JSON.parse(alertToMatch.additionalData);
    scanResult?.results?.forEach(result => {
        result?.matches?.forEach((match) => {
            const mappedMatches = match?.text.chars?.starts?.map((start, idx) => ({
                start,
                end: start + match.text.chars.lengths[idx],
                type: result.classification == EMatchClassification.AI ? MatchType.aiText : MatchType.none,
                ids: [],
                classification: result.classification,
                probability: result.probability,
                totalWords: match.text.words.lengths[idx],
            }));
            if (mappedMatches)
                matches.push(...mappedMatches);
        });
    });
    const grouped = matches;
    const filled = fillMissingGaps(grouped, source.text.value.length);
    return paginateMatches(source.text.value, source.text.pages.startPosition, filled);
};
/**
 * This function will process one result and generate a list of match intervals that will help
 * highlight the suspect text with respect to user options and match type priority
 * @param suspect the suspect result item
 * @param options the current user options
 * @param text `true` if calculation should base on text comparison, `false` for html
 */
const processSuspectText = (suspect, options, text = true) => {
    const identical = options.showIdentical ? (text ? suspectTextIdentical : suspectHtmlIdentical)(suspect) : [];
    const minor = options.showMinorChanges ? (text ? suspectTextMinorChanges : suspectHtmlMinorChanges)(suspect) : [];
    const related = options.showRelated ? (text ? suspectTextRelatedMeaning : suspectHtmlRelatedMeaning)(suspect) : [];
    const grouped = mergeMatches([...identical, ...minor, ...related]);
    const filled = fillMissingGaps(grouped, suspect.result.text.value.length);
    const final = paginateMatches(suspect.result.text.value, suspect.result.text.pages.startPosition, filled);
    return final;
};
/**
 * This function will process one or more results and generate a list of match intervals that will help
 * highlight the source html with respect to user options and match type priority
 * @param results one or more result item on which the calculation will be based on
 * @param options the current user options
 * @param source the scan source
 */
const processSourceHtml = (results, options, source) => {
    if (!source || !source.html) {
        return null;
    }
    const items = [].concat(results);
    const identical = options.showIdentical ? items.reduce((acc, res) => acc.concat(sourceHtmlIdentical(res)), []) : [];
    const minor = options.showMinorChanges ? items.reduce((acc, res) => acc.concat(sourceHtmlMinorChanges(res)), []) : [];
    const related = options.showRelated ? items.reduce((acc, res) => acc.concat(sourceHtmlRelatedMeaning(res)), []) : [];
    const excluded = sourceHtmlExcluded(source);
    const grouped = mergeMatches([...identical, ...minor, ...related, ...excluded]);
    const final = fillMissingGaps(grouped, source.html.value.length);
    return final;
};
/**
 * This function will process one result and generate a list of match intervals that
 * will help highlight the suspect html with respect to user options and match type priority
 * @param suspect the suspect result item
 * @param options the current user options
 */
const processSuspectHtml = (suspect, options) => {
    if (!suspect || !suspect.result.html) {
        return null;
    }
    const identical = options.showIdentical ? suspectHtmlIdentical(suspect) : [];
    const minor = options.showMinorChanges ? suspectHtmlMinorChanges(suspect) : [];
    const related = options.showRelated ? suspectHtmlRelatedMeaning(suspect) : [];
    const grouped = mergeMatches([...identical, ...minor, ...related]);
    return fillMissingGaps(grouped, suspect.result.html.value.length);
};

var EReportViewModel;
(function (EReportViewModel) {
    EReportViewModel[EReportViewModel["ScanningResult"] = 0] = "ScanningResult";
    EReportViewModel[EReportViewModel["Alerts"] = 1] = "Alerts";
    EReportViewModel[EReportViewModel["AIView"] = 2] = "AIView";
})(EReportViewModel || (EReportViewModel = {}));
class ViewModeService {
    constructor(reportService) {
        this.reportService = reportService;
        this._reportViewMode$ = new BehaviorSubject(EReportViewModel.ScanningResult);
        this._unsub = new Subject();
        this.reportService.completeResult$.pipe(takeUntil(this._unsub)).subscribe(completeResult => {
            if (this.reportService.isPlagiarismEnabled()) {
                const hasAlerts = completeResult?.notifications?.alerts?.filter(s => s.code != ALERTS.SUSPECTED_AI_TEXT_DETECTED)?.length;
                const hasResults = !!completeResult.results?.batch?.length ||
                    !!completeResult.results?.internet?.length ||
                    !!completeResult.results?.database?.length ||
                    !!completeResult.results?.repositories?.length;
                if (hasAlerts && !hasResults) {
                    this._reportViewMode$.next(EReportViewModel.Alerts);
                }
            }
            else if (this.reportService.isAiDetectionEnabled()) {
                this.showAIAlertView(completeResult);
            }
        });
    }
    get reportViewMode$() {
        return this._reportViewMode$;
    }
    get selectedAlert() {
        return this._selectedAlert;
    }
    set selectedAlert(alert) {
        this._selectedAlert = alert;
    }
    showAIAlertView(completeResult) {
        this.reportService.configure({ contentMode: 'text' });
        const aiAlert = completeResult?.notifications?.alerts?.find(s => s.code == ALERTS.SUSPECTED_AI_TEXT_DETECTED);
        if (aiAlert) {
            this._selectedAlert = aiAlert;
        }
        this._reportViewMode$.next(EReportViewModel.AIView);
    }
    /**
     * change the view of the report
     * @param mode view mode
     */
    changeViewMode$(mode) {
        this._reportViewMode$.next(mode);
    }
    /**
     * unsubscribe from observalbes on destroy
     */
    ngOnDestroy() {
        this._reportViewMode$.unsubscribe();
    }
}
ViewModeService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ViewModeService, deps: [{ token: ReportService }], target: i0.ɵɵFactoryTarget.Injectable });
ViewModeService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ViewModeService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ViewModeService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: ReportService }]; } });

/**
 * Service that calculates the matches highlight positions with respect to the view and content mode.
 * It exposes some observable streams that you can subscribe to and get the newest relevant calculations.
 */
class MatchService {
    constructor(reportService, viewModeService) {
        this.reportService = reportService;
        this.viewModeService = viewModeService;
        this._sourceTextMatches = new BehaviorSubject(null);
        this._sourceHtmlMatches = new BehaviorSubject(null);
        this._suspectTextMatches = new BehaviorSubject(null);
        this._suspectHtmlMatches = new BehaviorSubject(null);
        this._originalTextMatches = new BehaviorSubject(null);
        this._originalHtmlMatches = new BehaviorSubject(null);
        const { source$, filteredResults$, options$, previews$, hiddenResults$ } = this.reportService;
        const { reportViewMode$ } = this.viewModeService;
        // listen to suspect changes and process one-to-one matches
        combineLatest([this.onSuspectChange$, options$.pipe(distinctUntilChanged()), source$])
            .pipe(untilDestroy(this))
            .subscribe(([result, options, source]) => this.processOneToOneMatches(result, options, source));
        // this.onSuspectChange$.pipe(take(1),untilDestroy(this))
        // listen to changes in settings and filtered results
        // const throttledResults$ = filteredResults$.pipe(
        // 	untilDestroy(this),
        // 	throttleTime(5000, asyncScheduler, { leading: false, trailing: true })
        // );
        let _timeout;
        /**
         * We want to process oneToMany results when:
         * * once the source is ready
         * * every time the filteredResults$ observable updates
         * * every time the options object has changed
         * * report view mode change
         */
        combineLatest([filteredResults$, previews$, hiddenResults$, options$, source$, reportViewMode$])
            .pipe(untilDestroy(this))
            .subscribe(([results, previews, hiddenResults, options, source, viewMode]) => {
            if (_timeout) {
                clearTimeout(_timeout);
            }
            if (viewMode === EReportViewModel.Alerts || viewMode === EReportViewModel.AIView) {
                this.processAlertMatches(options, source);
            }
            else {
                _timeout = setTimeout(() => {
                    this.processOneToManyMatches(results, options, source);
                }, results.length === previews.length - hiddenResults.length ? 0 : 5000);
            }
        });
    }
    get onSourceFirstTextMode$() {
        return this.reportService.contentMode$.pipe(untilDestroy(this), filter(content => content === 'text'), take(1));
    }
    get onSourceFirstHtmlMode$() {
        const { contentMode$, source$ } = this.reportService;
        return combineLatest([contentMode$, source$]).pipe(untilDestroy(this), filter(([content, source]) => content === 'html' && source.html && !!source.html.value), take(1));
    }
    get onSourceContentModeChange$() {
        return this.reportService.contentMode$.pipe(untilDestroy(this), map(content => content), distinctUntilChanged());
    }
    get onSuspectContentModeChange$() {
        return this.reportService.contentMode$.pipe(untilDestroy(this), map(content => content), distinctUntilChanged());
    }
    get onSuspectFirstTextMode$() {
        return this.reportService.contentMode$.pipe(untilDestroy(this), filter(content => content === 'text'), take(1));
    }
    get onSuspectFirstHtmlMode$() {
        const { contentMode$, suspectResult$: suspect$ } = this.reportService;
        return combineLatest([contentMode$, suspect$]).pipe(untilDestroy(this), filter(([content, suspect]) => content === 'html' && suspect && suspect.result && !!suspect.result.html.value), take(1));
    }
    get onSuspectChange$() {
        return this.reportService.suspectResult$.pipe(untilDestroy(this), truthy(), distinctUntilChanged());
    }
    get onNewSuspect$() {
        return this.onSuspectChange$.pipe(untilDestroy(this), skip(1));
    }
    /** Emits matches that are relevant to source text one-to-one mode */
    get sourceTextMatches$() {
        return this._sourceTextMatches.asObservable().pipe(truthy());
    }
    /** Emits matches that are relevant to source html one-to-one mode */
    get sourceHtmlMatches$() {
        return this._sourceHtmlMatches.asObservable().pipe(untilDestroy(this), truthy());
    }
    /** Emits matches that are relevant to suspect text one-to-one mode */
    get suspectTextMatches$() {
        return this._suspectTextMatches.asObservable().pipe(untilDestroy(this), truthy());
    }
    /** Emits matches that are relevant to suspect html one-to-one mode */
    get suspectHtmlMatches$() {
        return this._suspectHtmlMatches.asObservable().pipe(untilDestroy(this), truthy());
    }
    /** Emits matches that are relevant to source text one-to-many mode */
    get originalTextMatches$() {
        return this._originalTextMatches.asObservable().pipe(untilDestroy(this), truthy());
    }
    /** Emits matches that are relevant to source html one-to-many mode */
    get originalHtmlMatches$() {
        return this._originalHtmlMatches.asObservable().pipe(untilDestroy(this), truthy());
    }
    /**
     * Process matches on the `one-to-one` view mode
     * will calculate the matches when showing `text` or `html` for the first time
     * @param item the result to calculate matches from
     * @param settings the report settings
     * @param source  the scan source
     */
    processOneToOneMatches(item, settings, source) {
        if (source.html && source.html.value && !(item.result.html && item.result.html.value)) {
            // case where source has html but suspect doesnt
            this.onSourceFirstTextMode$.pipe(takeUntil(this.onNewSuspect$)).subscribe(() => {
                const text = processSourceText(item, settings, source);
                this._sourceTextMatches.next(text);
            });
            this.onSourceFirstHtmlMode$.pipe(takeUntil(this.onNewSuspect$)).subscribe(() => {
                const html = processSourceHtml(item, settings, source);
                this._sourceHtmlMatches.next(html);
            });
            this.onSuspectContentModeChange$.pipe(takeUntil(this.onNewSuspect$)).subscribe(mode => {
                const text = processSuspectText(item, settings, mode === 'text');
                this._suspectTextMatches.next(text);
            });
        }
        else if (!(source.html && source.html.value) && item.result.html && item.result.html.value) {
            // case where suspect has html but source doesnt
            this.onSuspectFirstTextMode$.pipe(takeUntil(this.onNewSuspect$)).subscribe(() => {
                const text = processSuspectText(item, settings);
                this._suspectTextMatches.next(text);
            });
            this.onSuspectFirstHtmlMode$.pipe(takeUntil(this.onNewSuspect$)).subscribe(() => {
                const html = processSuspectHtml(item, settings);
                this._suspectHtmlMatches.next(html);
            });
            this.onSourceContentModeChange$.pipe(takeUntil(this.onNewSuspect$)).subscribe(mode => {
                const text = processSourceText(item, settings, source, mode === 'text');
                this._sourceTextMatches.next(text);
            });
        }
        else {
            this.onSourceFirstTextMode$.pipe(takeUntil(this.onNewSuspect$)).subscribe(() => {
                setTimeout(() => {
                    const text = processSourceText(item, settings, source);
                    this._sourceTextMatches.next(text);
                });
                setTimeout(() => {
                    const text = processSuspectText(item, settings);
                    this._suspectTextMatches.next(text);
                });
            });
            this.onSourceFirstHtmlMode$.pipe(takeUntil(this.onNewSuspect$)).subscribe(() => {
                setTimeout(() => {
                    const html = processSourceHtml(item, settings, source);
                    this._sourceHtmlMatches.next(html);
                });
                setTimeout(() => {
                    const html = processSuspectHtml(item, settings);
                    this._suspectHtmlMatches.next(html);
                });
            });
        }
    }
    /**
     * Process matches on the `one-to-many` view mode
     * will calculate the matches when showing `text` or `html` for the first time
     * @param results the results to calculate matches from
     * @param settings the report settings
     * @param source  the scan source
     */
    processOneToManyMatches(results, settings, source) {
        this.onSourceFirstTextMode$.subscribe(() => {
            const text = processSourceText(results, settings, source);
            if (text) {
                this._originalTextMatches.next(text);
            }
        });
        this.onSourceFirstHtmlMode$.subscribe(() => {
            const html = processSourceHtml(results, settings, source);
            if (html) {
                this._originalHtmlMatches.next(html);
            }
        });
    }
    /**
     * Process matches on the `suspected-character-replacement` view mode
     * will calculate the matches when showing `text` or `html` for the first time
     * @param settings the report settings
     * @param source  the scan source
     */
    processAlertMatches(settings, source) {
        this.onSourceFirstTextMode$.subscribe(() => {
            let text;
            if (this.viewModeService?.selectedAlert?.code === ALERTS.SUSPECTED_CHARACTER_REPLACEMENT_CODE) {
                text = processSuspectedCharacterMatches(source, this.viewModeService.selectedAlert);
            }
            else if (this.viewModeService?.selectedAlert?.code === ALERTS.SUSPECTED_AI_TEXT_DETECTED) {
                text = processAICheatingMatches(source, this.viewModeService.selectedAlert);
            }
            else {
                text = processSourceText([], settings, source);
            }
            if (text) {
                this._originalTextMatches.next(text);
            }
        });
        this.onSourceFirstHtmlMode$.subscribe(() => {
            const html = processSourceHtml([], settings, source);
            if (html) {
                this._originalHtmlMatches.next(html);
            }
        });
    }
    /**
     * dtor
     */
    ngOnDestroy() {
        this._sourceTextMatches && this._sourceTextMatches.complete();
        this._sourceHtmlMatches && this._sourceHtmlMatches.complete();
        this._suspectTextMatches && this._suspectTextMatches.complete();
        this._suspectHtmlMatches && this._suspectHtmlMatches.complete();
        this._originalTextMatches && this._originalTextMatches.complete();
        this._originalHtmlMatches && this._originalHtmlMatches.complete();
    }
}
MatchService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatchService, deps: [{ token: ReportService }, { token: ViewModeService }], target: i0.ɵɵFactoryTarget.Injectable });
MatchService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatchService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatchService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: ReportService }, { type: ViewModeService }]; } });

class IconRegistryService {
    constructor(iconRegistry, sanitizer) {
        this.iconRegistry = iconRegistry;
        this.sanitizer = sanitizer;
        /** help_outline icon */
        this.help_outline = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
      <path d="M0 0h24v24H0V0z" fill="none"/>
      <path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/>
    </svg>
  `;
        /** help_outline icon */
        this.share = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
    </svg>
  `;
        /** save_alt icon */
        this.save_alt = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/>
    </svg>
  `;
        /** settings icon */
        this.settings = `
    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
      <g>
        <path d="M0,0h24v24H0V0z" fill="none"/>
        <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
      </g>
    </svg>
  `;
        /** launch icon */
        this.launch = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
    </svg>
  `;
        /** arrow_downward icon */
        this.arrow_downward = `
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/>
      </svg>
  `;
        /** arrow_upward icon */
        this.arrow_upward = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0V0z" fill="none"/>
      <path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/>
    </svg>
  `;
        /** arrow_upward icon */
        this.format_align_left = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
    </svg>
  `;
        /** arrow_upward icon */
        this.format_align_right = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
    </svg>
  `;
        /** zoom_in icon */
        this.zoom_in = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
    </svg>
  `;
        /** zoom_out icon */
        this.zoom_out = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0V0z" fill="none"/>
      <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/>
    </svg>
  `;
        /** title icon */
        this.title = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666"><path d="M0 0h24v24H0V0z" fill="none"/>
      <path d="M5 4v3h5.5v12h3V7H19V4z"/>
    </svg>
  `;
        /** insert_photo icon */
        this.insert_photo = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666"><path d="M0 0h24v24H0z" fill="none"/>
      <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
    </svg>
  `;
        /** close icon */
        this.close = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    </svg>
  `;
        /** close icon black color */
        this.close_black_color = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    </svg>
  `;
        /** filter_list icon */
        this.filter_list = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#666">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
    </svg>
  `;
        /** filter_list icon with red color */
        this.filter_list_color_red = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#f44336">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
    </svg>
  `;
        /** arrow_drop_down icon with red color */
        this.arrow_drop_down = `
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M7 10l5 5 5-5z"/>
    </svg>
  `;
        /** first_page icon */
        this.first_page = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M24 0v24H0V0h24z" fill="none" opacity=".87"/>
		<path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41zM6 6h2v12H6V6z"/>
	</svg>
  `;
        /** first_page icon disabled */
        this.first_page_disabled = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#00000042">
		<path d="M24 0v24H0V0h24z" fill="none" opacity=".87"/>
		<path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41zM6 6h2v12H6V6z"/>
	</svg>
  `;
        /** chevron_left icon */
        this.chevron_left = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M0 0h24v24H0V0z" fill="none"/>
		<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/>
	</svg>
  `;
        /** chevron_left icon disabled */
        this.chevron_left_disabled = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#00000042">
		<path d="M0 0h24v24H0V0z" fill="none"/>
		<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/>
	</svg>
  `;
        /** chevron_right icon */
        this.chevron_right = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M0 0h24v24H0V0z" fill="none"/>
		<path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/>
	</svg> 
  `;
        /** chevron_right icon disabled */
        this.chevron_right_disabled = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#00000042">
		<path d="M0 0h24v24H0V0z" fill="none"/>
		<path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/>
	</svg> 
  `;
        /** last_page icon */
        this.last_page = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M0 0h24v24H0V0z" fill="none" opacity=".87"/>
		<path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6-1.41 1.41zM16 6h2v12h-2V6z"/>
	</svg> 
  `;
        /** last_page icon disabled */
        this.last_page_disabled = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#00000042">
		<path d="M0 0h24v24H0V0z" fill="none" opacity=".87"/>
		<path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6-1.41 1.41zM16 6h2v12h-2V6z"/>
	</svg> 
  `;
        /** more_vert icon */
        this.more_vert = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M0 0h24v24H0V0z" fill="none"/>
		<path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
	</svg>
  `;
        this.expand_less = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M0 0h24v24H0V0z" fill="none"/>
		<path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"/>
	</svg>
	`;
        this.expand_more = `
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#5f6368">
		<path d="M24 24H0V0h24v24z" fill="none" opacity=".87"/>
		<path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"/>
	</svg>
	`;
    }
    init() {
        /** help_outline icon */
        this.iconRegistry.addSvgIconLiteral('help_outline', this.sanitizer.bypassSecurityTrustHtml(this.help_outline));
        /** share icon */
        this.iconRegistry.addSvgIconLiteral('share', this.sanitizer.bypassSecurityTrustHtml(this.share));
        /** save_alt icon */
        this.iconRegistry.addSvgIconLiteral('save_alt', this.sanitizer.bypassSecurityTrustHtml(this.save_alt));
        /** settings icon */
        this.iconRegistry.addSvgIconLiteral('settings', this.sanitizer.bypassSecurityTrustHtml(this.settings));
        /** launch icon */
        this.iconRegistry.addSvgIconLiteral('launch', this.sanitizer.bypassSecurityTrustHtml(this.launch));
        /** arrow_downward icon */
        this.iconRegistry.addSvgIconLiteral('arrow_downward', this.sanitizer.bypassSecurityTrustHtml(this.arrow_downward));
        /** arrow_upward icon */
        this.iconRegistry.addSvgIconLiteral('arrow_upward', this.sanitizer.bypassSecurityTrustHtml(this.arrow_upward));
        /** format_align_left icon */
        this.iconRegistry.addSvgIconLiteral('format_align_left', this.sanitizer.bypassSecurityTrustHtml(this.format_align_left));
        /** format_align_right icon */
        this.iconRegistry.addSvgIconLiteral('format_align_right', this.sanitizer.bypassSecurityTrustHtml(this.format_align_right));
        /** zoom_in icon */
        this.iconRegistry.addSvgIconLiteral('zoom_in', this.sanitizer.bypassSecurityTrustHtml(this.zoom_in));
        /** zoom_out icon */
        this.iconRegistry.addSvgIconLiteral('zoom_out', this.sanitizer.bypassSecurityTrustHtml(this.zoom_out));
        /** title icon */
        this.iconRegistry.addSvgIconLiteral('title', this.sanitizer.bypassSecurityTrustHtml(this.title));
        /** insert_photo icon */
        this.iconRegistry.addSvgIconLiteral('insert_photo', this.sanitizer.bypassSecurityTrustHtml(this.insert_photo));
        /** close icon */
        this.iconRegistry.addSvgIconLiteral('close', this.sanitizer.bypassSecurityTrustHtml(this.close));
        /** close_black_color icon */
        this.iconRegistry.addSvgIconLiteral('close_black_color', this.sanitizer.bypassSecurityTrustHtml(this.close_black_color));
        /** filter_list icon */
        this.iconRegistry.addSvgIconLiteral('filter_list', this.sanitizer.bypassSecurityTrustHtml(this.filter_list));
        /** filter_list_color_red icon */
        this.iconRegistry.addSvgIconLiteral('filter_list_color_red', this.sanitizer.bypassSecurityTrustHtml(this.filter_list_color_red));
        /** arrow_drop_down icon */
        this.iconRegistry.addSvgIconLiteral('arrow_drop_down', this.sanitizer.bypassSecurityTrustHtml(this.arrow_drop_down));
        /** first_page icon */
        this.iconRegistry.addSvgIconLiteral('first_page', this.sanitizer.bypassSecurityTrustHtml(this.first_page));
        /** first_page_disabled icon */
        this.iconRegistry.addSvgIconLiteral('first_page_disabled', this.sanitizer.bypassSecurityTrustHtml(this.first_page_disabled));
        /** chevron_left icon */
        this.iconRegistry.addSvgIconLiteral('chevron_left', this.sanitizer.bypassSecurityTrustHtml(this.chevron_left));
        /** chevron_left_disabled icon */
        this.iconRegistry.addSvgIconLiteral('chevron_left_disabled', this.sanitizer.bypassSecurityTrustHtml(this.chevron_left_disabled));
        /** chevron_right icon */
        this.iconRegistry.addSvgIconLiteral('chevron_right', this.sanitizer.bypassSecurityTrustHtml(this.chevron_right));
        /** chevron_right_disabled icon */
        this.iconRegistry.addSvgIconLiteral('chevron_right_disabled', this.sanitizer.bypassSecurityTrustHtml(this.chevron_right_disabled));
        /** last_page icon */
        this.iconRegistry.addSvgIconLiteral('last_page', this.sanitizer.bypassSecurityTrustHtml(this.last_page));
        /** last_page_disabled icon */
        this.iconRegistry.addSvgIconLiteral('last_page_disabled', this.sanitizer.bypassSecurityTrustHtml(this.last_page_disabled));
        /** more_vert icon */
        this.iconRegistry.addSvgIconLiteral('more_vert', this.sanitizer.bypassSecurityTrustHtml(this.more_vert));
        /** expand_less icon */
        this.iconRegistry.addSvgIconLiteral('expand_less', this.sanitizer.bypassSecurityTrustHtml(this.expand_less));
        /** expand_more icon */
        this.iconRegistry.addSvgIconLiteral('expand_more', this.sanitizer.bypassSecurityTrustHtml(this.expand_more));
    }
}
IconRegistryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: IconRegistryService, deps: [{ token: i6.MatIconRegistry }, { token: i2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Injectable });
IconRegistryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: IconRegistryService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: IconRegistryService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i6.MatIconRegistry }, { type: i2.DomSanitizer }]; } });

class DirectionService {
    constructor() {
        this._dir = 'ltr';
    }
    get dir() {
        return this._dir;
    }
    /**
     * set the html direction of the report
     * @param value the direction value
     */
    setDir(value) {
        this._dir = value;
    }
}
DirectionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: DirectionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });
DirectionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: DirectionService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: DirectionService, decorators: [{
            type: Injectable
        }] });

class OptionsDialogComponent {
    constructor(translatesService, dialogRef, directionService, reportService) {
        this.translatesService = translatesService;
        this.dialogRef = dialogRef;
        this.directionService = directionService;
        this.reportService = reportService;
    }
    /**
     * Closes the dialog while indicating whether to save changes or not.
     */
    close(save) {
        this.dialogRef.close(save);
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - current report settings ( clone it)
     * - dialog events
     */
    ngOnInit() {
        this.translations = this.translatesService.translations;
        this.reportService.options$.pipe(untilDestroy(this), take(1)).subscribe(options => (this.options = { ...options }));
        this.dialogRef
            .beforeClosed()
            .pipe(truthy())
            .subscribe(() => this.reportService.configure({ options: this.options }));
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
OptionsDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OptionsDialogComponent, deps: [{ token: CopyleaksTranslateService }, { token: i1.MatDialogRef }, { token: DirectionService }, { token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component });
OptionsDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: OptionsDialogComponent, selector: "cr-options-dialog", ngImport: i0, template: "<div mat-dialog-title>{{ translations?.RESULTS_SETTINGS_DIALOG?.TITLE || 'Results Settings' }}</div>\n<mat-dialog-content>\n\t<div>\n\t\t<mat-slide-toggle\n\t\t\t[(ngModel)]=\"options.showOnlyTopResults\"\n\t\t\t[aria-label]=\"\n\t\t\t\t!options.showOnlyTopResults ? 'Check to show only top 100 results' : 'Un-checked to show all the results'\n\t\t\t\">\n\t\t\t{{ translations?.RESULTS_SETTINGS_DIALOG?.SHOW_TOP_100_RESULT || 'Show only top 100 relevant results' }}\n\t\t</mat-slide-toggle>\n\t</div>\n\t<div>\n\t\t<mat-divider></mat-divider>\n\t</div>\n\t<div>\n\t\t<mat-checkbox\n\t\t\tariachec\n\t\t\t[(ngModel)]=\"options.showIdentical\"\n\t\t\t[aria-label]=\"\n\t\t\t\t!options.showIdentical ? 'Check to include identical results' : 'Un-Check to exclude identical results'\n\t\t\t\">\n\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || 'Identical' }}\n\t\t</mat-checkbox>\n\t</div>\n\t<div>\n\t\t<mat-checkbox\n\t\t\t[(ngModel)]=\"options.showMinorChanges\"\n\t\t\t[aria-label]=\"\n\t\t\t\toptions.showMinorChanges\n\t\t\t\t\t? 'Un-check to exclude minor changes results'\n\t\t\t\t\t: 'Check to include minor changes results'\n\t\t\t\">\n\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || 'Minor Changes' }}\n\t\t</mat-checkbox>\n\t</div>\n\t<div>\n\t\t<mat-checkbox\n\t\t\t[(ngModel)]=\"options.showRelated\"\n\t\t\t[aria-label]=\"\n\t\t\t\t!options.showRelated ? 'Check to include paraphrased results' : 'Un-check to exclude paraphrased results '\n\t\t\t\">\n\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }}\n\t\t</mat-checkbox>\n\t</div>\n</mat-dialog-content>\n\n<div fxLayout.lt-md=\"column nowrap\" fxLayout=\"row nowrap\" fxLayoutGap=\"1em\" fxLayoutAlign=\"end center\">\n\t<!-- <mat-checkbox fxFlexAlign.lt-md=\"start\" [(ngModel)]=\"options.setAsDefault\">\n\t\t{{ translations?.RESULTS_SETTINGS_DIALOG?.SET_DEFAULT || 'Set as default for all scans' }}\n\t</mat-checkbox> -->\n\t<button mat-raised-button (click)=\"close(true)\" color=\"primary\" aria-label=\"Saves the desired results settings.'\">\n\t\t{{ translations?.SHARED?.SAVE || 'SAVE' }}\n\t</button>\n</div>\n<button\n\tclose\n\tmat-icon-button\n\t(click)=\"close()\"\n\t[class]=\"'close-' + directionService.dir\"\n\taria-label=\"Closes results settings.\">\n\t<mat-icon svgIcon=\"close_black_color\"></mat-icon>\n</button>\n", styles: [":host{display:flex;flex-flow:column nowrap;position:relative}:host mat-dialog-content>div{height:3em}:host [close]{position:absolute;margin-top:-1em;margin-right:-1em;top:0;right:0}:host .close-rtl{right:unset;left:-16px;top:-6px}.cdk-keyboard-focused{outline:2px solid black!important}\n"], components: [{ type: i4.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex", "name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "checked"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }, { type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }, { type: i6$1.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }], directives: [{ type: i1.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { type: i1.MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { type: i10.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i10.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OptionsDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-options-dialog', template: "<div mat-dialog-title>{{ translations?.RESULTS_SETTINGS_DIALOG?.TITLE || 'Results Settings' }}</div>\n<mat-dialog-content>\n\t<div>\n\t\t<mat-slide-toggle\n\t\t\t[(ngModel)]=\"options.showOnlyTopResults\"\n\t\t\t[aria-label]=\"\n\t\t\t\t!options.showOnlyTopResults ? 'Check to show only top 100 results' : 'Un-checked to show all the results'\n\t\t\t\">\n\t\t\t{{ translations?.RESULTS_SETTINGS_DIALOG?.SHOW_TOP_100_RESULT || 'Show only top 100 relevant results' }}\n\t\t</mat-slide-toggle>\n\t</div>\n\t<div>\n\t\t<mat-divider></mat-divider>\n\t</div>\n\t<div>\n\t\t<mat-checkbox\n\t\t\tariachec\n\t\t\t[(ngModel)]=\"options.showIdentical\"\n\t\t\t[aria-label]=\"\n\t\t\t\t!options.showIdentical ? 'Check to include identical results' : 'Un-Check to exclude identical results'\n\t\t\t\">\n\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || 'Identical' }}\n\t\t</mat-checkbox>\n\t</div>\n\t<div>\n\t\t<mat-checkbox\n\t\t\t[(ngModel)]=\"options.showMinorChanges\"\n\t\t\t[aria-label]=\"\n\t\t\t\toptions.showMinorChanges\n\t\t\t\t\t? 'Un-check to exclude minor changes results'\n\t\t\t\t\t: 'Check to include minor changes results'\n\t\t\t\">\n\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || 'Minor Changes' }}\n\t\t</mat-checkbox>\n\t</div>\n\t<div>\n\t\t<mat-checkbox\n\t\t\t[(ngModel)]=\"options.showRelated\"\n\t\t\t[aria-label]=\"\n\t\t\t\t!options.showRelated ? 'Check to include paraphrased results' : 'Un-check to exclude paraphrased results '\n\t\t\t\">\n\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }}\n\t\t</mat-checkbox>\n\t</div>\n</mat-dialog-content>\n\n<div fxLayout.lt-md=\"column nowrap\" fxLayout=\"row nowrap\" fxLayoutGap=\"1em\" fxLayoutAlign=\"end center\">\n\t<!-- <mat-checkbox fxFlexAlign.lt-md=\"start\" [(ngModel)]=\"options.setAsDefault\">\n\t\t{{ translations?.RESULTS_SETTINGS_DIALOG?.SET_DEFAULT || 'Set as default for all scans' }}\n\t</mat-checkbox> -->\n\t<button mat-raised-button (click)=\"close(true)\" color=\"primary\" aria-label=\"Saves the desired results settings.'\">\n\t\t{{ translations?.SHARED?.SAVE || 'SAVE' }}\n\t</button>\n</div>\n<button\n\tclose\n\tmat-icon-button\n\t(click)=\"close()\"\n\t[class]=\"'close-' + directionService.dir\"\n\taria-label=\"Closes results settings.\">\n\t<mat-icon svgIcon=\"close_black_color\"></mat-icon>\n</button>\n", styles: [":host{display:flex;flex-flow:column nowrap;position:relative}:host mat-dialog-content>div{height:3em}:host [close]{position:absolute;margin-top:-1em;margin-right:-1em;top:0;right:0}:host .close-rtl{right:unset;left:-16px;top:-6px}.cdk-keyboard-focused{outline:2px solid black!important}\n"] }]
        }], ctorParameters: function () { return [{ type: CopyleaksTranslateService }, { type: i1.MatDialogRef }, { type: DirectionService }, { type: ReportService, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }]; } });

class LayoutMediaQueryService {
    constructor(mediaObserver) {
        this.mediaObserver = mediaObserver;
        this.isActive = this.mediaObserver.isActive;
    }
    get isMobile$() {
        return this.mediaObserver.asObservable().pipe(map(changes => changes.map(ch => ch.mqAlias)), map(queries => queries.includes('xs') || queries.includes('sm')), distinctUntilChanged());
    }
    get mediaAliases$() {
        return this.mediaObserver.asObservable().pipe(map(changes => changes.map(ch => ch.mqAlias)));
    }
}
LayoutMediaQueryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: LayoutMediaQueryService, deps: [{ token: i1$1.MediaObserver }], target: i0.ɵɵFactoryTarget.Injectable });
LayoutMediaQueryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: LayoutMediaQueryService, providedIn: 'root' });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: LayoutMediaQueryService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root',
                }]
        }], ctorParameters: function () { return [{ type: i1$1.MediaObserver }]; } });

/** animation for expanding and collapsing an element's height */
const expandCollapseAnimation = trigger('expandCollapse', [
    state('open', style({
        height: '*',
    })),
    state('close', style({
        height: '0px',
        overflow: 'hidden',
    })),
    transition('open <=> close', animate(200)),
]);
class ExpansionPanelComponent {
    constructor(announcer) {
        this.announcer = announcer;
        this.expanded = false;
        this.disabled = false;
        this.expandChange = new EventEmitter();
        this.animationState = 'close';
    }
    /**
     * Flips the expansion panel `expanded` state.
     *
     * or close the panel accordingly
     * @param force if given, will force the `expanded` state accordingly
     */
    toggle(force) {
        this.expanded = force === undefined ? !this.expanded : force;
        this.animationState = this.expanded ? 'open' : 'close';
        if (this.expandChange) {
            this.expandChange.emit(this.expanded);
        }
        this.announcer.announce(this.expanded ? 'Scan properties expended' : 'Scan properties collapsed', 'assertive');
    }
}
ExpansionPanelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelComponent, deps: [{ token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
ExpansionPanelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ExpansionPanelComponent, selector: "cr-expansion-panel", inputs: { expanded: "expanded", disabled: "disabled" }, outputs: { expandChange: "expandChange" }, ngImport: i0, template: "<div fxLayout=\"row nowrap\" fxLayoutAlign=\"start stretch\" top>\n\t<button\n\t\tclass=\"expension-btn\"\n\t\tmat-icon-button\n\t\tfxFlex\n\t\ttop-title\n\t\t(click)=\"toggle()\"\n\t\t[attr.aria-label]=\"expanded ? 'Click to collapse scan properties' : 'Click to expand scan properties'\"\n\t\taria-controls=\"body\"\n\t\tdisableRipple\n\t\t[matTooltip]=\"expanded ? 'Click to Collapse' : 'Click to Expand'\">\n\t\t<ng-container [ngTemplateOutlet]=\"title\"></ng-container>\n\t\t<mat-icon [svgIcon]=\"expanded ? 'expand_less' : 'expand_more'\"></mat-icon>\n\t</button>\n\t<div>\n\t\t<ng-container [ngTemplateOutlet]=\"menu\"></ng-container>\n\t</div>\n</div>\n<div *ngIf=\"expanded\" [@expandCollapse]=\"expanded ? 'open' : 'close'\" body id=\"body\">\n\t<mat-divider></mat-divider>\n\t<ng-container [ngTemplateOutlet]=\"body\"></ng-container>\n</div>\n\n<!-- content for outlets -->\n<ng-template #title>\n\t<ng-content select=\"cr-expansion-panel-title\"></ng-content>\n</ng-template>\n\n<ng-template #menu>\n\t<ng-content select=\"cr-expansion-panel-menu\"></ng-content>\n</ng-template>\n<ng-template #body>\n\t<ng-content select=\"cr-expansion-panel-body\"></ng-content>\n</ng-template>\n", styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"], components: [{ type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }], directives: [{ type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i17.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], animations: [expandCollapseAnimation] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-expansion-panel', animations: [expandCollapseAnimation], template: "<div fxLayout=\"row nowrap\" fxLayoutAlign=\"start stretch\" top>\n\t<button\n\t\tclass=\"expension-btn\"\n\t\tmat-icon-button\n\t\tfxFlex\n\t\ttop-title\n\t\t(click)=\"toggle()\"\n\t\t[attr.aria-label]=\"expanded ? 'Click to collapse scan properties' : 'Click to expand scan properties'\"\n\t\taria-controls=\"body\"\n\t\tdisableRipple\n\t\t[matTooltip]=\"expanded ? 'Click to Collapse' : 'Click to Expand'\">\n\t\t<ng-container [ngTemplateOutlet]=\"title\"></ng-container>\n\t\t<mat-icon [svgIcon]=\"expanded ? 'expand_less' : 'expand_more'\"></mat-icon>\n\t</button>\n\t<div>\n\t\t<ng-container [ngTemplateOutlet]=\"menu\"></ng-container>\n\t</div>\n</div>\n<div *ngIf=\"expanded\" [@expandCollapse]=\"expanded ? 'open' : 'close'\" body id=\"body\">\n\t<mat-divider></mat-divider>\n\t<ng-container [ngTemplateOutlet]=\"body\"></ng-container>\n</div>\n\n<!-- content for outlets -->\n<ng-template #title>\n\t<ng-content select=\"cr-expansion-panel-title\"></ng-content>\n</ng-template>\n\n<ng-template #menu>\n\t<ng-content select=\"cr-expansion-panel-menu\"></ng-content>\n</ng-template>\n<ng-template #body>\n\t<ng-content select=\"cr-expansion-panel-body\"></ng-content>\n</ng-template>\n", styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i4$2.LiveAnnouncer }]; }, propDecorators: { expanded: [{
                type: Input
            }], disabled: [{
                type: Input
            }], expandChange: [{
                type: Output
            }] } });
class ExpansionPanelTitleComponent {
}
ExpansionPanelTitleComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelTitleComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
ExpansionPanelTitleComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ExpansionPanelTitleComponent, selector: "cr-expansion-panel-title", ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelTitleComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-expansion-panel-title', template: '<ng-content></ng-content>', styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] }]
        }] });
class ExpansionPanelMenuComponent {
}
ExpansionPanelMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelMenuComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
ExpansionPanelMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ExpansionPanelMenuComponent, selector: "cr-expansion-panel-menu", ngImport: i0, template: `
		<ng-content accept="cr-expansion-panel-menu-item"></ng-content>
	`, isInline: true, styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-expansion-panel-menu', template: `
		<ng-content accept="cr-expansion-panel-menu-item"></ng-content>
	`, styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] }]
        }] });
class ExpansionPanelMenuItemComponent {
}
ExpansionPanelMenuItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelMenuItemComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
ExpansionPanelMenuItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ExpansionPanelMenuItemComponent, selector: "cr-expansion-panel-menu-item", ngImport: i0, template: `
		<mat-divider vertical="true"></mat-divider>
		<ng-content></ng-content>
	`, isInline: true, styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"], components: [{ type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelMenuItemComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-expansion-panel-menu-item', template: `
		<mat-divider vertical="true"></mat-divider>
		<ng-content></ng-content>
	`, styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] }]
        }] });
class ExpansionPanelBodyComponent {
}
ExpansionPanelBodyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelBodyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
ExpansionPanelBodyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ExpansionPanelBodyComponent, selector: "cr-expansion-panel-body", ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelBodyComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-expansion-panel-body', template: '<ng-content></ng-content>', styles: [":host(cr-expansion-panel){border:1px solid #e6e6e6;display:flex;flex-direction:column}:host(cr-expansion-panel) [top]{height:2.5em;cursor:pointer}:host(cr-expansion-panel) [top] [top-title]{text-align:center}:host(cr-expansion-panel-title){vertical-align:super}:host(cr-expansion-panel-menu){display:flex;flex-flow:row nowrap;height:100%}:host(cr-expansion-panel-menu-item){display:flex}.expension-btn{display:flex;margin-bottom:0;justify-content:center;align-items:center;border-radius:unset;height:auto;line-height:normal;font-size:14px;font-weight:500}.expension-btn ::ng-deep .mat-button-wrapper{display:flex;align-items:center;place-content:center;white-space:break-spaces}.expension-btn:focus-visible{outline:2px solid black!important}\n"] }]
        }] });

class SpinnerComponent {
    constructor() {
        this.width = '100px';
        this.color = '#17a1ff';
    }
    ngOnInit() { }
}
SpinnerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SpinnerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
SpinnerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: SpinnerComponent, selector: "cls-spinner", inputs: { width: "width", color: "color" }, ngImport: i0, template: "<div class=\"showbox\">\n\t<div class=\"loader\" [style.width]=\"width\">\n\t\t<svg class=\"circular\" viewBox=\"25 25 50 50\">\n\t\t\t<circle\n\t\t\t\tclass=\"path\"\n\t\t\t\tcx=\"50\"\n\t\t\t\tcy=\"50\"\n\t\t\t\t[style.stroke]=\"color\"\n\t\t\t\tr=\"20\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"4\"\n\t\t\t\tstroke-miterlimit=\"10\" />\n\t\t</svg>\n\t</div>\n</div>\n", styles: [".loader{position:relative;margin:0 auto;width:100%}.loader:before{content:\"\";display:block;padding-top:100%}.circular{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SpinnerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cls-spinner', template: "<div class=\"showbox\">\n\t<div class=\"loader\" [style.width]=\"width\">\n\t\t<svg class=\"circular\" viewBox=\"25 25 50 50\">\n\t\t\t<circle\n\t\t\t\tclass=\"path\"\n\t\t\t\tcx=\"50\"\n\t\t\t\tcy=\"50\"\n\t\t\t\t[style.stroke]=\"color\"\n\t\t\t\tr=\"20\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"4\"\n\t\t\t\tstroke-miterlimit=\"10\" />\n\t\t</svg>\n\t</div>\n</div>\n", styles: [".loader{position:relative;margin:0 auto;width:100%}.loader:before{content:\"\";display:block;padding-top:100%}.circular{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { width: [{
                type: Input
            }], color: [{
                type: Input
            }] } });

class AlertCardComponent {
    constructor(viewModeService, highlightService, reportService, matchsService) {
        this.viewModeService = viewModeService;
        this.highlightService = highlightService;
        this.reportService = reportService;
        this.matchsService = matchsService;
        this.afterToggleError = new EventEmitter();
        this.severity = CompleteResultNotificationAlertSeverity;
        this.alertsConstants = ALERTS;
    }
    get isSelected() {
        return this.viewModeService?.selectedAlert?.code === this.alert?.code;
    }
    /**
     * this function will select an alert
     */
    toggleAlertPreview(alert) {
        if (this.isSelected) {
            this.viewModeService.selectedAlert = null;
        }
        else {
            this.viewModeService.selectedAlert = alert;
        }
        this.reportService.configure({ contentMode: 'text' });
        setTimeout(() => {
            this.viewModeService.changeViewMode$(EReportViewModel.Alerts);
            this.matchsService.originalTextMatches$
                .pipe(untilDestroy(this), take(1), filter(m => m.filter(mat => mat.filter(match => match.match.type !== MatchType.none).length !== 0).length !== 0))
                .subscribe(_ => {
                this.highlightService.jump(true);
            });
            if (this.afterToggleError) {
                this.afterToggleError.emit();
            }
        }, 100);
    }
    /**
     * life cycel method
     * required for untilDestored
     */
    ngOnDestroy() { }
}
AlertCardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: AlertCardComponent, deps: [{ token: ViewModeService }, { token: HighlightService }, { token: ReportService }, { token: MatchService }], target: i0.ɵɵFactoryTarget.Component });
AlertCardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: AlertCardComponent, selector: "cr-alert-card", inputs: { alert: "alert" }, outputs: { afterToggleError: "afterToggleError" }, ngImport: i0, template: "<div\n\tclass=\"alert-card\"\n\t[style.padding-bottom]=\"!alert?.helpLink ? '16px' : ''\"\n\tfxLayout=\"column\"\n\t[ngClass]=\"{\n\t\t'alert-card-error': alert.severity === severity.High || alert.severity === severity.VeryHigh,\n\t\t'alert-card-warning': alert.severity === severity.Medium\n\t}\"\n\tfxLayoutGap=\"10px\">\n\t<div fxLayout=\"row\" class=\"alert-card-header\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\n\t\t<ng-container [ngSwitch]=\"alert.severity\">\n\t\t\t<mat-icon *ngSwitchCase=\"severity.Medium\">warning</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severity.High\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severity.VeryHigh\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchDefault>info</mat-icon>\n\t\t</ng-container>\n\t\t<div>\n\t\t\t<div class=\"card-header-title\">{{ alert.title }}</div>\n\t\t\t<ng-container [ngSwitch]=\"alert.severity\">\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.VeryLow\">Very Low</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.Low\">Low</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.Medium\">Medium</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.High\">High</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.VeryHigh\">Very High</p>\n\t\t\t</ng-container>\n\t\t</div>\n\t</div>\n\n\t<div style=\"text-align: justify\">\n\t\t{{ alert.message }}\n\t</div>\n\n\t<div\n\t\tclass=\"actions\"\n\t\t*ngIf=\"\n\t\t\talert.helpLink ||\n\t\t\talert.code == alertsConstants.SUSPECTED_CHARACTER_REPLACEMENT_CODE ||\n\t\t\talert.code == alertsConstants.SUSPECTED_AI_TEXT_DETECTED\n\t\t\">\n\t\t<ng-container\n\t\t\t*ngIf=\"\n\t\t\t\talert.code == alertsConstants.SUSPECTED_CHARACTER_REPLACEMENT_CODE ||\n\t\t\t\talert.code == alertsConstants.SUSPECTED_AI_TEXT_DETECTED\n\t\t\t\">\n\t\t\t<button mat-stroked-button *ngIf=\"!isSelected\" style=\"font-weight: bolder\" (click)=\"toggleAlertPreview(alert)\">\n\t\t\t\t<mat-icon>visibility</mat-icon>\n\t\t\t\tPreview\n\t\t\t</button>\n\t\t\t<button mat-raised-button *ngIf=\"isSelected\" color=\"primary\" (click)=\"toggleAlertPreview(alert)\">\n\t\t\t\t<mat-icon>visibility_off</mat-icon>\n\t\t\t\tStop preview\n\t\t\t</button>\n\t\t</ng-container>\n\n\t\t<a mat-stroked-button target=\"_blank\" *ngIf=\"alert.helpLink\" [href]=\"alert.helpLink\">Learn more</a>\n\t</div>\n</div>\n", styles: [".alert-card{padding:16px 16px 6px;border-top:3px solid #17a1ff;box-shadow:0 1px 2px #0000004f}.alert-card .alert-card-header mat-icon{color:#17a1ff;font-size:45px;width:45px;height:45px;line-height:45px}.alert-card .alert-card-header .card-header-title{margin-bottom:5px;font-size:17px;font-weight:700;color:#000000de}.alert-card .alert-card-header .card-header-description{font-size:14px;color:#0000008a;margin:0}.alert-card-error{border-color:red!important}.alert-card-error .alert-card-header mat-icon{color:red!important}.alert-card-warning{border-color:orange!important}.alert-card-warning .alert-card-header mat-icon{color:orange!important}.actions{display:flex;justify-content:flex-end;gap:10px}.actions a{padding:0 10px;font-weight:700;font-size:14px}\n"], components: [{ type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i7.MatAnchor, selector: "a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab],             a[mat-mini-fab], a[mat-stroked-button], a[mat-flat-button]", inputs: ["disabled", "disableRipple", "color", "tabIndex"], exportAs: ["matButton", "matAnchor"] }], directives: [{ type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i17.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i20.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i17.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i17.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i17.NgSwitchDefault, selector: "[ngSwitchDefault]" }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: AlertCardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-alert-card', template: "<div\n\tclass=\"alert-card\"\n\t[style.padding-bottom]=\"!alert?.helpLink ? '16px' : ''\"\n\tfxLayout=\"column\"\n\t[ngClass]=\"{\n\t\t'alert-card-error': alert.severity === severity.High || alert.severity === severity.VeryHigh,\n\t\t'alert-card-warning': alert.severity === severity.Medium\n\t}\"\n\tfxLayoutGap=\"10px\">\n\t<div fxLayout=\"row\" class=\"alert-card-header\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\n\t\t<ng-container [ngSwitch]=\"alert.severity\">\n\t\t\t<mat-icon *ngSwitchCase=\"severity.Medium\">warning</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severity.High\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severity.VeryHigh\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchDefault>info</mat-icon>\n\t\t</ng-container>\n\t\t<div>\n\t\t\t<div class=\"card-header-title\">{{ alert.title }}</div>\n\t\t\t<ng-container [ngSwitch]=\"alert.severity\">\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.VeryLow\">Very Low</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.Low\">Low</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.Medium\">Medium</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.High\">High</p>\n\t\t\t\t<p class=\"card-header-description\" *ngSwitchCase=\"severity.VeryHigh\">Very High</p>\n\t\t\t</ng-container>\n\t\t</div>\n\t</div>\n\n\t<div style=\"text-align: justify\">\n\t\t{{ alert.message }}\n\t</div>\n\n\t<div\n\t\tclass=\"actions\"\n\t\t*ngIf=\"\n\t\t\talert.helpLink ||\n\t\t\talert.code == alertsConstants.SUSPECTED_CHARACTER_REPLACEMENT_CODE ||\n\t\t\talert.code == alertsConstants.SUSPECTED_AI_TEXT_DETECTED\n\t\t\">\n\t\t<ng-container\n\t\t\t*ngIf=\"\n\t\t\t\talert.code == alertsConstants.SUSPECTED_CHARACTER_REPLACEMENT_CODE ||\n\t\t\t\talert.code == alertsConstants.SUSPECTED_AI_TEXT_DETECTED\n\t\t\t\">\n\t\t\t<button mat-stroked-button *ngIf=\"!isSelected\" style=\"font-weight: bolder\" (click)=\"toggleAlertPreview(alert)\">\n\t\t\t\t<mat-icon>visibility</mat-icon>\n\t\t\t\tPreview\n\t\t\t</button>\n\t\t\t<button mat-raised-button *ngIf=\"isSelected\" color=\"primary\" (click)=\"toggleAlertPreview(alert)\">\n\t\t\t\t<mat-icon>visibility_off</mat-icon>\n\t\t\t\tStop preview\n\t\t\t</button>\n\t\t</ng-container>\n\n\t\t<a mat-stroked-button target=\"_blank\" *ngIf=\"alert.helpLink\" [href]=\"alert.helpLink\">Learn more</a>\n\t</div>\n</div>\n", styles: [".alert-card{padding:16px 16px 6px;border-top:3px solid #17a1ff;box-shadow:0 1px 2px #0000004f}.alert-card .alert-card-header mat-icon{color:#17a1ff;font-size:45px;width:45px;height:45px;line-height:45px}.alert-card .alert-card-header .card-header-title{margin-bottom:5px;font-size:17px;font-weight:700;color:#000000de}.alert-card .alert-card-header .card-header-description{font-size:14px;color:#0000008a;margin:0}.alert-card-error{border-color:red!important}.alert-card-error .alert-card-header mat-icon{color:red!important}.alert-card-warning{border-color:orange!important}.alert-card-warning .alert-card-header mat-icon{color:orange!important}.actions{display:flex;justify-content:flex-end;gap:10px}.actions a{padding:0 10px;font-weight:700;font-size:14px}\n"] }]
        }], ctorParameters: function () { return [{ type: ViewModeService }, { type: HighlightService }, { type: ReportService }, { type: MatchService }]; }, propDecorators: { alert: [{
                type: Input
            }], afterToggleError: [{
                type: Output
            }] } });

class NotificationsDialogComponent {
    constructor(matDialog, reportService) {
        this.matDialog = matDialog;
        this.reportService = reportService;
    }
    /**
     * Life-cycle method
     */
    ngOnInit() {
        this.reportService.completeResult$
            .pipe(untilDestroy(this), filter(c => !!c.notifications && !!c.notifications.alerts && !!c.notifications.alerts.length))
            .subscribe(completeResult => {
            this.notification = completeResult.notifications;
        });
    }
    /**
     * close dialog
     */
    closeDialog() {
        this.matDialog.closeAll();
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
NotificationsDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: NotificationsDialogComponent, deps: [{ token: i1.MatDialog }, { token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component });
NotificationsDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: NotificationsDialogComponent, selector: "cr-notifications-dialog", ngImport: i0, template: "<div class=\"header\" mat-dialog-title>\n\t<h3>Alerts</h3>\n</div>\n<mat-dialog-content>\n\t<div fxLayout=\"column\" style=\"padding-bottom: 5px\" fxLayoutGap=\"20px\">\n\t\t<ng-container *ngFor=\"let alert of notification?.alerts\">\n\t\t\t<cr-alert-card [alert]=\"alert\" (afterToggleError)=\"closeDialog()\"></cr-alert-card>\n\t\t</ng-container>\n\t</div>\n</mat-dialog-content>\n\n<mat-dialog-actions align=\"center\">\n\t<button mat-button mat-dialog-close>Close</button>\n</mat-dialog-actions>\n", styles: [".header h3{margin-top:0;margin-bottom:0}.header button{margin-top:-9px;margin-right:-7px}\n"], components: [{ type: AlertCardComponent, selector: "cr-alert-card", inputs: ["alert"], outputs: ["afterToggleError"] }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }], directives: [{ type: i1.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { type: i1.MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]" }, { type: i1.MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: NotificationsDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-notifications-dialog', template: "<div class=\"header\" mat-dialog-title>\n\t<h3>Alerts</h3>\n</div>\n<mat-dialog-content>\n\t<div fxLayout=\"column\" style=\"padding-bottom: 5px\" fxLayoutGap=\"20px\">\n\t\t<ng-container *ngFor=\"let alert of notification?.alerts\">\n\t\t\t<cr-alert-card [alert]=\"alert\" (afterToggleError)=\"closeDialog()\"></cr-alert-card>\n\t\t</ng-container>\n\t</div>\n</mat-dialog-content>\n\n<mat-dialog-actions align=\"center\">\n\t<button mat-button mat-dialog-close>Close</button>\n</mat-dialog-actions>\n", styles: [".header h3{margin-top:0;margin-bottom:0}.header button{margin-top:-9px;margin-right:-7px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.MatDialog }, { type: ReportService, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }]; } });

class NotificationsComponent {
    constructor(matDialog, viewModeService, reportService, announcer) {
        this.matDialog = matDialog;
        this.viewModeService = viewModeService;
        this.reportService = reportService;
        this.announcer = announcer;
        this.severities = CompleteResultNotificationAlertSeverity;
        this.eReportViewModel = EReportViewModel;
        this.severityChange = new EventEmitter();
    }
    /**
     * Life-cycle method
     */
    ngOnInit() {
        this.currentViewMode$ = this.viewModeService.reportViewMode$;
        this.reportService.completeResult$
            .pipe(untilDestroy(this), filter(c => !!c.notifications && !!c.notifications.alerts && !!c.notifications.alerts.length))
            .subscribe(completeResult => {
            const notifications = JSON.parse(JSON.stringify(completeResult.notifications));
            notifications.alerts = notifications.alerts.filter(n => n.code != ALERTS.SUSPECTED_AI_TEXT_DETECTED);
            if (notifications.alerts.length) {
                const alertSeverities = notifications.alerts.map(s => +s.severity);
                this.severity = Math.max(...alertSeverities);
                this.severityChange.emit(this.severity);
            }
        });
    }
    /**
     * shows the notification dialogs with the alerts
     */
    showNotificationsDialog() {
        this.matDialog.open(NotificationsDialogComponent, {
            autoFocus: false,
            maxWidth: '500px',
            data: this.reportService,
        });
    }
    /**
     * change view to alerts view
     */
    toggleView() {
        if (this.viewModeService.reportViewMode$.value !== EReportViewModel.Alerts) {
            this.reportService.configure({ viewMode: 'one-to-many' });
            this.viewModeService.changeViewMode$(EReportViewModel.Alerts);
        }
        else {
            this.viewModeService.changeViewMode$(EReportViewModel.ScanningResult);
        }
        this.announcer.announce('toggled', 'assertive');
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
NotificationsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: NotificationsComponent, deps: [{ token: i1.MatDialog }, { token: ViewModeService }, { token: ReportService }, { token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
NotificationsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: NotificationsComponent, selector: "cr-notifications", outputs: { severityChange: "severityChange" }, ngImport: i0, template: "<ng-container *ngIf=\"severity\">\n\t<button\n\t\taria-label=\"Click to toggle alerts\"\n\t\tmat-icon-button\n\t\t(click)=\"toggleView()\"\n\t\tclass=\"btn-notifications-new\"\n\t\t[ngClass]=\"{\n\t\t\t'btn-notifications-error': severity == severities.High || severity == severities.VeryHigh,\n\t\t\t'btn-notifications-warning': severity == severities.Medium,\n\t\t\t'btn-enabled': (currentViewMode$ | async) == eReportViewModel.Alerts\n\t\t}\"\n\t\tdisableRipple>\n\t\t<ng-container [ngSwitch]=\"severity\">\n\t\t\t<mat-icon *ngSwitchCase=\"severities.Medium\">warning</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severities.High\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severities.VeryHigh\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchDefault>info</mat-icon>\n\t\t</ng-container>\n\t\t<span style=\"font-size: 13px; text-transform: uppercase\">\n\t\t\t<ng-container *ngIf=\"(currentViewMode$ | async) == eReportViewModel.ScanningResult; else hideAlerts\">\n\t\t\t\tsee alerts\n\t\t\t</ng-container>\n\t\t\t<ng-template #hideAlerts>hide alerts</ng-template>\n\t\t</span>\n\t</button>\n</ng-container>\n", styles: [".btn-notifications-new{border:1px solid #17a1ff;border-radius:6px;width:-moz-fit-content;width:fit-content;height:auto;line-height:normal;font-weight:700;padding:0 12px 0 0}.btn-notifications-new mat-icon{font-size:30px;width:30px;height:30px;line-height:normal}.btn-notifications-new.btn-enabled{background-color:#17a1ff;color:#fff}.btn-notifications-error{border:1px solid red;color:red}.btn-notifications-error.btn-enabled{background-color:red;color:#fff}.btn-notifications-warning{border:1px solid orange;color:orange}.btn-notifications-warning.btn-enabled{background-color:orange;color:#fff}.cdk-keyboard-focused{outline:2px solid black!important}\n"], components: [{ type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }], directives: [{ type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i17.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i20.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { type: i17.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i17.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i17.NgSwitchDefault, selector: "[ngSwitchDefault]" }], pipes: { "async": i17.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: NotificationsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-notifications', template: "<ng-container *ngIf=\"severity\">\n\t<button\n\t\taria-label=\"Click to toggle alerts\"\n\t\tmat-icon-button\n\t\t(click)=\"toggleView()\"\n\t\tclass=\"btn-notifications-new\"\n\t\t[ngClass]=\"{\n\t\t\t'btn-notifications-error': severity == severities.High || severity == severities.VeryHigh,\n\t\t\t'btn-notifications-warning': severity == severities.Medium,\n\t\t\t'btn-enabled': (currentViewMode$ | async) == eReportViewModel.Alerts\n\t\t}\"\n\t\tdisableRipple>\n\t\t<ng-container [ngSwitch]=\"severity\">\n\t\t\t<mat-icon *ngSwitchCase=\"severities.Medium\">warning</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severities.High\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchCase=\"severities.VeryHigh\">error</mat-icon>\n\t\t\t<mat-icon *ngSwitchDefault>info</mat-icon>\n\t\t</ng-container>\n\t\t<span style=\"font-size: 13px; text-transform: uppercase\">\n\t\t\t<ng-container *ngIf=\"(currentViewMode$ | async) == eReportViewModel.ScanningResult; else hideAlerts\">\n\t\t\t\tsee alerts\n\t\t\t</ng-container>\n\t\t\t<ng-template #hideAlerts>hide alerts</ng-template>\n\t\t</span>\n\t</button>\n</ng-container>\n", styles: [".btn-notifications-new{border:1px solid #17a1ff;border-radius:6px;width:-moz-fit-content;width:fit-content;height:auto;line-height:normal;font-weight:700;padding:0 12px 0 0}.btn-notifications-new mat-icon{font-size:30px;width:30px;height:30px;line-height:normal}.btn-notifications-new.btn-enabled{background-color:#17a1ff;color:#fff}.btn-notifications-error{border:1px solid red;color:red}.btn-notifications-error.btn-enabled{background-color:red;color:#fff}.btn-notifications-warning{border:1px solid orange;color:orange}.btn-notifications-warning.btn-enabled{background-color:orange;color:#fff}.cdk-keyboard-focused{outline:2px solid black!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.MatDialog }, { type: ViewModeService }, { type: ReportService }, { type: i4$2.LiveAnnouncer }]; }, propDecorators: { severityChange: [{
                type: Output
            }] } });

class TimeAgoPipe {
    constructor(changeDetectorRef, ngZone, translateService) {
        this.changeDetectorRef = changeDetectorRef;
        this.ngZone = ngZone;
        this.translates = translateService.translations;
    }
    /**
     * A pipe to transform a date string into a human readable string in the format of `X time ago`
     * While updating that string as time goes by
     * @param value date string
     */
    transform(value) {
        this.removeTimer();
        const d = new Date(value);
        const now = new Date();
        const seconds = Math.round(Math.abs((now.getTime() - d.getTime()) / 1000));
        const timeToUpdate = Number.isNaN(seconds) ? 1000 : this.getSecondsUntilUpdate(seconds) * 1000;
        this.timer = this.ngZone.runOutsideAngular(() => {
            if (typeof window !== 'undefined') {
                return window.setTimeout(() => {
                    this.ngZone.run(() => this.changeDetectorRef.markForCheck());
                }, timeToUpdate);
            }
            return null;
        });
        const minutes = Math.round(Math.abs(seconds / 60));
        const hours = Math.round(Math.abs(minutes / 60));
        const days = Math.round(Math.abs(hours / 24));
        const months = Math.round(Math.abs(days / 30.416));
        const years = Math.round(Math.abs(days / 365));
        const timeAgoTranslates = this.translates ? this.translates.TIME_AGO : null;
        if (Number.isNaN(seconds)) {
            return '';
        }
        else if (seconds <= 45) {
            return timeAgoTranslates && timeAgoTranslates.FEW_SECONDS_AGO
                ? timeAgoTranslates.FEW_SECONDS_AGO
                : 'a few seconds ago';
        }
        else if (seconds <= 90) {
            return timeAgoTranslates && timeAgoTranslates.MINUTE_AGO ? timeAgoTranslates.MINUTE_AGO : 'a minute ago';
        }
        else if (minutes <= 45) {
            return (minutes +
                ' ' +
                (timeAgoTranslates && timeAgoTranslates.MINUTES_AGO ? timeAgoTranslates.MINUTES_AGO : 'minutes ago'));
        }
        else if (minutes <= 90) {
            return timeAgoTranslates && timeAgoTranslates.HOUR_AGO ? timeAgoTranslates.HOUR_AGO : 'an hour ago';
        }
        else if (hours <= 22) {
            return (hours + ' ' + (timeAgoTranslates && timeAgoTranslates.HOURS_AGO ? timeAgoTranslates.HOURS_AGO : 'hours ago'));
        }
        else if (hours <= 36) {
            return timeAgoTranslates && timeAgoTranslates.DAY_AGO ? timeAgoTranslates.DAY_AGO : 'a day ago';
        }
        else if (days <= 25) {
            return days + ' ' + (timeAgoTranslates && timeAgoTranslates.DAYS_AGO ? timeAgoTranslates.DAYS_AGO : 'days ago');
        }
        else if (days <= 45) {
            return timeAgoTranslates && timeAgoTranslates.MONTH_AGO ? timeAgoTranslates.MONTH_AGO : 'a month ago';
        }
        else if (days <= 345) {
            return (months + ' ' + (timeAgoTranslates && timeAgoTranslates.MONTHS_AGO ? timeAgoTranslates.MONTHS_AGO : 'months ago'));
        }
        else if (days <= 545) {
            return timeAgoTranslates && timeAgoTranslates.YEAR_AGO ? timeAgoTranslates.YEAR_AGO : 'a year ago';
        }
        else {
            return (years + ' ' + (timeAgoTranslates && timeAgoTranslates.YEARS_AGO ? timeAgoTranslates.YEARS_AGO : 'years ago'));
        }
    }
    /** OnDestroy */
    ngOnDestroy() {
        this.removeTimer();
    }
    /** clear the pipe timer */
    removeTimer() {
        if (this.timer) {
            window.clearTimeout(this.timer);
            this.timer = null;
        }
    }
    /** Returns the number of seconds to wait untill next update based on elapsed seconds */
    getSecondsUntilUpdate(seconds) {
        const min = 60;
        const hr = min * 60;
        const day = hr * 24;
        if (seconds < min) {
            // less than 1 min, update every 2 secs
            return 2;
        }
        else if (seconds < hr) {
            // less than an hour, update every 30 secs
            return 30;
        }
        else if (seconds < day) {
            // less then a day, update every 5 mins
            return 300;
        }
        else {
            // update every hour
            return 3600;
        }
    }
}
TimeAgoPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: TimeAgoPipe, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.NgZone }, { token: CopyleaksTranslateService }], target: i0.ɵɵFactoryTarget.Pipe });
TimeAgoPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: TimeAgoPipe, name: "timeAgo", pure: false });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: TimeAgoPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'timeAgo',
                    pure: false,
                }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.NgZone }, { type: CopyleaksTranslateService }]; } });

class ShortNumberPipe {
    constructor() {
        this.powers = [
            { suffix: 'B', value: 10 ** 9 },
            { suffix: 'M', value: 10 ** 6 },
            { suffix: 'K', value: 10 ** 3 },
        ];
    }
    /**
     * A pipe that transforms a number into a human readable string.
     * For example: `1024 => 1K`, `1,111,111 => 1.1M`
     * @param value the number to transform
     * @param precision decimal percision
     */
    transform(value, precision = 1) {
        if (!value || isNaN(value)) {
            return value;
        }
        precision = Math.min(Math.max(precision, 0), 3);
        const abs = Math.abs(value);
        const negative = value < 0;
        const rounder = 10 ** precision;
        const power = this.powers.find(elem => abs >= elem.value);
        let result = abs;
        let key = '';
        if (power) {
            result = abs / power.value;
            result = Math.round(result * rounder) / rounder;
            key = power.suffix;
        }
        return (negative ? '-' : '') + result + key;
    }
}
ShortNumberPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ShortNumberPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });
ShortNumberPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ShortNumberPipe, name: "shortNumber" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ShortNumberPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'shortNumber',
                }]
        }] });

class SimilarityPipe {
    constructor(percentPipe) {
        this.percentPipe = percentPipe;
    }
    /**
     * Works like @angular/common PercentPipe but when value is larger than 0
     * and the result string is 0% , it returns < 1%.
     * See `PercentPipe` for params info.
     */
    transform(value, digitsInfo, locale) {
        let result = this.percentPipe.transform(value, digitsInfo, locale);
        if (value > 0 && parseFloat(result) === 0) {
            result = '< 1%';
        }
        if (value > 1) {
            result = '100%';
        }
        return result;
    }
}
SimilarityPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SimilarityPipe, deps: [{ token: i17.PercentPipe }], target: i0.ɵɵFactoryTarget.Pipe });
SimilarityPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SimilarityPipe, name: "similarity" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SimilarityPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'similarity',
                }]
        }], ctorParameters: function () { return [{ type: i17.PercentPipe }]; } });

class ArrayPipe {
    /**
     * A pipe to create an array of some size where all elements are undefined
     * Usefull for *ngFor binding
     * @param size the `size` of the array
     */
    transform(size) {
        if (!size || isNaN(size) || size <= 0) {
            return [];
        }
        return Array.from({ length: size });
    }
}
ArrayPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ArrayPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });
ArrayPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ArrayPipe, name: "array" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ArrayPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'array',
                }]
        }] });

class PropertiesComponent {
    constructor(componentFactoryResolver, reportService, viewModeService, layoutService, dialogService, statistics, directionService, translationsService, announcer) {
        this.componentFactoryResolver = componentFactoryResolver;
        this.reportService = reportService;
        this.viewModeService = viewModeService;
        this.layoutService = layoutService;
        this.dialogService = dialogService;
        this.statistics = statistics;
        this.directionService = directionService;
        this.translationsService = translationsService;
        this.announcer = announcer;
        this.isPDFDownloading = false;
        this.hideCreationTime = false;
        this.expanded = true;
        this.showUpgradeButton = false;
        this.showAIContentProperty = true;
        this.upgrade = new EventEmitter();
        this.eCRPackageProducts = ECRPackageProducts;
        this.expandChange = new EventEmitter();
        this.progress = null;
        this.previewCount = 0;
        this.hiddenResultsCount = 0;
        this.eNotificationSeverities = CompleteResultNotificationAlertSeverity;
        this.eReportViewMode = EReportViewModel;
        this.customColors = [
            { name: 'Identical', value: '#ff6666' },
            { name: 'Minor changes', value: '#ff9a9a' },
            { name: 'Related meaning', value: '#ffd9b0' },
            { name: 'Original', value: '#f7f7f7' },
        ];
        this.chartData = [];
        this.previewsLoading = false;
        this.messages = DEFAULT_TEXT_CONFIG;
    }
    get btnDownloadTooltip() {
        if (this.isPDFDownloading) {
            return this.translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.DOWNLOADING || 'Downloading...';
        }
        else {
            return this.translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.DOWNLOAD || 'Download';
        }
    }
    get isScanning() {
        return (this.progress &&
            (this.progress >= 0 || this.progress < 100) &&
            this.scanSummaryComponent &&
            !this.scanSummeryComponentInstance);
    }
    get done() {
        return this.progress === 100 && (!this.scanSummaryComponent || this.scanSummeryComponentInstance);
    }
    get total() {
        return this.metadata.scannedDocument.totalWords;
    }
    get combined() {
        return this.stats.identical + this.stats.relatedMeaning + this.stats.minorChanges;
    }
    get hasNonAIAlerts() {
        return this.reportService.hasNonAIAlerts();
    }
    get isPlagiarismEnabled() {
        return this.reportService.isPlagiarismEnabled();
    }
    get plagiarismScore() {
        if (this.reportService.isPlagiarismEnabled()) {
            const res = Math.min(1, this.combined / (this.stats.total - this.stats.omittedWords));
            return isNaN(res) ? 0 : res;
        }
        return null;
    }
    get isAiDetectionEnabled() {
        return this.reportService.isAiDetectionEnabled();
    }
    get aiScore() {
        return this.reportService.getAiScore();
    }
    get severity() {
        if (this.plagiarismScore <= 0.1) {
            return 'low';
        }
        if (this.plagiarismScore <= 0.5) {
            return 'medium';
        }
        return 'high';
    }
    get isAlertsView() {
        return this.viewModeService?.reportViewMode$?.value === EReportViewModel.Alerts;
    }
    get isShowingPartialStats() {
        if (!this.options || !this.stats) {
            return false;
        }
        if (!this.options.showIdentical && this.metadata.results.score.identicalWords > 0) {
            return true;
        }
        if (!this.options.showMinorChanges && this.metadata.results.score.minorChangedWords > 0) {
            return true;
        }
        if (!this.options.showRelated && this.metadata.results.score.relatedMeaningWords > 0) {
            return true;
        }
        return false;
    }
    get isAiView() {
        return this.viewModeService?.reportViewMode$?.value === this.eReportViewMode.AIView;
    }
    /**
     * this function will move to scanning result view mode
     */
    showScanningResult() {
        this.viewModeService.changeViewMode$(EReportViewModel.ScanningResult);
    }
    showAiView() {
        this.viewModeService.showAIAlertView(this.metadata);
    }
    /**
     * Help button click handler
     * Passes the click event to `ReportService`
     * @param event native mouse event
     */
    helpClicked(event) {
        this.reportService.helpBtnClicked(event);
    }
    /**
     * Share button click handler
     * Passes the click event to `ReportService`
     * @param event native mouse event
     */
    shareClicked(event) {
        this.reportService.shareBtnClicked(event);
    }
    /**
     * Download button click handler
     * Passes the click event to `ReportService`
     * @param event native mouse event
     */
    downloadClicked(event) {
        this.reportService.downloadBtnClicked(event);
    }
    /** Toggle a comparison */
    toggleComparison(type) {
        const options = { ...this.options };
        options[type] = !options[type];
        this.reportService.configure({ options });
        let announcerMsg = '';
        switch (type) {
            case 'showIdentical':
                announcerMsg = options[type] ? 'Identical results included' : 'Identical results omitted';
                break;
            case 'showMinorChanges':
                announcerMsg = options[type] ? 'Minor Changes results included' : 'Minor Changes results omitted';
                break;
            case 'showRelated':
                announcerMsg = options[type] ? 'Paraphrased results included' : 'Paraphrased results omitted';
                break;
            default:
                break;
        }
        this.announcer.announce(announcerMsg, 'assertive');
    }
    /**
     * check if the results overlay component was passed
     */
    checkAndAddScanSummeryComponent() {
        if (this.scanSummaryComponent) {
            if (!this.scanSummeryComponentInstance) {
                setTimeout(() => {
                    const factory = this.componentFactoryResolver.resolveComponentFactory(this.scanSummaryComponent);
                    if (!this.scanSummeryComponentInstance) {
                        const scanSummeryComponentInstance = this.scanSammeryComponentVcr?.createComponent(factory);
                        if (scanSummeryComponentInstance) {
                            this.scanSummeryComponentInstance = scanSummeryComponentInstance;
                            if (this.metadata) {
                                this.scanSummeryComponentInstance?.instance?.setCompleteResult(this.metadata);
                            }
                        }
                    }
                }, 100);
            }
        }
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - progress changes
     * - scan metadata
     * - share / download visibility
     * - statistics
     * - layout changes
     */
    ngOnInit() {
        this.translations = this.translationsService.translations;
        const { help$, share$, download$, settings$, completeResult$, progress$, previews$, viewMode$, options$, hiddenResults$, filteredPreviews$, totalResults$, } = this.reportService;
        completeResult$.pipe(untilDestroy(this)).subscribe(meta => {
            this.metadata = meta;
            this.scanSummeryComponentInstance?.instance?.setCompleteResult(this.metadata);
            if (meta.filters && meta.filters.resultIds) {
                filteredPreviews$.pipe(untilDestroy(this)).subscribe(previews => {
                    let counter = previews.length;
                    this.previewsLoading = counter !== 0;
                    for (const preview of previews) {
                        const result$ = this.reportService.findResultById$(preview.id);
                        result$.pipe(take(1), untilDestroy(this)).subscribe(() => {
                            --counter;
                            if (counter === 0) {
                                this.previewsLoading = false;
                            }
                        });
                    }
                });
            }
        });
        previews$.pipe(untilDestroy(this)).subscribe(previews => (this.previewCount = previews.length));
        hiddenResults$
            .pipe(untilDestroy(this))
            .subscribe(hiddneResults => (this.hiddenResultsCount = hiddneResults.length));
        help$.pipe(untilDestroy(this)).subscribe(help => (this.help = help));
        share$.pipe(untilDestroy(this)).subscribe(share => (this.share = share));
        download$.pipe(untilDestroy(this)).subscribe(download => (this.download = download));
        settings$.pipe(untilDestroy(this)).subscribe(settings => (this.settings = settings));
        viewMode$.pipe(untilDestroy(this)).subscribe(viewMode => (this.viewMode = viewMode));
        options$.pipe(untilDestroy(this)).subscribe(options => (this.options = options));
        totalResults$.pipe(untilDestroy(this)).subscribe(totalResults => (this.totalResults = totalResults));
        progress$.pipe(untilDestroy(this)).subscribe(value => {
            this.progress = value;
            if (this.progress === 100) {
                setTimeout(() => {
                    this.checkAndAddScanSummeryComponent();
                }, 100);
            }
        });
        this.statistics.statistics$.pipe(untilDestroy(this), truthy()).subscribe(value => {
            this.stats = value;
            const { identical, minorChanges, relatedMeaning, omittedWords, total } = value;
            this.chartData = [
                { name: 'Identical', value: identical },
                { name: 'Minor changes', value: minorChanges },
                { name: 'Related meaning', value: relatedMeaning },
                { name: 'Original', value: total - (identical + minorChanges + relatedMeaning + omittedWords) },
            ];
        });
        this.layoutService.isMobile$.pipe(untilDestroy(this)).subscribe(value => (this.isMobile = value));
        this.viewModeService.reportViewMode$.pipe(untilDestroy(this)).subscribe(viewMode => {
            this.reportViewMode = viewMode;
        });
    }
    /**
     * Displays the settings dialog modal
     */
    openSettingsDialog() {
        this.dialogService.open(OptionsDialogComponent, {
            direction: this.directionService.dir,
            data: this.reportService,
            ariaLabel: 'Choose type of the results that you want to filter out from the report.',
        });
    }
    /**
     * run on properties expand change
     */
    onExpandChange(expanded) {
        if (this.expandChange) {
            this.expandChange.emit(expanded);
        }
    }
    get resultsFound() {
        if (this.previewCount) {
            return this.previewCount;
        }
        return 0;
    }
    get totalViewedResults() {
        if (this.previewCount) {
            return this.totalResults ? this.totalResults : this.previewCount;
        }
        return 0;
    }
    get isShowingOnlyTopResults() {
        return this.options?.showOnlyTopResults;
    }
    /**
     * Show all hidden results
     */
    showAllResults() {
        this.viewModeService.changeViewMode$(EReportViewModel.ScanningResult);
        this.options.showOnlyTopResults = false;
        this.reportService.configure({ options: this.options });
    }
    showAlerts() {
        this.viewModeService.selectedAlert = null;
        this.viewModeService.changeViewMode$(EReportViewModel.Alerts);
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
PropertiesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PropertiesComponent, deps: [{ token: i0.ComponentFactoryResolver }, { token: ReportService }, { token: ViewModeService }, { token: LayoutMediaQueryService }, { token: i1.MatDialog }, { token: StatisticsService }, { token: DirectionService }, { token: CopyleaksTranslateService }, { token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
PropertiesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PropertiesComponent, selector: "cr-properties", inputs: { scanSummaryComponent: "scanSummaryComponent", isPDFDownloading: "isPDFDownloading", hideCreationTime: "hideCreationTime", expanded: "expanded", showUpgradeButton: "showUpgradeButton", showAIContentProperty: "showAIContentProperty" }, outputs: { upgrade: "upgrade", expandChange: "expandChange" }, host: { properties: { "class.mobile": "this.isMobile" } }, viewQueries: [{ propertyName: "notifications", first: true, predicate: ["notificationsRef"], descendants: true }, { propertyName: "scanSammeryComponentVcr", first: true, predicate: ["scanSummeryComponentVcr"], descendants: true, read: ViewContainerRef }], ngImport: i0, template: "<cr-expansion-panel [expanded]=\"expanded\" (expandChange)=\"onExpandChange($event)\">\n\t<cr-expansion-panel-title>\n\t\t<h3 class=\"expension-panel-title\" aria-hidden=\"true\">\n\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.TITLE || 'SCAN PROPERTIES' }}\n\t\t</h3>\n\t</cr-expansion-panel-title>\n\t<cr-expansion-panel-menu>\n\t\t<cr-expansion-panel-menu-item *ngIf=\"help\">\n\t\t\t<button\n\t\t\t\taria-label=\"Click for help.\"\n\t\t\t\ttitle=\"Help\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\tmat-button\n\t\t\t\t[matTooltip]=\"translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.HELP || 'Help'\"\n\t\t\t\t(click)=\"helpClicked($event)\">\n\t\t\t\t<mat-icon svgIcon=\"help_outline\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\t\t<cr-expansion-panel-menu-item *ngIf=\"share\">\n\t\t\t<button\n\t\t\t\taria-label=\"Click to share report.\"\n\t\t\t\ttitle=\"Share\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\tmat-button\n\t\t\t\t[matTooltip]=\"translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.SHARE || 'Share'\"\n\t\t\t\t(click)=\"shareClicked($event)\">\n\t\t\t\t<mat-icon svgIcon=\"share\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\t\t<cr-expansion-panel-menu-item *ngIf=\"download\">\n\t\t\t<button\n\t\t\t\taria-label=\"Click to download report.\"\n\t\t\t\trole=\"button\"\n\t\t\t\t[matTooltip]=\"btnDownloadTooltip ? btnDownloadTooltip : 'Download'\"\n\t\t\t\t[title]=\"btnDownloadTooltip\"\n\t\t\t\tmat-button\n\t\t\t\t[disabled]=\"isPDFDownloading\"\n\t\t\t\t(click)=\"downloadClicked($event)\">\n\t\t\t\t<mat-icon svgIcon=\"save_alt\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\t\t<!-- Click to download report. -->\n\t\t<cr-expansion-panel-menu-item>\n\t\t\t<button\n\t\t\t\taria-label=\"Click to open settings.\"\n\t\t\t\tmat-button\n\t\t\t\ttitle=\"Settings\"\n\t\t\t\tid=\"cr-properties-settings-button\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\t[matTooltip]=\"translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.SETTINGS || 'Settings'\"\n\t\t\t\t(click)=\"openSettingsDialog()\">\n\t\t\t\t<mat-icon svgIcon=\"settings\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\n\t\t<ng-content></ng-content>\n\t</cr-expansion-panel-menu>\n\t<cr-expansion-panel-body fxLayout=\"row nowrap\">\n\t\t<!-- PROGRESS -->\n\t\t<div prop>\n\t\t\t<ng-container>\n\t\t\t\t<!--  -->\n\t\t\t\t<ng-container #scanSummeryComponentVcr></ng-container>\n\t\t\t\t<!--  -->\n\t\t\t\t<ng-container *ngIf=\"!scanSummeryComponentInstance\">\n\t\t\t\t\t<div fxLayout=\"row nowrap\" fxLayoutAlign=\"center center\" fxLayoutGap=\"1em\">\n\t\t\t\t\t\t<div fxLayout=\"row nowrap\" *ngIf=\"!done\" fxLayoutAlign=\"center center\">\n\t\t\t\t\t\t\t<div header>&zwnj;</div>\n\t\t\t\t\t\t\t<cls-spinner width=\"50px\"></cls-spinner>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div header>\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!done && progress !== null && !(scanSummaryComponent && progress == 100)\">\n\t\t\t\t\t\t\t\t\t{{ progress && progress / 100 | percent : '1.0' }}\n\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"done\">\n\t\t\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.DONE || 'done' }}\n\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ng-container *ngIf=\"isScanning && !done\">\n\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.PROGRESS || 'Scanning' }}...\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t<ng-container *ngIf=\"!isScanning && !done\">\n\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.LOADING || 'Loading' }}...\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t<ng-container *ngIf=\"done\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t*ngIf=\"metadata\"\n\t\t\t\t\t\t\t\t[matTooltip]=\"metadata?.scannedDocument.creationTime | date : 'MMMM d, y, h:mm:ss a'\"\n\t\t\t\t\t\t\t\t[matTooltipDisabled]=\"hideCreationTime\">\n\t\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.SCANNED || 'Scanned' }}\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!hideCreationTime\">\n\t\t\t\t\t\t\t\t\t{{ metadata?.scannedDocument.creationTime | timeAgo }}\n\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</div>\n\t\t\t\t</ng-container>\n\t\t\t</ng-container>\n\t\t</div>\n\n\t\t<ng-container *ngIf=\"isPlagiarismEnabled\">\n\t\t\t<!-- RESULTS FOUND -->\n\t\t\t<div prop [style.cursor]=\"isAlertsView ? 'pointer' : ''\" (click)=\"isAlertsView && showScanningResult()\">\n\t\t\t\t<div id=\"cr-hint-results-found\"></div>\n\t\t\t\t<div header [matTooltip]=\"resultsFound >= 1000 ? (resultsFound | number) + ' results' : null\">\n\t\t\t\t\t<span>{{ resultsFound | shortNumber : 1 }}</span>\n\t\t\t\t\t<ng-container *ngIf=\"resultsFound < totalViewedResults && isShowingOnlyTopResults\">+</ng-container>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\thiddenResultsCount\n\t\t\t\t\t\t\t? hiddenResultsCount +\n\t\t\t\t\t\t\t  ' ' +\n\t\t\t\t\t\t\t  (translations?.SCAN_PROPERTIES_SECTION?.RESULTS_FOUND_TOOLTIP || 'Results have been filtered')\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\">\n\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.RESULTS_FOUND || 'results found' }}\n\t\t\t\t\t<span *ngIf=\"hiddenResultsCount\" style=\"color: red\">*</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\t*ngIf=\"resultsFound < totalViewedResults && isShowingOnlyTopResults\"\n\t\t\t\t\tclass=\"show-all-result\"\n\t\t\t\t\t(click)=\"showAllResults()\">\n\t\t\t\t\tShow All\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- # COPIED WORDS -->\n\t\t\t<div\n\t\t\t\tprop\n\t\t\t\t*ngIf=\"stats && !previewsLoading; else skeleton__prop\"\n\t\t\t\t[matTooltip]=\"\n\t\t\t\t\ttotal + ' ' + (translations?.SCAN_PROPERTIES_SECTION?.SIMILAR_WORDS_TOOPTIP || 'submitted words')\n\t\t\t\t\">\n\t\t\t\t<div header>\n\t\t\t\t\t{{ combined | shortNumber : 1 }}\n\t\t\t\t</div>\n\t\t\t\t<div>{{ translations?.SCAN_PROPERTIES_SECTION?.SIMILAR_WORDS || 'similar words' }}</div>\n\t\t\t</div>\n\n\t\t\t<!-- STATS -->\n\t\t\t<div stats [fxFlexOrder.lt-md]=\"-5\" fxLayout=\"row nowrap\" fxLayoutAlign=\"stretch stretch\">\n\t\t\t\t<ng-container *ngIf=\"stats && !previewsLoading; else skeleton__stats\">\n\t\t\t\t\t<ngx-charts-pie-chart\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\tfxHide.lt-md\n\t\t\t\t\t\t[customColors]=\"customColors\"\n\t\t\t\t\t\t[results]=\"chartData\"\n\t\t\t\t\t\t[view]=\"[150, 150]\">\n\t\t\t\t\t\t<ng-template #tooltipTemplate let-model=\"model\">\n\t\t\t\t\t\t\t<div style=\"padding: 0.5em\" class=\"mat-typography\">\n\t\t\t\t\t\t\t\t<span style=\"font-size: 1em; display: block\">{{ model.value | number }}</span>\n\t\t\t\t\t\t\t\t<span tooltip-text>\n\t\t\t\t\t\t\t\t\t<ng-container [ngSwitch]=\"model.name\">\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Identical'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Minor changes'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Related meaning'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Original'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.ORIGINAL || model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchDefault>\n\t\t\t\t\t\t\t\t\t\t\t{{ model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t</ngx-charts-pie-chart>\n\n\t\t\t\t\t<div legend fxLayout=\"column\" fxFlex fxLayoutAlign=\"space-evenly stretch\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tmat-button\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tclass=\"cr-hint-button\"\n\t\t\t\t\t\t\tid=\"cr-hint-identical\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"'Identical results' + (stats?.identical / stats?.total | similarity : '1.0-1')\"\n\t\t\t\t\t\t\t(click)=\"toggleComparison('showIdentical')\"\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\toptions?.showIdentical\n\t\t\t\t\t\t\t\t\t? translations?.SHARED?.MATCH_TYPES?.IDENTICAL_TOOLTIP || messages.IDENTICAL_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\t\t: translations?.SHARED?.MATCH_TYPES?.OMITTED_MATCH_TOOLTIP_TEXT ||\n\t\t\t\t\t\t\t\t\t  messages.MATCH_TYPE_OMITTED_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tdisableRipple>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"dot identical\"\n\t\t\t\t\t\t\t\t[ngStyle]=\"{ visibility: options?.showIdentical ? 'visible' : 'hidden' }\"></div>\n\t\t\t\t\t\t\t<div text [ngClass]=\"{ 'cr-strike-out': !options?.showIdentical }\">\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || 'Identical' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\n\t\t\t\t\t\t\t<div *ngIf=\"options.showIdentical || stats.identical > 0\">\n\t\t\t\t\t\t\t\t{{ stats?.identical / stats?.total | similarity : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<mat-divider></mat-divider>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tmat-button\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tclass=\"cr-hint-button\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"'Minor Changes results' + (stats?.minorChanges / stats?.total | similarity : '1.0-1')\"\n\t\t\t\t\t\t\t(click)=\"toggleComparison('showMinorChanges')\"\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\toptions?.showMinorChanges\n\t\t\t\t\t\t\t\t\t? translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES_TOOLTIP || messages.MINOR_CHANGES_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\t\t: translations?.SHARED?.MATCH_TYPES?.OMITTED_MATCH_TOOLTIP_TEXT ||\n\t\t\t\t\t\t\t\t\t  messages.MATCH_TYPE_OMITTED_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tdisableRipple>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"dot minor-changes\"\n\t\t\t\t\t\t\t\t[ngStyle]=\"{ visibility: options?.showMinorChanges ? 'visible' : 'hidden' }\"></div>\n\t\t\t\t\t\t\t<div text [ngClass]=\"{ 'cr-strike-out': options?.showMinorChanges !== true }\">\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || 'Minor Changes' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\t\t\t\t\t\t\t<div *ngIf=\"options.showMinorChanges || stats.minorChanges > 0\">\n\t\t\t\t\t\t\t\t{{ stats?.minorChanges / stats?.total | percent : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<mat-divider></mat-divider>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tmat-button\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tclass=\"cr-hint-button\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"'Paraphrased results' + (stats?.relatedMeaning / stats?.total | similarity : '1.0-1')\"\n\t\t\t\t\t\t\t(click)=\"toggleComparison('showRelated')\"\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\toptions?.showRelated\n\t\t\t\t\t\t\t\t\t? translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING_TOOLTIP || messages.RELATED_MEANING_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\t\t: translations?.SHARED?.MATCH_TYPES?.OMITTED_MATCH_TOOLTIP_TEXT ||\n\t\t\t\t\t\t\t\t\t  messages.MATCH_TYPE_OMITTED_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tdisableRipple>\n\t\t\t\t\t\t\t<div class=\"dot related\" [ngStyle]=\"{ visibility: options?.showRelated ? 'visible' : 'hidden' }\"></div>\n\t\t\t\t\t\t\t<div text [ngClass]=\"{ 'cr-strike-out': options?.showRelated !== true }\">\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\t\t\t\t\t\t\t<div *ngIf=\"options.showRelated || stats.relatedMeaning > 0\">\n\t\t\t\t\t\t\t\t{{ stats?.relatedMeaning / stats?.total | percent : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<mat-divider></mat-divider>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\ttranslations?.SHARED?.MATCH_TYPES?.OMITTED_WORDS_TOOLTIP || messages.OMITTED_WORDS_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tfxLayout=\"row\"\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\"\n\t\t\t\t\t\t\tfxLayoutGap=\"0.5em\">\n\t\t\t\t\t\t\t<div class=\"dot omitted\"></div>\n\t\t\t\t\t\t\t<div text>\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.OMITTED_WORDS || 'Omitted Words' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{{ stats && metadata.scannedDocument.totalExcluded / stats?.total | percent : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ng-template #statsSpinner>\n\t\t\t\t\t\t<cls-spinner title=\"Spinner\" *ngIf=\"!stats\" width=\"16px\" style=\"display: inline-block\"></cls-spinner>\n\t\t\t\t\t</ng-template>\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t\t<!-- % PLAGIARISM -->\n\t\t<div\n\t\t\tprop\n\t\t\tid=\"cr-hint-results-score\"\n\t\t\t*ngIf=\"stats && !previewsLoading; else skeleton__prop\"\n\t\t\t[ngClass]=\"{\n\t\t\t\tdisabled_score: plagiarismScore == null,\n\t\t\t\tlow: plagiarismScore != null && plagiarismScore <= 0.1,\n\t\t\t\tmedium: plagiarismScore > 0.1 && plagiarismScore <= 0.5,\n\t\t\t\thigh: plagiarismScore > 0.5\n\t\t\t}\">\n\t\t\t<div header>\n\t\t\t\t<ng-container *ngIf=\"plagiarismScore != null\">{{ plagiarismScore | percent : '1.0-1' }}</ng-container>\n\t\t\t\t<ng-container *ngIf=\"plagiarismScore == null\">N/A</ng-container>\n\t\t\t</div>\n\t\t\t<div [matTooltip]=\"isShowingPartialStats ? 'Some matches are ommited according to your settings' : null\">\n\t\t\t\t<span>\n\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.PLAGIARISM || 'matches' }}{{ isShowingPartialStats ? '*' : '' }}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<ng-container *ngIf=\"isPlagiarismEnabled && hasNonAIAlerts && !isAiView\">\n\t\t\t\t<cr-notifications #notificationsRef></cr-notifications>\n\t\t\t</ng-container>\n\t\t\t<!-- View -->\n\t\t\t<section class=\"score-group-buttons\">\n\t\t\t\t<button\n\t\t\t\t\tmatTooltip=\"SEE ALERTS\"\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && hasNonAIAlerts && isAiView\"\n\t\t\t\t\tclass=\"side-icon-button\"\n\t\t\t\t\tmat-icon-button\n\t\t\t\t\t(click)=\"showAlerts()\"\n\t\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t\t'btn-notifications-error':\n\t\t\t\t\t\t\tnotificationSeverity == eNotificationSeverities.High ||\n\t\t\t\t\t\t\tnotificationSeverity == eNotificationSeverities.VeryHigh,\n\t\t\t\t\t\t'btn-notifications-warning': notificationSeverity == eNotificationSeverities.Medium\n\t\t\t\t\t}\">\n\t\t\t\t\t<ng-container [ngSwitch]=\"notificationSeverity\">\n\t\t\t\t\t\t<mat-icon *ngSwitchCase=\"eNotificationSeverities.Medium\">warning</mat-icon>\n\t\t\t\t\t\t<mat-icon *ngSwitchCase=\"eNotificationSeverities.High\">error</mat-icon>\n\t\t\t\t\t\t<mat-icon *ngSwitchCase=\"eNotificationSeverities.VeryHigh\">error</mat-icon>\n\t\t\t\t\t\t<mat-icon *ngSwitchDefault>info</mat-icon>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && isAiView\"\n\t\t\t\t\tclass=\"btn-view\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\"\n\t\t\t\t\t(click)=\"showScanningResult()\">\n\t\t\t\t\t<mat-icon class=\"mat-18\">visibility</mat-icon>\n\t\t\t\t\tView\n\t\t\t\t</button>\n\t\t\t</section>\n\t\t\t<!-- Viewing -->\n\t\t\t<button\n\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && !hasNonAIAlerts && !isAiView\"\n\t\t\t\tclass=\"btn-viewing\"\n\t\t\t\tmat-stroked-button\n\t\t\t\tcolor=\"basic\"\n\t\t\t\tdisabled>\n\t\t\t\tViewing\n\t\t\t</button>\n\t\t\t<!-- Upgrade -->\n\t\t\t<button\n\t\t\t\t*ngIf=\"!isPlagiarismEnabled && showUpgradeButton\"\n\t\t\t\t(click)=\"upgrade.emit(eCRPackageProducts.plagiairsm)\"\n\t\t\t\tclass=\"btn-upgrade\"\n\t\t\t\tmat-stroked-button\n\t\t\t\tcolor=\"basic\">\n\t\t\t\t<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M13.1531 7.6355C13.666 7.27341 14.001 6.67607 14.001 6.00049C14.001 4.89592 13.1055 4.00049 12.001 4.00049C10.8964 4.00049 10.001 4.89592 10.001 6.00049C10.001 6.69982 10.3599 7.31531 10.9036 7.67281C9.84466 9.34691 8.40096 11.8147 8.40096 12.8253C7.83778 11.4693 6.28214 10.5836 4.9844 10.0586C5.17624 9.75158 5.28711 9.3888 5.28711 9.00012C5.28711 7.89555 4.39168 7.00012 3.28711 7.00012C2.18254 7.00012 1.28711 7.89555 1.28711 9.00012C1.28711 10.1047 2.18254 11.0001 3.28711 11.0001C3.31361 11.0001 3.34 10.9996 3.36625 10.9986L5.00096 17.9995H19.001L20.6428 10.968C20.759 10.989 20.8787 11 21.001 11C22.1055 11 23.001 10.1046 23.001 9C23.001 7.89543 22.1055 7 21.001 7C19.8964 7 19.001 7.89543 19.001 9C19.001 9.35977 19.096 9.69736 19.2622 9.98904C17.9757 10.5038 16.3376 11.4075 15.6817 12.8253C15.6817 11.6225 14.2328 9.24225 13.1531 7.6355ZM5.07272 19.9995C5.0252 19.6702 5.00096 19.3361 5.00096 18.9995H12.001H19.001C19.001 19.3361 18.9767 19.6702 18.9292 19.9995H5.07272Z\"\n\t\t\t\t\t\tfill=\"#3F9AF5\" />\n\t\t\t\t</svg>\n\t\t\t\tUpgrade\n\t\t\t</button>\n\t\t</div>\n\n\t\t<!-- % AI -->\n\t\t<ng-container *ngIf=\"showAIContentProperty\">\n\t\t\t<div\n\t\t\t\tprop\n\t\t\t\tid=\"cr-hint-results-score\"\n\t\t\t\t*ngIf=\"stats && !previewsLoading; else skeleton__prop\"\n\t\t\t\t[ngClass]=\"{\n\t\t\t\t\tdisabled_score: aiScore == null,\n\t\t\t\t\tlow: aiScore != null && aiScore <= 0.1,\n\t\t\t\t\tmedium: aiScore > 0.1 && aiScore <= 0.5,\n\t\t\t\t\thigh: aiScore > 0.5\n\t\t\t\t}\">\n\t\t\t\t<div header>\n\t\t\t\t\t<ng-container *ngIf=\"aiScore != null\">{{ aiScore | percent : '1.0-1' }}</ng-container>\n\t\t\t\t\t<ng-container *ngIf=\"aiScore == null\">N/A</ng-container>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.AiContent || 'ai content' }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<!-- View -->\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && !isAiView\"\n\t\t\t\t\tclass=\"btn-view\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\"\n\t\t\t\t\t(click)=\"showAiView()\">\n\t\t\t\t\t<mat-icon class=\"mat-18\">visibility</mat-icon>\n\t\t\t\t\tView\n\t\t\t\t</button>\n\t\t\t\t<!-- Viewing -->\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && isAiView\"\n\t\t\t\t\tclass=\"btn-viewing\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\"\n\t\t\t\t\tdisabled>\n\t\t\t\t\tViewing\n\t\t\t\t</button>\n\t\t\t\t<!-- Upgrade -->\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"!isAiDetectionEnabled && showUpgradeButton\"\n\t\t\t\t\t(click)=\"upgrade.emit(eCRPackageProducts.ai)\"\n\t\t\t\t\tclass=\"btn-upgrade\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\">\n\t\t\t\t\t<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M13.1531 7.6355C13.666 7.27341 14.001 6.67607 14.001 6.00049C14.001 4.89592 13.1055 4.00049 12.001 4.00049C10.8964 4.00049 10.001 4.89592 10.001 6.00049C10.001 6.69982 10.3599 7.31531 10.9036 7.67281C9.84466 9.34691 8.40096 11.8147 8.40096 12.8253C7.83778 11.4693 6.28214 10.5836 4.9844 10.0586C5.17624 9.75158 5.28711 9.3888 5.28711 9.00012C5.28711 7.89555 4.39168 7.00012 3.28711 7.00012C2.18254 7.00012 1.28711 7.89555 1.28711 9.00012C1.28711 10.1047 2.18254 11.0001 3.28711 11.0001C3.31361 11.0001 3.34 10.9996 3.36625 10.9986L5.00096 17.9995H19.001L20.6428 10.968C20.759 10.989 20.8787 11 21.001 11C22.1055 11 23.001 10.1046 23.001 9C23.001 7.89543 22.1055 7 21.001 7C19.8964 7 19.001 7.89543 19.001 9C19.001 9.35977 19.096 9.69736 19.2622 9.98904C17.9757 10.5038 16.3376 11.4075 15.6817 12.8253C15.6817 11.6225 14.2328 9.24225 13.1531 7.6355ZM5.07272 19.9995C5.0252 19.6702 5.00096 19.3361 5.00096 18.9995H12.001H19.001C19.001 19.3361 18.9767 19.6702 18.9292 19.9995H5.07272Z\"\n\t\t\t\t\t\t\tfill=\"#3F9AF5\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\tUpgrade\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</ng-container>\n\t</cr-expansion-panel-body>\n</cr-expansion-panel>\n\n<ng-template #skeleton__prop>\n\t<div prop>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '3em', width: '95px', margin: '0.5em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '1em', width: '3em' }\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n\n<ng-template #skeleton__stats>\n\t<div fxLayout=\"column\">\n\t\t<ngx-skeleton-loader\n\t\t\t[theme]=\"{ width: '118px', height: '113px', margin: '1em' }\"\n\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t</div>\n\n\t<div fxLayout=\"column\" fxFlex fxLayoutAlign=\"space-evenly stretch\">\n\t\t<ng-container *ngFor=\"let x of 4 | array; let last = last\">\n\t\t\t<div fxLayout=\"row\" fxLayoutGap=\"1em\" style=\"padding: 0em 0.5em\" fxLayoutAlign=\"center center\">\n\t\t\t\t<ngx-skeleton-loader\n\t\t\t\t\tappearance=\"circle\"\n\t\t\t\t\t[theme]=\"{ width: '1.75em', height: '1.75em', margin: '0px' }\"></ngx-skeleton-loader>\n\t\t\t\t<ngx-skeleton-loader [theme]=\"{ margin: '0', width: '5em' }\"></ngx-skeleton-loader>\n\t\t\t\t<span fxFlex></span>\n\t\t\t\t<ngx-skeleton-loader [theme]=\"{ margin: '0', width: '3em' }\"></ngx-skeleton-loader>\n\t\t\t</div>\n\t\t\t<mat-divider *ngIf=\"!last\"></mat-divider>\n\t\t</ng-container>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{box-sizing:border-box;width:100%;background-color:#fff}cr-expansion-panel-title h3{margin:0;font-size:14px;font-weight:500}cr-expansion-panel{margin:1em 1em 0;background-color:#fff}cr-expansion-panel-menu-item [mat-button]{border-radius:0;min-width:36px;padding:0}cr-expansion-panel-body{overflow-x:auto}cr-expansion-panel-body>div:not(:last-child){border-right:1px solid #e6e6e6}cr-expansion-panel-body [progress]{display:flex;flex-direction:column;justify-content:center;padding:1em;align-items:center;flex:1}cr-expansion-panel-body [progress] mat-icon{color:#6ac259}cr-expansion-panel-body .disabled_score{color:#212121}cr-expansion-panel-body .disabled_score [header]{color:#8590a2;font-weight:500;margin-bottom:0;font-size:32px!important}cr-expansion-panel-body .low{color:#29c44d}cr-expansion-panel-body .medium{color:#906d16}cr-expansion-panel-body .high{color:#ec4f3a}cr-expansion-panel-body [stats]{flex:3;max-width:475px;min-width:375px}@media screen and (max-width: 959px){cr-expansion-panel-body [stats]{max-width:300px;min-width:unset}}cr-expansion-panel-body [stats] [legend] [row]{padding:0 .5em;flex:1}cr-expansion-panel-body [stats] [legend] [row]:not(:last-child){cursor:pointer}cr-expansion-panel-body [stats] [legend] [row] [text]{white-space:nowrap}cr-expansion-panel-body [stats] [legend] [row] .cr-strike-out{text-decoration:line-through}cr-expansion-panel-body [prop]{padding:1em;display:flex;flex:1;flex-flow:column nowrap;justify-content:center;align-items:center;text-transform:uppercase;font-weight:700;white-space:nowrap}cr-expansion-panel-body [prop] [header]{line-height:1em;font-size:2.6em}@media screen and (max-width: 959px){cr-expansion-panel-body [prop] [header]{font-size:2em}}#cr-hint-results-score span{font-size:19px}#cr-hint-results-found{position:relative;top:-30px}.show-all-result{color:#17a1ff;font-size:11px}.show-all-result:hover{text-decoration:underline;cursor:pointer}.score-group-buttons{display:flex;justify-content:center;align-items:center}.btn-view,.btn-viewing{position:relative;color:#52616b;border-color:#52616b;font-weight:700;font-size:14px;text-transform:uppercase;line-height:29px;margin:10px 5px;padding-bottom:2px}.btn-view mat-icon,.btn-viewing mat-icon{font-size:18px;height:18px;width:18px;line-height:18px;margin-right:4px}.btn-view:hover{color:#3f9af5;border-color:#3f9af5}.btn-viewing{background:#8590a2;color:#fff!important;border-color:#8590a2!important}.btn-upgrade{margin-top:10px;color:#3f9af5;border-color:#3f9af5;font-weight:700;line-height:2.2;padding:0 8px 0 7px}.btn-upgrade svg{margin-top:-5px}.cr-hint-button{border-radius:unset;font-weight:400;line-height:normal}.cr-hint-button ::ng-deep .mat-button-wrapper{display:flex;place-content:center flex-start;align-items:center;gap:.5em}\n"], components: [{ type: ExpansionPanelComponent, selector: "cr-expansion-panel", inputs: ["expanded", "disabled"], outputs: ["expandChange"] }, { type: ExpansionPanelTitleComponent, selector: "cr-expansion-panel-title" }, { type: ExpansionPanelMenuComponent, selector: "cr-expansion-panel-menu" }, { type: ExpansionPanelMenuItemComponent, selector: "cr-expansion-panel-menu-item" }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: ExpansionPanelBodyComponent, selector: "cr-expansion-panel-body" }, { type: SpinnerComponent, selector: "cls-spinner", inputs: ["width", "color"] }, { type: i13.PieChartComponent, selector: "ngx-charts-pie-chart", inputs: ["labels", "legend", "legendTitle", "legendPosition", "explodeSlices", "doughnut", "arcWidth", "activeEntries", "tooltipDisabled", "trimLabels", "maxLabelLength", "margins", "gradient", "labelFormatting", "tooltipText"], outputs: ["dblclick", "select", "activate", "deactivate"] }, { type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }, { type: NotificationsComponent, selector: "cr-notifications", outputs: ["severityChange"] }, { type: i16.NgxSkeletonLoaderComponent, selector: "ngx-skeleton-loader", inputs: ["count", "appearance", "theme"] }], directives: [{ type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i19.DefaultFlexOrderDirective, selector: "  [fxFlexOrder], [fxFlexOrder.xs], [fxFlexOrder.sm], [fxFlexOrder.md],  [fxFlexOrder.lg], [fxFlexOrder.xl], [fxFlexOrder.lt-sm], [fxFlexOrder.lt-md],  [fxFlexOrder.lt-lg], [fxFlexOrder.lt-xl], [fxFlexOrder.gt-xs], [fxFlexOrder.gt-sm],  [fxFlexOrder.gt-md], [fxFlexOrder.gt-lg]", inputs: ["fxFlexOrder", "fxFlexOrder.xs", "fxFlexOrder.sm", "fxFlexOrder.md", "fxFlexOrder.lg", "fxFlexOrder.xl", "fxFlexOrder.lt-sm", "fxFlexOrder.lt-md", "fxFlexOrder.lt-lg", "fxFlexOrder.lt-xl", "fxFlexOrder.gt-xs", "fxFlexOrder.gt-sm", "fxFlexOrder.gt-md", "fxFlexOrder.gt-lg"] }, { type: i20.DefaultShowHideDirective, selector: "  [fxShow], [fxShow.print],  [fxShow.xs], [fxShow.sm], [fxShow.md], [fxShow.lg], [fxShow.xl],  [fxShow.lt-sm], [fxShow.lt-md], [fxShow.lt-lg], [fxShow.lt-xl],  [fxShow.gt-xs], [fxShow.gt-sm], [fxShow.gt-md], [fxShow.gt-lg],  [fxHide], [fxHide.print],  [fxHide.xs], [fxHide.sm], [fxHide.md], [fxHide.lg], [fxHide.xl],  [fxHide.lt-sm], [fxHide.lt-md], [fxHide.lt-lg], [fxHide.lt-xl],  [fxHide.gt-xs], [fxHide.gt-sm], [fxHide.gt-md], [fxHide.gt-lg]", inputs: ["fxShow", "fxShow.print", "fxShow.xs", "fxShow.sm", "fxShow.md", "fxShow.lg", "fxShow.xl", "fxShow.lt-sm", "fxShow.lt-md", "fxShow.lt-lg", "fxShow.lt-xl", "fxShow.gt-xs", "fxShow.gt-sm", "fxShow.gt-md", "fxShow.gt-lg", "fxHide", "fxHide.print", "fxHide.xs", "fxHide.sm", "fxHide.md", "fxHide.lg", "fxHide.xl", "fxHide.lt-sm", "fxHide.lt-md", "fxHide.lt-lg", "fxHide.lt-xl", "fxHide.gt-xs", "fxHide.gt-sm", "fxHide.gt-md", "fxHide.gt-lg"] }, { type: i17.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i17.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i17.NgSwitchDefault, selector: "[ngSwitchDefault]" }, { type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i17.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i20.DefaultStyleDirective, selector: "  [ngStyle],  [ngStyle.xs], [ngStyle.sm], [ngStyle.md], [ngStyle.lg], [ngStyle.xl],  [ngStyle.lt-sm], [ngStyle.lt-md], [ngStyle.lt-lg], [ngStyle.lt-xl],  [ngStyle.gt-xs], [ngStyle.gt-sm], [ngStyle.gt-md], [ngStyle.gt-lg]", inputs: ["ngStyle", "ngStyle.xs", "ngStyle.sm", "ngStyle.md", "ngStyle.lg", "ngStyle.xl", "ngStyle.lt-sm", "ngStyle.lt-md", "ngStyle.lt-lg", "ngStyle.lt-xl", "ngStyle.gt-xs", "ngStyle.gt-sm", "ngStyle.gt-md", "ngStyle.gt-lg"] }, { type: i17.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i20.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }], pipes: { "percent": i17.PercentPipe, "date": i17.DatePipe, "timeAgo": TimeAgoPipe, "number": i17.DecimalPipe, "shortNumber": ShortNumberPipe, "similarity": SimilarityPipe, "array": ArrayPipe }, animations: [] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PropertiesComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-properties', animations: [], template: "<cr-expansion-panel [expanded]=\"expanded\" (expandChange)=\"onExpandChange($event)\">\n\t<cr-expansion-panel-title>\n\t\t<h3 class=\"expension-panel-title\" aria-hidden=\"true\">\n\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.TITLE || 'SCAN PROPERTIES' }}\n\t\t</h3>\n\t</cr-expansion-panel-title>\n\t<cr-expansion-panel-menu>\n\t\t<cr-expansion-panel-menu-item *ngIf=\"help\">\n\t\t\t<button\n\t\t\t\taria-label=\"Click for help.\"\n\t\t\t\ttitle=\"Help\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\tmat-button\n\t\t\t\t[matTooltip]=\"translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.HELP || 'Help'\"\n\t\t\t\t(click)=\"helpClicked($event)\">\n\t\t\t\t<mat-icon svgIcon=\"help_outline\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\t\t<cr-expansion-panel-menu-item *ngIf=\"share\">\n\t\t\t<button\n\t\t\t\taria-label=\"Click to share report.\"\n\t\t\t\ttitle=\"Share\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\tmat-button\n\t\t\t\t[matTooltip]=\"translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.SHARE || 'Share'\"\n\t\t\t\t(click)=\"shareClicked($event)\">\n\t\t\t\t<mat-icon svgIcon=\"share\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\t\t<cr-expansion-panel-menu-item *ngIf=\"download\">\n\t\t\t<button\n\t\t\t\taria-label=\"Click to download report.\"\n\t\t\t\trole=\"button\"\n\t\t\t\t[matTooltip]=\"btnDownloadTooltip ? btnDownloadTooltip : 'Download'\"\n\t\t\t\t[title]=\"btnDownloadTooltip\"\n\t\t\t\tmat-button\n\t\t\t\t[disabled]=\"isPDFDownloading\"\n\t\t\t\t(click)=\"downloadClicked($event)\">\n\t\t\t\t<mat-icon svgIcon=\"save_alt\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\t\t<!-- Click to download report. -->\n\t\t<cr-expansion-panel-menu-item>\n\t\t\t<button\n\t\t\t\taria-label=\"Click to open settings.\"\n\t\t\t\tmat-button\n\t\t\t\ttitle=\"Settings\"\n\t\t\t\tid=\"cr-properties-settings-button\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\t[matTooltip]=\"translations?.SCAN_PROPERTIES_SECTION?.ACTIONS?.SETTINGS || 'Settings'\"\n\t\t\t\t(click)=\"openSettingsDialog()\">\n\t\t\t\t<mat-icon svgIcon=\"settings\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-expansion-panel-menu-item>\n\n\t\t<ng-content></ng-content>\n\t</cr-expansion-panel-menu>\n\t<cr-expansion-panel-body fxLayout=\"row nowrap\">\n\t\t<!-- PROGRESS -->\n\t\t<div prop>\n\t\t\t<ng-container>\n\t\t\t\t<!--  -->\n\t\t\t\t<ng-container #scanSummeryComponentVcr></ng-container>\n\t\t\t\t<!--  -->\n\t\t\t\t<ng-container *ngIf=\"!scanSummeryComponentInstance\">\n\t\t\t\t\t<div fxLayout=\"row nowrap\" fxLayoutAlign=\"center center\" fxLayoutGap=\"1em\">\n\t\t\t\t\t\t<div fxLayout=\"row nowrap\" *ngIf=\"!done\" fxLayoutAlign=\"center center\">\n\t\t\t\t\t\t\t<div header>&zwnj;</div>\n\t\t\t\t\t\t\t<cls-spinner width=\"50px\"></cls-spinner>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div header>\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!done && progress !== null && !(scanSummaryComponent && progress == 100)\">\n\t\t\t\t\t\t\t\t\t{{ progress && progress / 100 | percent : '1.0' }}\n\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"done\">\n\t\t\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.DONE || 'done' }}\n\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ng-container *ngIf=\"isScanning && !done\">\n\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.PROGRESS || 'Scanning' }}...\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t<ng-container *ngIf=\"!isScanning && !done\">\n\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.LOADING || 'Loading' }}...\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t<ng-container *ngIf=\"done\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t*ngIf=\"metadata\"\n\t\t\t\t\t\t\t\t[matTooltip]=\"metadata?.scannedDocument.creationTime | date : 'MMMM d, y, h:mm:ss a'\"\n\t\t\t\t\t\t\t\t[matTooltipDisabled]=\"hideCreationTime\">\n\t\t\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.SCANNING?.SCANNED || 'Scanned' }}\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!hideCreationTime\">\n\t\t\t\t\t\t\t\t\t{{ metadata?.scannedDocument.creationTime | timeAgo }}\n\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</div>\n\t\t\t\t</ng-container>\n\t\t\t</ng-container>\n\t\t</div>\n\n\t\t<ng-container *ngIf=\"isPlagiarismEnabled\">\n\t\t\t<!-- RESULTS FOUND -->\n\t\t\t<div prop [style.cursor]=\"isAlertsView ? 'pointer' : ''\" (click)=\"isAlertsView && showScanningResult()\">\n\t\t\t\t<div id=\"cr-hint-results-found\"></div>\n\t\t\t\t<div header [matTooltip]=\"resultsFound >= 1000 ? (resultsFound | number) + ' results' : null\">\n\t\t\t\t\t<span>{{ resultsFound | shortNumber : 1 }}</span>\n\t\t\t\t\t<ng-container *ngIf=\"resultsFound < totalViewedResults && isShowingOnlyTopResults\">+</ng-container>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\thiddenResultsCount\n\t\t\t\t\t\t\t? hiddenResultsCount +\n\t\t\t\t\t\t\t  ' ' +\n\t\t\t\t\t\t\t  (translations?.SCAN_PROPERTIES_SECTION?.RESULTS_FOUND_TOOLTIP || 'Results have been filtered')\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\">\n\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.RESULTS_FOUND || 'results found' }}\n\t\t\t\t\t<span *ngIf=\"hiddenResultsCount\" style=\"color: red\">*</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\t*ngIf=\"resultsFound < totalViewedResults && isShowingOnlyTopResults\"\n\t\t\t\t\tclass=\"show-all-result\"\n\t\t\t\t\t(click)=\"showAllResults()\">\n\t\t\t\t\tShow All\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- # COPIED WORDS -->\n\t\t\t<div\n\t\t\t\tprop\n\t\t\t\t*ngIf=\"stats && !previewsLoading; else skeleton__prop\"\n\t\t\t\t[matTooltip]=\"\n\t\t\t\t\ttotal + ' ' + (translations?.SCAN_PROPERTIES_SECTION?.SIMILAR_WORDS_TOOPTIP || 'submitted words')\n\t\t\t\t\">\n\t\t\t\t<div header>\n\t\t\t\t\t{{ combined | shortNumber : 1 }}\n\t\t\t\t</div>\n\t\t\t\t<div>{{ translations?.SCAN_PROPERTIES_SECTION?.SIMILAR_WORDS || 'similar words' }}</div>\n\t\t\t</div>\n\n\t\t\t<!-- STATS -->\n\t\t\t<div stats [fxFlexOrder.lt-md]=\"-5\" fxLayout=\"row nowrap\" fxLayoutAlign=\"stretch stretch\">\n\t\t\t\t<ng-container *ngIf=\"stats && !previewsLoading; else skeleton__stats\">\n\t\t\t\t\t<ngx-charts-pie-chart\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\tfxHide.lt-md\n\t\t\t\t\t\t[customColors]=\"customColors\"\n\t\t\t\t\t\t[results]=\"chartData\"\n\t\t\t\t\t\t[view]=\"[150, 150]\">\n\t\t\t\t\t\t<ng-template #tooltipTemplate let-model=\"model\">\n\t\t\t\t\t\t\t<div style=\"padding: 0.5em\" class=\"mat-typography\">\n\t\t\t\t\t\t\t\t<span style=\"font-size: 1em; display: block\">{{ model.value | number }}</span>\n\t\t\t\t\t\t\t\t<span tooltip-text>\n\t\t\t\t\t\t\t\t\t<ng-container [ngSwitch]=\"model.name\">\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Identical'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Minor changes'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Related meaning'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchCase=\"'Original'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.ORIGINAL || model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngSwitchDefault>\n\t\t\t\t\t\t\t\t\t\t\t{{ model.name }}\n\t\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t</ngx-charts-pie-chart>\n\n\t\t\t\t\t<div legend fxLayout=\"column\" fxFlex fxLayoutAlign=\"space-evenly stretch\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tmat-button\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tclass=\"cr-hint-button\"\n\t\t\t\t\t\t\tid=\"cr-hint-identical\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"'Identical results' + (stats?.identical / stats?.total | similarity : '1.0-1')\"\n\t\t\t\t\t\t\t(click)=\"toggleComparison('showIdentical')\"\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\toptions?.showIdentical\n\t\t\t\t\t\t\t\t\t? translations?.SHARED?.MATCH_TYPES?.IDENTICAL_TOOLTIP || messages.IDENTICAL_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\t\t: translations?.SHARED?.MATCH_TYPES?.OMITTED_MATCH_TOOLTIP_TEXT ||\n\t\t\t\t\t\t\t\t\t  messages.MATCH_TYPE_OMITTED_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tdisableRipple>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"dot identical\"\n\t\t\t\t\t\t\t\t[ngStyle]=\"{ visibility: options?.showIdentical ? 'visible' : 'hidden' }\"></div>\n\t\t\t\t\t\t\t<div text [ngClass]=\"{ 'cr-strike-out': !options?.showIdentical }\">\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || 'Identical' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\n\t\t\t\t\t\t\t<div *ngIf=\"options.showIdentical || stats.identical > 0\">\n\t\t\t\t\t\t\t\t{{ stats?.identical / stats?.total | similarity : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<mat-divider></mat-divider>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tmat-button\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tclass=\"cr-hint-button\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"'Minor Changes results' + (stats?.minorChanges / stats?.total | similarity : '1.0-1')\"\n\t\t\t\t\t\t\t(click)=\"toggleComparison('showMinorChanges')\"\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\toptions?.showMinorChanges\n\t\t\t\t\t\t\t\t\t? translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES_TOOLTIP || messages.MINOR_CHANGES_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\t\t: translations?.SHARED?.MATCH_TYPES?.OMITTED_MATCH_TOOLTIP_TEXT ||\n\t\t\t\t\t\t\t\t\t  messages.MATCH_TYPE_OMITTED_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tdisableRipple>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"dot minor-changes\"\n\t\t\t\t\t\t\t\t[ngStyle]=\"{ visibility: options?.showMinorChanges ? 'visible' : 'hidden' }\"></div>\n\t\t\t\t\t\t\t<div text [ngClass]=\"{ 'cr-strike-out': options?.showMinorChanges !== true }\">\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || 'Minor Changes' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\t\t\t\t\t\t\t<div *ngIf=\"options.showMinorChanges || stats.minorChanges > 0\">\n\t\t\t\t\t\t\t\t{{ stats?.minorChanges / stats?.total | percent : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<mat-divider></mat-divider>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tmat-button\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tclass=\"cr-hint-button\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"'Paraphrased results' + (stats?.relatedMeaning / stats?.total | similarity : '1.0-1')\"\n\t\t\t\t\t\t\t(click)=\"toggleComparison('showRelated')\"\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\toptions?.showRelated\n\t\t\t\t\t\t\t\t\t? translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING_TOOLTIP || messages.RELATED_MEANING_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\t\t: translations?.SHARED?.MATCH_TYPES?.OMITTED_MATCH_TOOLTIP_TEXT ||\n\t\t\t\t\t\t\t\t\t  messages.MATCH_TYPE_OMITTED_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tdisableRipple>\n\t\t\t\t\t\t\t<div class=\"dot related\" [ngStyle]=\"{ visibility: options?.showRelated ? 'visible' : 'hidden' }\"></div>\n\t\t\t\t\t\t\t<div text [ngClass]=\"{ 'cr-strike-out': options?.showRelated !== true }\">\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\t\t\t\t\t\t\t<div *ngIf=\"options.showRelated || stats.relatedMeaning > 0\">\n\t\t\t\t\t\t\t\t{{ stats?.relatedMeaning / stats?.total | percent : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<mat-divider></mat-divider>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t[matTooltip]=\"\n\t\t\t\t\t\t\t\ttranslations?.SHARED?.MATCH_TYPES?.OMITTED_WORDS_TOOLTIP || messages.OMITTED_WORDS_TOOLTIP_TEXT\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tfxLayout=\"row\"\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\"\n\t\t\t\t\t\t\tfxLayoutGap=\"0.5em\">\n\t\t\t\t\t\t\t<div class=\"dot omitted\"></div>\n\t\t\t\t\t\t\t<div text>\n\t\t\t\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.OMITTED_WORDS || 'Omitted Words' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span fxFlex></span>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{{ stats && metadata.scannedDocument.totalExcluded / stats?.total | percent : '1.0-1' }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ng-template #statsSpinner>\n\t\t\t\t\t\t<cls-spinner title=\"Spinner\" *ngIf=\"!stats\" width=\"16px\" style=\"display: inline-block\"></cls-spinner>\n\t\t\t\t\t</ng-template>\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t\t<!-- % PLAGIARISM -->\n\t\t<div\n\t\t\tprop\n\t\t\tid=\"cr-hint-results-score\"\n\t\t\t*ngIf=\"stats && !previewsLoading; else skeleton__prop\"\n\t\t\t[ngClass]=\"{\n\t\t\t\tdisabled_score: plagiarismScore == null,\n\t\t\t\tlow: plagiarismScore != null && plagiarismScore <= 0.1,\n\t\t\t\tmedium: plagiarismScore > 0.1 && plagiarismScore <= 0.5,\n\t\t\t\thigh: plagiarismScore > 0.5\n\t\t\t}\">\n\t\t\t<div header>\n\t\t\t\t<ng-container *ngIf=\"plagiarismScore != null\">{{ plagiarismScore | percent : '1.0-1' }}</ng-container>\n\t\t\t\t<ng-container *ngIf=\"plagiarismScore == null\">N/A</ng-container>\n\t\t\t</div>\n\t\t\t<div [matTooltip]=\"isShowingPartialStats ? 'Some matches are ommited according to your settings' : null\">\n\t\t\t\t<span>\n\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.PLAGIARISM || 'matches' }}{{ isShowingPartialStats ? '*' : '' }}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<ng-container *ngIf=\"isPlagiarismEnabled && hasNonAIAlerts && !isAiView\">\n\t\t\t\t<cr-notifications #notificationsRef></cr-notifications>\n\t\t\t</ng-container>\n\t\t\t<!-- View -->\n\t\t\t<section class=\"score-group-buttons\">\n\t\t\t\t<button\n\t\t\t\t\tmatTooltip=\"SEE ALERTS\"\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && hasNonAIAlerts && isAiView\"\n\t\t\t\t\tclass=\"side-icon-button\"\n\t\t\t\t\tmat-icon-button\n\t\t\t\t\t(click)=\"showAlerts()\"\n\t\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t\t'btn-notifications-error':\n\t\t\t\t\t\t\tnotificationSeverity == eNotificationSeverities.High ||\n\t\t\t\t\t\t\tnotificationSeverity == eNotificationSeverities.VeryHigh,\n\t\t\t\t\t\t'btn-notifications-warning': notificationSeverity == eNotificationSeverities.Medium\n\t\t\t\t\t}\">\n\t\t\t\t\t<ng-container [ngSwitch]=\"notificationSeverity\">\n\t\t\t\t\t\t<mat-icon *ngSwitchCase=\"eNotificationSeverities.Medium\">warning</mat-icon>\n\t\t\t\t\t\t<mat-icon *ngSwitchCase=\"eNotificationSeverities.High\">error</mat-icon>\n\t\t\t\t\t\t<mat-icon *ngSwitchCase=\"eNotificationSeverities.VeryHigh\">error</mat-icon>\n\t\t\t\t\t\t<mat-icon *ngSwitchDefault>info</mat-icon>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && isAiView\"\n\t\t\t\t\tclass=\"btn-view\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\"\n\t\t\t\t\t(click)=\"showScanningResult()\">\n\t\t\t\t\t<mat-icon class=\"mat-18\">visibility</mat-icon>\n\t\t\t\t\tView\n\t\t\t\t</button>\n\t\t\t</section>\n\t\t\t<!-- Viewing -->\n\t\t\t<button\n\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && !hasNonAIAlerts && !isAiView\"\n\t\t\t\tclass=\"btn-viewing\"\n\t\t\t\tmat-stroked-button\n\t\t\t\tcolor=\"basic\"\n\t\t\t\tdisabled>\n\t\t\t\tViewing\n\t\t\t</button>\n\t\t\t<!-- Upgrade -->\n\t\t\t<button\n\t\t\t\t*ngIf=\"!isPlagiarismEnabled && showUpgradeButton\"\n\t\t\t\t(click)=\"upgrade.emit(eCRPackageProducts.plagiairsm)\"\n\t\t\t\tclass=\"btn-upgrade\"\n\t\t\t\tmat-stroked-button\n\t\t\t\tcolor=\"basic\">\n\t\t\t\t<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M13.1531 7.6355C13.666 7.27341 14.001 6.67607 14.001 6.00049C14.001 4.89592 13.1055 4.00049 12.001 4.00049C10.8964 4.00049 10.001 4.89592 10.001 6.00049C10.001 6.69982 10.3599 7.31531 10.9036 7.67281C9.84466 9.34691 8.40096 11.8147 8.40096 12.8253C7.83778 11.4693 6.28214 10.5836 4.9844 10.0586C5.17624 9.75158 5.28711 9.3888 5.28711 9.00012C5.28711 7.89555 4.39168 7.00012 3.28711 7.00012C2.18254 7.00012 1.28711 7.89555 1.28711 9.00012C1.28711 10.1047 2.18254 11.0001 3.28711 11.0001C3.31361 11.0001 3.34 10.9996 3.36625 10.9986L5.00096 17.9995H19.001L20.6428 10.968C20.759 10.989 20.8787 11 21.001 11C22.1055 11 23.001 10.1046 23.001 9C23.001 7.89543 22.1055 7 21.001 7C19.8964 7 19.001 7.89543 19.001 9C19.001 9.35977 19.096 9.69736 19.2622 9.98904C17.9757 10.5038 16.3376 11.4075 15.6817 12.8253C15.6817 11.6225 14.2328 9.24225 13.1531 7.6355ZM5.07272 19.9995C5.0252 19.6702 5.00096 19.3361 5.00096 18.9995H12.001H19.001C19.001 19.3361 18.9767 19.6702 18.9292 19.9995H5.07272Z\"\n\t\t\t\t\t\tfill=\"#3F9AF5\" />\n\t\t\t\t</svg>\n\t\t\t\tUpgrade\n\t\t\t</button>\n\t\t</div>\n\n\t\t<!-- % AI -->\n\t\t<ng-container *ngIf=\"showAIContentProperty\">\n\t\t\t<div\n\t\t\t\tprop\n\t\t\t\tid=\"cr-hint-results-score\"\n\t\t\t\t*ngIf=\"stats && !previewsLoading; else skeleton__prop\"\n\t\t\t\t[ngClass]=\"{\n\t\t\t\t\tdisabled_score: aiScore == null,\n\t\t\t\t\tlow: aiScore != null && aiScore <= 0.1,\n\t\t\t\t\tmedium: aiScore > 0.1 && aiScore <= 0.5,\n\t\t\t\t\thigh: aiScore > 0.5\n\t\t\t\t}\">\n\t\t\t\t<div header>\n\t\t\t\t\t<ng-container *ngIf=\"aiScore != null\">{{ aiScore | percent : '1.0-1' }}</ng-container>\n\t\t\t\t\t<ng-container *ngIf=\"aiScore == null\">N/A</ng-container>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ translations?.SCAN_PROPERTIES_SECTION?.AiContent || 'ai content' }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<!-- View -->\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && !isAiView\"\n\t\t\t\t\tclass=\"btn-view\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\"\n\t\t\t\t\t(click)=\"showAiView()\">\n\t\t\t\t\t<mat-icon class=\"mat-18\">visibility</mat-icon>\n\t\t\t\t\tView\n\t\t\t\t</button>\n\t\t\t\t<!-- Viewing -->\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"isPlagiarismEnabled && isAiDetectionEnabled && isAiView\"\n\t\t\t\t\tclass=\"btn-viewing\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\"\n\t\t\t\t\tdisabled>\n\t\t\t\t\tViewing\n\t\t\t\t</button>\n\t\t\t\t<!-- Upgrade -->\n\t\t\t\t<button\n\t\t\t\t\t*ngIf=\"!isAiDetectionEnabled && showUpgradeButton\"\n\t\t\t\t\t(click)=\"upgrade.emit(eCRPackageProducts.ai)\"\n\t\t\t\t\tclass=\"btn-upgrade\"\n\t\t\t\t\tmat-stroked-button\n\t\t\t\t\tcolor=\"basic\">\n\t\t\t\t\t<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M13.1531 7.6355C13.666 7.27341 14.001 6.67607 14.001 6.00049C14.001 4.89592 13.1055 4.00049 12.001 4.00049C10.8964 4.00049 10.001 4.89592 10.001 6.00049C10.001 6.69982 10.3599 7.31531 10.9036 7.67281C9.84466 9.34691 8.40096 11.8147 8.40096 12.8253C7.83778 11.4693 6.28214 10.5836 4.9844 10.0586C5.17624 9.75158 5.28711 9.3888 5.28711 9.00012C5.28711 7.89555 4.39168 7.00012 3.28711 7.00012C2.18254 7.00012 1.28711 7.89555 1.28711 9.00012C1.28711 10.1047 2.18254 11.0001 3.28711 11.0001C3.31361 11.0001 3.34 10.9996 3.36625 10.9986L5.00096 17.9995H19.001L20.6428 10.968C20.759 10.989 20.8787 11 21.001 11C22.1055 11 23.001 10.1046 23.001 9C23.001 7.89543 22.1055 7 21.001 7C19.8964 7 19.001 7.89543 19.001 9C19.001 9.35977 19.096 9.69736 19.2622 9.98904C17.9757 10.5038 16.3376 11.4075 15.6817 12.8253C15.6817 11.6225 14.2328 9.24225 13.1531 7.6355ZM5.07272 19.9995C5.0252 19.6702 5.00096 19.3361 5.00096 18.9995H12.001H19.001C19.001 19.3361 18.9767 19.6702 18.9292 19.9995H5.07272Z\"\n\t\t\t\t\t\t\tfill=\"#3F9AF5\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\tUpgrade\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</ng-container>\n\t</cr-expansion-panel-body>\n</cr-expansion-panel>\n\n<ng-template #skeleton__prop>\n\t<div prop>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '3em', width: '95px', margin: '0.5em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '1em', width: '3em' }\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n\n<ng-template #skeleton__stats>\n\t<div fxLayout=\"column\">\n\t\t<ngx-skeleton-loader\n\t\t\t[theme]=\"{ width: '118px', height: '113px', margin: '1em' }\"\n\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t</div>\n\n\t<div fxLayout=\"column\" fxFlex fxLayoutAlign=\"space-evenly stretch\">\n\t\t<ng-container *ngFor=\"let x of 4 | array; let last = last\">\n\t\t\t<div fxLayout=\"row\" fxLayoutGap=\"1em\" style=\"padding: 0em 0.5em\" fxLayoutAlign=\"center center\">\n\t\t\t\t<ngx-skeleton-loader\n\t\t\t\t\tappearance=\"circle\"\n\t\t\t\t\t[theme]=\"{ width: '1.75em', height: '1.75em', margin: '0px' }\"></ngx-skeleton-loader>\n\t\t\t\t<ngx-skeleton-loader [theme]=\"{ margin: '0', width: '5em' }\"></ngx-skeleton-loader>\n\t\t\t\t<span fxFlex></span>\n\t\t\t\t<ngx-skeleton-loader [theme]=\"{ margin: '0', width: '3em' }\"></ngx-skeleton-loader>\n\t\t\t</div>\n\t\t\t<mat-divider *ngIf=\"!last\"></mat-divider>\n\t\t</ng-container>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{box-sizing:border-box;width:100%;background-color:#fff}cr-expansion-panel-title h3{margin:0;font-size:14px;font-weight:500}cr-expansion-panel{margin:1em 1em 0;background-color:#fff}cr-expansion-panel-menu-item [mat-button]{border-radius:0;min-width:36px;padding:0}cr-expansion-panel-body{overflow-x:auto}cr-expansion-panel-body>div:not(:last-child){border-right:1px solid #e6e6e6}cr-expansion-panel-body [progress]{display:flex;flex-direction:column;justify-content:center;padding:1em;align-items:center;flex:1}cr-expansion-panel-body [progress] mat-icon{color:#6ac259}cr-expansion-panel-body .disabled_score{color:#212121}cr-expansion-panel-body .disabled_score [header]{color:#8590a2;font-weight:500;margin-bottom:0;font-size:32px!important}cr-expansion-panel-body .low{color:#29c44d}cr-expansion-panel-body .medium{color:#906d16}cr-expansion-panel-body .high{color:#ec4f3a}cr-expansion-panel-body [stats]{flex:3;max-width:475px;min-width:375px}@media screen and (max-width: 959px){cr-expansion-panel-body [stats]{max-width:300px;min-width:unset}}cr-expansion-panel-body [stats] [legend] [row]{padding:0 .5em;flex:1}cr-expansion-panel-body [stats] [legend] [row]:not(:last-child){cursor:pointer}cr-expansion-panel-body [stats] [legend] [row] [text]{white-space:nowrap}cr-expansion-panel-body [stats] [legend] [row] .cr-strike-out{text-decoration:line-through}cr-expansion-panel-body [prop]{padding:1em;display:flex;flex:1;flex-flow:column nowrap;justify-content:center;align-items:center;text-transform:uppercase;font-weight:700;white-space:nowrap}cr-expansion-panel-body [prop] [header]{line-height:1em;font-size:2.6em}@media screen and (max-width: 959px){cr-expansion-panel-body [prop] [header]{font-size:2em}}#cr-hint-results-score span{font-size:19px}#cr-hint-results-found{position:relative;top:-30px}.show-all-result{color:#17a1ff;font-size:11px}.show-all-result:hover{text-decoration:underline;cursor:pointer}.score-group-buttons{display:flex;justify-content:center;align-items:center}.btn-view,.btn-viewing{position:relative;color:#52616b;border-color:#52616b;font-weight:700;font-size:14px;text-transform:uppercase;line-height:29px;margin:10px 5px;padding-bottom:2px}.btn-view mat-icon,.btn-viewing mat-icon{font-size:18px;height:18px;width:18px;line-height:18px;margin-right:4px}.btn-view:hover{color:#3f9af5;border-color:#3f9af5}.btn-viewing{background:#8590a2;color:#fff!important;border-color:#8590a2!important}.btn-upgrade{margin-top:10px;color:#3f9af5;border-color:#3f9af5;font-weight:700;line-height:2.2;padding:0 8px 0 7px}.btn-upgrade svg{margin-top:-5px}.cr-hint-button{border-radius:unset;font-weight:400;line-height:normal}.cr-hint-button ::ng-deep .mat-button-wrapper{display:flex;place-content:center flex-start;align-items:center;gap:.5em}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: ReportService }, { type: ViewModeService }, { type: LayoutMediaQueryService }, { type: i1.MatDialog }, { type: StatisticsService }, { type: DirectionService }, { type: CopyleaksTranslateService }, { type: i4$2.LiveAnnouncer }]; }, propDecorators: { isMobile: [{
                type: HostBinding,
                args: ['class.mobile']
            }], notifications: [{
                type: ViewChild,
                args: ['notificationsRef']
            }], scanSummaryComponent: [{
                type: Input
            }], isPDFDownloading: [{
                type: Input
            }], hideCreationTime: [{
                type: Input
            }], expanded: [{
                type: Input
            }], showUpgradeButton: [{
                type: Input
            }], showAIContentProperty: [{
                type: Input
            }], upgrade: [{
                type: Output
            }], expandChange: [{
                type: Output
            }], scanSammeryComponentVcr: [{
                type: ViewChild,
                args: ['scanSummeryComponentVcr', { read: ViewContainerRef, static: false }]
            }] } });

/** animation for fading element ina and out */
const fadeIn = trigger('fade', [
    transition(':enter', [
        style({ opacity: 0 }),
        group([animate(200, style({ opacity: 1 })), query('@fade', animateChild(), { optional: true })]),
    ]),
    state(':leave', style({ display: 'none' })),
]);
/** The animation used to transition between one-to-many and one-to-one views  */
const expandAnimation = trigger('expandRight', [
    state('one-to-many', style({
        maxWidth: '30%',
    })),
    state('one-to-one', style({
        maxWidth: '50%',
    })),
    transition('one-to-one <=> one-to-many', [group([query('@fade', animateChild()), animate(200)])]),
]);
/** animation for fading list items in and out within a list */
const listFade = trigger('listFade', [
    transition('* => *', [
        style({ opacity: 1 }),
        query(':enter', style({ opacity: 0 }), { optional: true }),
        query(':enter', stagger(500, [animate(300, style({ opacity: 1 }))]), {
            optional: true,
        }),
    ]),
]);

class MatchComponent {
    constructor(element, renderer, highlightService) {
        this.element = element;
        this.renderer = renderer;
        this.highlightService = highlightService;
        this._focused = false;
    }
    /** focused flag, if set to `true` the element will be highlighted */
    get focused() {
        return this._focused;
    }
    set focused(value) {
        this._focused = value;
        if (value) {
            scrollIntoView(this.element.nativeElement, {
                behavior: 'smooth',
                block: 'nearest',
                skipOverflowHiddenElements: true,
            });
        }
    }
    /**
     * emits the element through the match click event
     */
    click() {
        this.highlightService.textMatchClicked({ elem: this, broadcast: true, origin: this.origin });
    }
    /**
     * Life-cycle method
     * Add a class to the native element that represents the match type
     */
    ngAfterContentInit() {
        this.renderer.addClass(this.element.nativeElement, `cr-m-${this.match.type}`);
    }
}
MatchComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatchComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: HighlightService }], target: i0.ɵɵFactoryTarget.Component });
MatchComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: MatchComponent, selector: "span[cr-match]", inputs: { match: ["cr-match", "match"], origin: "origin" }, host: { listeners: { "click": "click()" }, properties: { "class.cr-highlight": "this.focused" } }, ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{cursor:pointer;background-color:red}:host.cr-m-0{background-color:#ff796e}:host.cr-m-0:hover{background-color:#ff9188}span[class*=cr-m-]{cursor:pointer}span[class*=cr-m-].cr-m-1{background-color:#ff9a9a}span[class*=cr-m-].cr-m-1:hover{background-color:#ffb4b4}span[class*=cr-m-].cr-m-2{background-color:#ffd9b0}span[class*=cr-m-].cr-m-2:hover{background-color:#ffe5ca}span[class*=cr-m-].cr-m-100{color:#ffd9b0;text-decoration:underline;font-weight:bolder}span[class*=cr-m-].cr-highlight{background-color:gold}span[class*=cr-m-].cr-highlight:hover{background-color:#ffdf33}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'span[cr-match]', template: '<ng-content></ng-content>', styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{cursor:pointer;background-color:red}:host.cr-m-0{background-color:#ff796e}:host.cr-m-0:hover{background-color:#ff9188}span[class*=cr-m-]{cursor:pointer}span[class*=cr-m-].cr-m-1{background-color:#ff9a9a}span[class*=cr-m-].cr-m-1:hover{background-color:#ffb4b4}span[class*=cr-m-].cr-m-2{background-color:#ffd9b0}span[class*=cr-m-].cr-m-2:hover{background-color:#ffe5ca}span[class*=cr-m-].cr-m-100{color:#ffd9b0;text-decoration:underline;font-weight:bolder}span[class*=cr-m-].cr-highlight{background-color:gold}span[class*=cr-m-].cr-highlight:hover{background-color:#ffdf33}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: HighlightService }]; }, propDecorators: { match: [{
                type: Input,
                args: ['cr-match']
            }], origin: [{
                type: Input
            }], focused: [{
                type: HostBinding,
                args: ['class.cr-highlight']
            }], click: [{
                type: HostListener,
                args: ['click']
            }] } });

class PanelComponent {
}
PanelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
PanelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PanelComponent, selector: "cr-panel", ngImport: i0, template: "<div role=\"main\" header fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\t<div fxFlex class=\"panel-title\">\n\t\t<ng-container [ngTemplateOutlet]=\"title\"></ng-container>\n\t</div>\n\t<div right fxLayout=\"row nowrap\" fxLayoutGap=\"0.5em\" fxFlexAlign=\"center\">\n\t\t<ng-container [ngTemplateOutlet]=\"actions\"></ng-container>\n\t</div>\n</div>\n<mat-divider></mat-divider>\n<div fxLayout=\"column\" fxFlex=\"100\" body>\n\t<ng-container [ngTemplateOutlet]=\"body\"></ng-container>\n</div>\n\n<!-- content for outlets -->\n<ng-template #title>\n\t<ng-content select=\"cr-panel-header\"></ng-content>\n</ng-template>\n<ng-template #actions>\n\t<ng-content select=\"cr-panel-actions\"></ng-content>\n</ng-template>\n<ng-template #body>\n\t<ng-content select=\"cr-panel-body\"></ng-content>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"], components: [{ type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }], directives: [{ type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i17.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i19.DefaultFlexAlignDirective, selector: "  [fxFlexAlign], [fxFlexAlign.xs], [fxFlexAlign.sm], [fxFlexAlign.md],  [fxFlexAlign.lg], [fxFlexAlign.xl], [fxFlexAlign.lt-sm], [fxFlexAlign.lt-md],  [fxFlexAlign.lt-lg], [fxFlexAlign.lt-xl], [fxFlexAlign.gt-xs], [fxFlexAlign.gt-sm],  [fxFlexAlign.gt-md], [fxFlexAlign.gt-lg]", inputs: ["fxFlexAlign", "fxFlexAlign.xs", "fxFlexAlign.sm", "fxFlexAlign.md", "fxFlexAlign.lg", "fxFlexAlign.xl", "fxFlexAlign.lt-sm", "fxFlexAlign.lt-md", "fxFlexAlign.lt-lg", "fxFlexAlign.lt-xl", "fxFlexAlign.gt-xs", "fxFlexAlign.gt-sm", "fxFlexAlign.gt-md", "fxFlexAlign.gt-lg"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-panel', template: "<div role=\"main\" header fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\t<div fxFlex class=\"panel-title\">\n\t\t<ng-container [ngTemplateOutlet]=\"title\"></ng-container>\n\t</div>\n\t<div right fxLayout=\"row nowrap\" fxLayoutGap=\"0.5em\" fxFlexAlign=\"center\">\n\t\t<ng-container [ngTemplateOutlet]=\"actions\"></ng-container>\n\t</div>\n</div>\n<mat-divider></mat-divider>\n<div fxLayout=\"column\" fxFlex=\"100\" body>\n\t<ng-container [ngTemplateOutlet]=\"body\"></ng-container>\n</div>\n\n<!-- content for outlets -->\n<ng-template #title>\n\t<ng-content select=\"cr-panel-header\"></ng-content>\n</ng-template>\n<ng-template #actions>\n\t<ng-content select=\"cr-panel-actions\"></ng-content>\n</ng-template>\n<ng-template #body>\n\t<ng-content select=\"cr-panel-body\"></ng-content>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] }]
        }] });
class PanelHeaderComponent {
}
PanelHeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelHeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
PanelHeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PanelHeaderComponent, selector: "cr-panel-header", ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelHeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-panel-header', template: '<ng-content></ng-content>', styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] }]
        }] });
class PanelActionsComponent {
}
PanelActionsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelActionsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
PanelActionsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PanelActionsComponent, selector: "cr-panel-actions", ngImport: i0, template: `
		<ng-content accept="cr-panel-action"></ng-content>
	`, isInline: true, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelActionsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-panel-actions', template: `
		<ng-content accept="cr-panel-action"></ng-content>
	`, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] }]
        }] });
class PanelActionComponent {
}
PanelActionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelActionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
PanelActionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PanelActionComponent, selector: "cr-panel-action", ngImport: i0, template: `
		<ng-content></ng-content>
		<mat-divider vertical="true"></mat-divider>
	`, isInline: true, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"], components: [{ type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelActionComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-panel-action', template: `
		<ng-content></ng-content>
		<mat-divider vertical="true"></mat-divider>
	`, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] }]
        }] });
class PanelBodyComponent {
}
PanelBodyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelBodyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
PanelBodyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PanelBodyComponent, selector: "cr-panel-body", ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelBodyComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-panel-body', template: '<ng-content></ng-content>', styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host(cr-panel){border:1px solid #e6e6e6;display:flex;flex-flow:column nowrap;padding:.5em 1em;max-width:100%}@media screen and (max-width: 959px){:host(cr-panel){padding:0 .5em}}:host(cr-panel) [header]{font-weight:500;color:#666;vertical-align:middle;margin-bottom:.5em}@media screen and (max-width: 959px){:host(cr-panel) [header]{margin-bottom:0}}:host(cr-panel) [legacy]~mat-divider{margin:0}@media screen and (max-width: 959px){:host(cr-panel) [legacy]~mat-divider{margin:0}}:host(cr-panel-header){display:flex;flex-flow:row nowrap}:host(cr-panel-actions){display:flex;flex-flow:row nowrap}:host(cr-panel-action){white-space:nowrap;margin:auto 0}:host(cr-panel-action):not(:last-child) mat-divider{display:inline;margin:.5em}:host(cr-panel-body){display:flex;flex-flow:column nowrap;flex:1 1 100%;margin-top:1em}@media screen and (max-width: 959px){:host(cr-panel-body){margin-top:.5em}}.panel-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] }]
        }] });

class ExcludePartialScanComponent {
    constructor(element, reportService) {
        this.element = element;
        this.reportService = reportService;
    }
    /**
     * emits the upgrade plan event
     */
    click() {
        this.reportService.upgradePlanEvent();
    }
}
ExcludePartialScanComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExcludePartialScanComponent, deps: [{ token: i0.ElementRef }, { token: ReportService }], target: i0.ɵɵFactoryTarget.Component });
ExcludePartialScanComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ExcludePartialScanComponent, selector: "span[cr-exclude-partial-scan]", inputs: { match: ["cr-exclude-partial-scan", "match"] }, host: { listeners: { "click": "click()" } }, ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [":host{filter:blur(3px);cursor:pointer}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExcludePartialScanComponent, decorators: [{
            type: Component,
            args: [{ selector: 'span[cr-exclude-partial-scan]', template: '<ng-content></ng-content>', styles: [":host{filter:blur(3px);cursor:pointer}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: ReportService }]; }, propDecorators: { match: [{
                type: Input,
                args: ['cr-exclude-partial-scan']
            }], click: [{
                type: HostListener,
                args: ['click']
            }] } });

/* tslint:disable */
var iframeStyle = `#sidebar.opened+#page-container{left:0px!important}#page-container{.c{pointer-events:none!important}.t{pointer-events:all!important}}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type='0']{background-color:#f66}span[match][data-type='0'].hover{background-color:#ff8080}span[match][data-type='1']{background-color:#ff9a9a}span[match][data-type='1'].hover{background-color:#ffb4b4}span[match][data-type='2']{background-color:#ffd9b0}span[match][data-type='2'].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}`;

// tslint:disable-next-line: directive-class-suffix
class HtmlHelperBase {
    constructor(renderer, element, reportService, translateService) {
        this.renderer = renderer;
        this.element = element;
        this.reportService = reportService;
        this.translateService = translateService;
        this.EXCLUDE_MESSAGE = EXCLUDE_MESSAGE;
        /** sets the seamsless attribute to the iframe */
        this.seamless = true;
        const css = renderer.createElement('style');
        css.textContent = iframeStyle;
        this.style = css.outerHTML;
        if (this.translateService) {
            const translations = this.translateService.translations;
            if (translations && translations.SCAN_SETTINGS && translations.SCAN_SETTINGS.OMITTED) {
                this.EXCLUDE_MESSAGE = {
                    1: translations.SCAN_SETTINGS.OMITTED.QUOTATIONS,
                    2: translations.SCAN_SETTINGS.OMITTED.REFERENCES,
                    5: translations.SCAN_SETTINGS.OMITTED.HTML_TEMPLATES,
                    6: translations.SCAN_SETTINGS.OMITTED.TABLES_OF_CONTENT,
                    7: translations.SCAN_SETTINGS.OMITTED.SOURCE_CODE_COMMENTS,
                    0: translations.SCAN_SETTINGS.OMITTED.SENSITIVE_DATA,
                    8: translations.SCAN_SETTINGS.OMITTED.PARTIAL_SCAN,
                    9: translations.SCAN_SETTINGS.OMITTED.CITATIONS,
                };
            }
        }
    }
    /**
     * Handles PostMessage events, making sure its from the correct iframe.
     * @param event the default PostMessage event
     */
    onFrameMessage(event) {
        const { source, data } = event;
        if (source !== this.frame) {
            return;
        }
        const pmevent = data;
        switch (pmevent.type) {
            case 'match-select':
                this.handleMatchSelect(pmevent);
                break;
            case 'upgrade-plan':
                this.handleUpgradePlanEvent();
                break;
            case 'match-warn':
                console.warn('match not found');
                break;
            default:
                console.error('unknown event', pmevent);
        }
    }
    /**
     * Handles the 'upgrade-plan' event
     */
    handleUpgradePlanEvent() {
        this.reportService.upgradePlanEvent();
    }
    get frame() {
        return this.element.nativeElement.contentWindow;
    }
    /**
     * Send a message to the iframe using PostMessage API
     * @param data the data to post
     */
    messageFrame(data) {
        this.frame && this.frame.postMessage(data, '*');
    }
    /**
     * Set the iframe srcdoc html to the given html string
     * @param html the html string
     */
    setHtml(html) {
        this.renderer.setAttribute(this.element.nativeElement, 'srcdoc', html + this.style + this.script);
    }
    /**
     * highlight a single match in the iframe
     * @param index the index of the match to mark
     */
    markSingleMatchInFrame(index) {
        this.messageFrame({ type: 'match-select', index });
    }
    /**
     * Render list of matches in the iframe's HTML
     * @param matches the matches to render
     */
    renderMatches(matches) {
        this.matches = matches;
        const html = matches.reduceRight((prev, curr, i) => {
            let slice = this.html?.substring(curr.start, curr.end);
            switch (curr.type) {
                case MatchType.excluded:
                    if (curr.reason === ExcludeReason.PartialScan) {
                        slice = `<span exclude-partial-scan data-type="${curr.type}" data-index="${i}" title="${this.EXCLUDE_MESSAGE[curr.reason]}">${slice}</span>`;
                    }
                    else {
                        slice = `<span exclude title="${this.EXCLUDE_MESSAGE[curr.reason]}">${slice}</span>`;
                    }
                    break;
                case MatchType.none:
                    break;
                default:
                    slice = `<span match data-type="${curr.type}" data-index="${i}" data-gid="${curr.gid}">${slice}</span>`;
                    break;
            }
            return slice ? slice?.concat(prev) : '';
        }, '');
        this.renderer.setAttribute(this.element.nativeElement, 'srcdoc', html + this.style + this.script);
    }
}
HtmlHelperBase.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: HtmlHelperBase, deps: [{ token: i0.Renderer2 }, { token: i0.ElementRef }, { token: ReportService }, { token: CopyleaksTranslateService }], target: i0.ɵɵFactoryTarget.Directive });
HtmlHelperBase.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.3.3", type: HtmlHelperBase, host: { listeners: { "window:message": "onFrameMessage($event)" }, properties: { "attr.seamless": "this.seamless" } }, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: HtmlHelperBase, decorators: [{
            type: Directive
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ElementRef }, { type: ReportService }, { type: CopyleaksTranslateService }]; }, propDecorators: { seamless: [{
                type: HostBinding,
                args: ['attr.seamless']
            }], onFrameMessage: [{
                type: HostListener,
                args: ['window:message', ['$event']]
            }] } });

/**
 * document ready event handler
 * @param fn the callback to execute when the document is ready
 */
function onDocumentReady$1(fn) {
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(fn, 1);
    }
    else {
        document.addEventListener('DOMContentLoaded', fn);
    }
}
/**
 * Callback to execute when the document is ready
 */
function ready$1() {
    let current;
    let matches;
    let isPdf = document.querySelector('meta[content="pdf2htmlEX"]') !== null;
    window.addEventListener('message', onMessageFromParent);
    init();
    /**
     * Initialization code, will execute before emitting iframe-ready event
     */
    function init() {
        Array.from(document.links).forEach(x => {
            x.href = 'javascript:void(0)';
            x.title = 'disable link';
        }); // disable links
        matches = Array.from(document.querySelectorAll('span[match]'));
        matches.forEach(elem => {
            elem.addEventListener('click', onMatchClick);
            elem.addEventListener('mouseenter', onMatchHover);
            elem.addEventListener('mouseleave', onMatchHover);
        });
        document.querySelectorAll('span[exclude-partial-scan]').forEach(elem => {
            elem.addEventListener('click', () => messageParent({ type: 'upgrade-plan' }));
            elem.addEventListener('mouseenter', onMatchHover);
            elem.addEventListener('mouseleave', onMatchHover);
        });
    }
    /**
     * Message event handler
     */
    function onMessageFromParent(nativeEvent) {
        if (nativeEvent.source !== window.parent) {
            return;
        }
        const event = nativeEvent.data;
        switch (event.type) {
            case 'match-select':
                handleBroadcastMatchSelect(event);
                break;
            case 'match-jump':
                onMatchJump(event);
                break;
            default:
                console.error('unknown event in frame', nativeEvent);
        }
    }
    /**
     * handle a broadcasted `match-select` event
     * @param event the match select event
     */
    function handleBroadcastMatchSelect(event) {
        const elem = document.querySelector(`span[match][data-index='${event.index}']`);
        if (!elem && event.index !== -1) {
            messageParent({ type: 'match-warn' });
        }
        onMatchSelect(elem, true); // should not rebroadcast
    }
    /**
     * Event handler for a `MatchJumpEvent` that is fired when the user clicks the
     * go to next/prev match buttons
     */
    function onMatchJump(event) {
        if (!current) {
            onMatchSelect(matches[0]);
            return;
        }
        const first = matches[0];
        const last = matches[matches.length - 1];
        if ((current === first && !event.forward) || (current === last && event.forward)) {
            return;
        }
        const currentIndex = matches.indexOf(current);
        const nextIndex = currentIndex + (event.forward ? 1 : -1);
        onMatchSelect(matches[nextIndex]);
    }
    /**
     * Emits an event to the parent window using PostMessage API
     * @param event the event content to emit
     */
    function messageParent(event) {
        window.parent.postMessage(event, '*');
    }
    /**
     * Event handler for the default click event of a match
     * @param event the default mouse event object
     */
    function onMatchClick(event) {
        const elem = event.target;
        onMatchSelect(elem);
    }
    /**
     * Execute the logic of a match selection.
     * - highlight `elem` and message the parent window about it
     * - if an element is allready highlighted turn it off and highlight `elem`
     * @param elem the selected element
     */
    function onMatchSelect(elem, broadcast = false) {
        if (!broadcast && current === elem) {
            current.toggleAttribute('on', false);
            current = null;
            messageParent({ type: 'match-select', index: -1 });
            return;
        }
        if (!broadcast && current) {
            current.toggleAttribute('on', false);
        }
        current = elem;
        current.toggleAttribute('on', true);
        if (isPdf) {
            elem.closest('.pc').classList.add('opened');
        }
        current.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        messageParent({ type: 'match-select', index: +current.dataset.index });
    }
    /**
     * Event handler for the default `mouseenter` or `mouseleave` event
     * @param event the default mouse event object
     */
    function onMatchHover(event) {
        const elem = event?.target;
        elem?.classList?.toggle('hover');
    }
}
var iframeScript$1 = `(${onDocumentReady$1.toString()})(${ready$1.toString()})`;

/**
 * Component to handle manipulating the scan result's html inside an iframe
 */
class OriginalHtmlHelperComponent extends HtmlHelperBase {
    constructor(renderer, element, highlightService, matchService, reportService, translateService) {
        super(renderer, element, reportService, translateService);
        this.highlightService = highlightService;
        this.matchService = matchService;
        this.renderedSuccessfully = false;
        const js = renderer.createElement('script');
        js.textContent = iframeScript$1;
        this.script = js.outerHTML;
    }
    /**
     * handle match selection
     */
    handleMatchSelect(event) {
        this.lastMatchSelectEvent = event;
        this.highlightService.setOriginalHtmlMatch(event.index !== -1 ? this.matches[event.index] : null);
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - original html matches
     * - view mode changes
     * - source ducument
     * - jump events
     */
    ngOnInit() {
        const { source$, viewMode$, contentMode$ } = this.reportService;
        const { jump$ } = this.highlightService;
        const { originalHtmlMatches$ } = this.matchService;
        source$
            .pipe(truthy(), filter(source => !!source.html))
            .subscribe(source => {
            this.html = source.html.value;
            this.setHtml(this.html);
        });
        combineLatest([source$.pipe(truthy()), originalHtmlMatches$])
            .pipe(untilDestroy(this))
            .subscribe(([, matches]) => {
            if (!this.renderedSuccessfully || !deepEqual(this.matches, matches)) {
                this.matches = matches;
                this.renderMatches(matches);
                this.renderedSuccessfully = true;
                this.lastMatchSelectEvent = null;
            }
            if (this.lastMatchSelectEvent && this.lastMatchSelectEvent.index !== -1) {
                this.messageFrame({ type: 'match-select', index: this.lastMatchSelectEvent?.index });
            }
        });
        const onOneToManyHtmlJump$ = combineLatest([jump$, contentMode$, viewMode$]).pipe(distinctUntilChanged(), untilDestroy(this), filter(([forward, content, viewMode]) => (forward === true || forward === false) && viewMode === 'one-to-many' && content === 'html'), map(([forward]) => forward));
        onOneToManyHtmlJump$.subscribe(forward => {
            this.messageFrame({ type: 'match-jump', forward });
        });
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
OriginalHtmlHelperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OriginalHtmlHelperComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ElementRef }, { token: HighlightService }, { token: MatchService }, { token: ReportService }, { token: CopyleaksTranslateService }], target: i0.ɵɵFactoryTarget.Component });
OriginalHtmlHelperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: OriginalHtmlHelperComponent, selector: "iframe[cr-original-html-helper]", usesInheritance: true, ngImport: i0, template: '', isInline: true, styles: ["#sidebar.opened+#page-container{left:0px!important}#page-container .c{pointer-events:none!important}#page-container .t{pointer-events:all!important}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type=\"0\"]{background-color:#f66}span[match][data-type=\"0\"].hover{background-color:#ff8080}span[match][data-type=\"1\"]{background-color:#ff9a9a}span[match][data-type=\"1\"].hover{background-color:#ffb4b4}span[match][data-type=\"2\"]{background-color:#ffd9b0}span[match][data-type=\"2\"].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OriginalHtmlHelperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'iframe[cr-original-html-helper]', template: '', styles: ["#sidebar.opened+#page-container{left:0px!important}#page-container .c{pointer-events:none!important}#page-container .t{pointer-events:all!important}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type=\"0\"]{background-color:#f66}span[match][data-type=\"0\"].hover{background-color:#ff8080}span[match][data-type=\"1\"]{background-color:#ff9a9a}span[match][data-type=\"1\"].hover{background-color:#ffb4b4}span[match][data-type=\"2\"]{background-color:#ffd9b0}span[match][data-type=\"2\"].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ElementRef }, { type: HighlightService }, { type: MatchService }, { type: ReportService }, { type: CopyleaksTranslateService }]; } });

/**
 * document ready event handler
 * @param fn the callback to execute when the document is ready
 */
function onDocumentReady(fn) {
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(fn, 1);
    }
    else {
        document.addEventListener('DOMContentLoaded', fn);
    }
}
function ready() {
    let current;
    let matches;
    let groups;
    let isPdf = document.querySelector('meta[content="pdf2htmlEX"]') !== null;
    window.addEventListener('message', handleMessageFromParent);
    init();
    /**
     * Initialization code, will execute before emitting iframe-ready event
     */
    function init() {
        Array.from(document.links).forEach(x => (x.href = 'javascript:void(0)')); // disable links
        matches = Array.from(document.querySelectorAll('span[match]'));
        groups = matches.reduce((prev, curr) => {
            prev[curr.dataset.gid] = prev[curr.dataset.gid] || [];
            prev[curr.dataset.gid].push(curr);
            return prev;
        }, {});
        matches.forEach(elem => {
            elem.addEventListener('click', onMatchClick);
            elem.addEventListener('mouseenter', onMatchHover);
            elem.addEventListener('mouseleave', onMatchHover);
        });
        document.querySelectorAll('span[exclude-partial-scan]').forEach(elem => {
            elem.addEventListener('click', () => messageParent({ type: 'upgrade-plan' }));
        });
    }
    function handleMessageFromParent(nativeEvent) {
        if (nativeEvent.source !== window.parent) {
            return;
        }
        const event = nativeEvent.data;
        switch (event.type) {
            case 'match-select':
                handleBroadcastMatchSelect(event);
                break;
            case 'match-jump':
                handleMatchJump(event);
                break;
            default:
                console.error('unknown event in source frame', nativeEvent);
        }
    }
    /**
     * Handle a match-jump event
     * @param event the match-jump event object
     */
    function handleMatchJump(event) {
        // cases:
        // nothing is marked - force the start
        if (!current) {
            handleMatchSelect(matches[0], true);
            return;
        }
        // start is marked and backward  -  do nothing
        // end is marked and forward - do nothing
        const oldGid = current.dataset.gid;
        const firstGid = matches[0].dataset.gid;
        const lastGid = matches[matches.length - 1].dataset.gid;
        if ((oldGid === firstGid && !event.forward) || (oldGid === lastGid && event.forward)) {
            return;
        }
        // middle is marked - just go next/prev
        let currentIndex = matches.indexOf(current);
        const step = event.forward ? 1 : -1;
        while (0 <= currentIndex && currentIndex < matches.length) {
            currentIndex += step;
            if (matches[currentIndex].dataset.gid !== oldGid) {
                break;
            }
        }
        const nextGid = matches[currentIndex].dataset.gid;
        handleMatchSelect(groups[nextGid][0], true);
    }
    /**
     * Emit events to parent using postMessage API
     * @param event the event to emit
     */
    function messageParent(event) {
        window.parent.postMessage(event, '*');
    }
    /**
     * Handle a click on a match element
     * @param event the default mouse event
     */
    function onMatchClick(event) {
        const elem = event.target;
        handleMatchSelect(elem, true);
    }
    /**
     * handle a broadcasted `match-select` event
     * @param event the match select event
     */
    function handleBroadcastMatchSelect(event) {
        const elem = document.querySelector(`span[match][data-index='${event.index}']`);
        if (!elem && event.index !== -1) {
            messageParent({ type: 'match-warn' });
        }
        handleMatchSelect(elem || current, false); // should not rebroadcast
    }
    /**
     * Handles match selection that was requested programmatically or by user click
     * @param elem the element that was selected
     * @param broadcast a flag indicating wether to message the suspect frame about this element being selected
     */
    function handleMatchSelect(elem, broadcast = false) {
        if (current && current.dataset.gid === elem.dataset.gid) {
            groups[current.dataset.gid].forEach(el => el.toggleAttribute('on', false));
            current = null;
            if (broadcast) {
                messageParent({ type: 'match-select', index: -1 });
            }
            return;
        }
        if (current) {
            groups[current.dataset.gid].forEach(el => el.toggleAttribute('on', false));
        }
        if (elem) {
            groups[elem.dataset.gid].forEach(el => el.toggleAttribute('on', true));
            if (isPdf) {
                elem.closest('.pc').classList.add('opened');
            }
            elem.scrollIntoView();
        }
        current = elem;
        if (broadcast) {
            messageParent({ type: 'match-select', index: +current.dataset.index });
        }
    }
    /**
     * Handle match hover event
     * @param event the default mouse event
     */
    function onMatchHover(event) {
        const elem = event?.target;
        groups[elem?.dataset?.gid]?.forEach(el => el?.classList?.toggle('hover'));
    }
}
var iframeScript = `(${onDocumentReady.toString()})(${ready.toString()})`;

class SourceHtmlHelperComponent extends HtmlHelperBase {
    constructor(renderer, element, highlightService, matchService, reportService, translateService) {
        super(renderer, element, reportService, translateService);
        this.highlightService = highlightService;
        this.matchService = matchService;
        const js = renderer.createElement('script');
        js.textContent = iframeScript;
        this.script = js.outerHTML;
    }
    /**
     * Handle `match-select` event
     * @param event the event object
     */
    handleMatchSelect(event) {
        this.highlightService.setSourceHtmlMatch(event.index !== -1 ? this.matches[event.index] : null);
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
    /**
     * Life-cycle method
     * subscribe to:
     * - source and suspect html matches
     * - report metadata source and suspect objects
     * - viewmode changes
     * - jump events
     */
    ngOnInit() {
        const { source$, viewMode$, suspectResult$: suspect$, contentMode$ } = this.reportService;
        const { suspectHtml$, jump$, textMatchClick$ } = this.highlightService;
        const { sourceHtmlMatches$ } = this.matchService;
        source$.pipe(untilDestroy(this), truthy()).subscribe(source => {
            this.html = source.html && source.html.value;
            sourceHtmlMatches$.pipe(untilDestroy(this)).subscribe(matches => {
                this.renderMatches(matches);
            });
        });
        jump$
            .pipe(untilDestroy(this), withLatestFrom(viewMode$, contentMode$), filter(([, view, content]) => view === 'one-to-one' && content === 'html'))
            .subscribe(([forward]) => {
            this.messageFrame({ type: 'match-jump', forward });
        });
        textMatchClick$
            .pipe(untilDestroy(this), filter(ev => ev.origin === 'suspect' && ev.broadcast), map(ev => ev.elem), withLatestFrom(suspect$, sourceHtmlMatches$, contentMode$), filter(([, , matches, content]) => content === 'html' && !!matches))
            .subscribe(([elem, suspect, matches]) => {
            if (elem && suspect.result) {
                const comparison = suspect.result.html.comparison[MatchType[elem.match.type]];
                const [start] = findRespectiveStart(elem.match.start, comparison, false);
                const found = matches.findIndex(m => m.start === start);
                this.markSingleMatchInFrame(found);
            }
            else {
                this.markSingleMatchInFrame(-1);
            }
        });
        suspectHtml$
            .pipe(untilDestroy(this), withLatestFrom(suspect$, sourceHtmlMatches$, contentMode$), filter(([, , matches, content]) => content === 'html' && !!matches))
            .subscribe(([match, suspect, matches]) => {
            if (match && suspect && suspect.result) {
                const comparison = suspect.result.html.comparison[MatchType[match.type]];
                const [start] = findRespectiveStart(match.start, comparison, false);
                const found = matches.findIndex(m => m.start === start);
                this.markSingleMatchInFrame(found);
            }
            else {
                this.markSingleMatchInFrame(-1);
            }
        });
    }
}
SourceHtmlHelperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SourceHtmlHelperComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ElementRef }, { token: HighlightService }, { token: MatchService }, { token: ReportService }, { token: CopyleaksTranslateService }], target: i0.ɵɵFactoryTarget.Component });
SourceHtmlHelperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: SourceHtmlHelperComponent, selector: "iframe[cr-source-html-helper]", usesInheritance: true, ngImport: i0, template: '', isInline: true, styles: ["#sidebar.opened+#page-container{left:0px!important}#page-container .c{pointer-events:none!important}#page-container .t{pointer-events:all!important}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type=\"0\"]{background-color:#f66}span[match][data-type=\"0\"].hover{background-color:#ff8080}span[match][data-type=\"1\"]{background-color:#ff9a9a}span[match][data-type=\"1\"].hover{background-color:#ffb4b4}span[match][data-type=\"2\"]{background-color:#ffd9b0}span[match][data-type=\"2\"].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SourceHtmlHelperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'iframe[cr-source-html-helper]', template: '', styles: ["#sidebar.opened+#page-container{left:0px!important}#page-container .c{pointer-events:none!important}#page-container .t{pointer-events:all!important}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type=\"0\"]{background-color:#f66}span[match][data-type=\"0\"].hover{background-color:#ff8080}span[match][data-type=\"1\"]{background-color:#ff9a9a}span[match][data-type=\"1\"].hover{background-color:#ffb4b4}span[match][data-type=\"2\"]{background-color:#ffd9b0}span[match][data-type=\"2\"].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ElementRef }, { type: HighlightService }, { type: MatchService }, { type: ReportService }, { type: CopyleaksTranslateService }]; } });

class MatPaginationComponent {
    constructor(translationsService, announcer) {
        this.translationsService = translationsService;
        this.announcer = announcer;
        this.totalPages = 1;
        this.page = new EventEmitter();
        this._currentPage = 1;
        this.currentPageChange = new EventEmitter();
    }
    get currentPage() {
        return this._currentPage;
    }
    set currentPage(v) {
        const currentPage = coerceNumberProperty(v);
        this._currentPage = Math.min(Math.max(currentPage, 1), this.totalPages);
        this.currentPageChange.emit(currentPage);
    }
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        this._disabled = coerceBooleanProperty(value);
    }
    get showFirstLastButtons() {
        return this._showFirstLastButtons;
    }
    set showFirstLastButtons(value) {
        this._showFirstLastButtons = coerceBooleanProperty(value);
    }
    /**
     * init translations on component init
     */
    ngOnInit() {
        this.translations = this.translationsService.translations;
    }
    /**
     * Navigate to the next page.
     * This will cause the paginator to emit a `PageChangeEvent`
     */
    next() {
        const previousPage = this.currentPage;
        this.currentPage = this.currentPage + 1;
        this.page.emit({
            currentPage: this.currentPage,
            totalPages: this.totalPages,
            previousPage,
        });
        this.announcer.announce('Moved page', 'assertive');
    }
    /**
     * Navigate to the previous page.
     * This will cause the paginator to emit a `PageChangeEvent`
     */
    back() {
        const previousPage = this.currentPage;
        this.currentPage = this.currentPage - 1;
        this.page.emit({
            currentPage: this.currentPage,
            totalPages: this.totalPages,
            previousPage,
        });
        this.announcer.announce('Moved page', 'assertive');
    }
    /**
     * Navigate to page.
     * This will cause the paginator to emit a `PageChangeEvent`
     */
    goToPage(page) {
        const previousPage = this.currentPage;
        this.currentPage = page;
        this.page.emit({
            currentPage: this.currentPage,
            totalPages: this.totalPages,
            previousPage,
        });
        this.announcer.announce('Moved page', 'assertive');
    }
    /**
     * On blur handler for the paginator input will update the input with the current page
     * @param event the default blur event object
     */
    onInputBlur(event) {
        event.target.value = `${this._currentPage}`;
    }
    /**
     * flag indicating whether the paginator has multiple pages
     */
    get hasPages() {
        return this.totalPages > 1;
    }
    /**
     * check if the paginator is at the first page
     */
    get isFirstPage() {
        return this.currentPage === 1;
    }
    /**
     * check if the paginator is at the last page
     */
    get isLastPage() {
        return this.currentPage === this.totalPages;
    }
}
MatPaginationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationComponent, deps: [{ token: CopyleaksTranslateService }, { token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
MatPaginationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: MatPaginationComponent, selector: "cr-mat-pagination", inputs: { totalPages: "totalPages", currentPage: "currentPage", disabled: "disabled", showFirstLastButtons: "showFirstLastButtons" }, outputs: { page: "page", currentPageChange: "currentPageChange" }, ngImport: i0, template: "<div mat-pagination-wrapper dir=\"ltr\">\n\t<button\n\t\taria-label=\"Go to the first page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.FIRST_PAGE || 'First page'\"\n\t\t(click)=\"goToPage(1)\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'first_page_disabled' : 'first_page'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the previous page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.PREV_PAGE || 'Previous page'\"\n\t\t(click)=\"back()\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'chevron_left_disabled' : 'chevron_left'\"></mat-icon>\n\t</button>\n\t<mat-form-field>\n\t\t<input\n\t\t\taria-label=\"Enter page number to go to.\"\n\t\t\tmatInput\n\t\t\t(blur)=\"onInputBlur($event)\"\n\t\t\t[min]=\"1\"\n\t\t\t[max]=\"totalPages\"\n\t\t\tautocomplete=\"off\"\n\t\t\ttype=\"number\"\n\t\t\t[ngModelOptions]=\"{ updateOn: 'blur' }\"\n\t\t\t[(ngModel)]=\"currentPage\"\n\t\t\t[disabled]=\"!hasPages || disabled\" />\n\t\t<span matSuffix>{{ translations?.SHARED?.OF || 'of' }} {{ totalPages }}</span>\n\t</mat-form-field>\n\t<button\n\t\taria-label=\"Go to the next page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.NEXT_PAGE || 'Next page'\"\n\t\t(click)=\"next()\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'chevron_right_disabled' : 'chevron_right'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the last page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.LAST_PAGE || 'Last page'\"\n\t\t(click)=\"goToPage(totalPages)\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'last_page_disabled' : 'last_page'\"></mat-icon>\n\t</button>\n</div>\n", styles: ["[mat-pagination-wrapper]{display:flex;flex-flow:row nowrap;align-items:center;color:#0000008a}[mat-pagination-wrapper]>:not(:last-child){margin-right:.25em}[mat-pagination-wrapper] mat-form-field{width:100px}[mat-pagination-wrapper] input[type=number]::-webkit-inner-spin-button,[mat-pagination-wrapper] input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}[mat-pagination-wrapper] button[mat-button]{min-width:36px;padding:0}[mat-pagination-wrapper] button[mat-button] mat-icon{height:28px;width:28px;font-size:28px}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0;border:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-label-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-underline{bottom:-2px}.cdk-keyboard-focused{outline:2px solid black!important}\n"], components: [{ type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i5.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }], directives: [{ type: i6$2.Dir, selector: "[dir]", inputs: ["dir"], outputs: ["dirChange"], exportAs: ["dir"] }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i9.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i10.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { type: i10.MaxValidator, selector: "input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]", inputs: ["max"] }, { type: i10.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { type: i10.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i10.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i10.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i5.MatSuffix, selector: "[matSuffix]" }], encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-mat-pagination', encapsulation: ViewEncapsulation.None, template: "<div mat-pagination-wrapper dir=\"ltr\">\n\t<button\n\t\taria-label=\"Go to the first page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.FIRST_PAGE || 'First page'\"\n\t\t(click)=\"goToPage(1)\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'first_page_disabled' : 'first_page'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the previous page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.PREV_PAGE || 'Previous page'\"\n\t\t(click)=\"back()\"\n\t\t[disabled]=\"!hasPages || isFirstPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isFirstPage || disabled ? 'chevron_left_disabled' : 'chevron_left'\"></mat-icon>\n\t</button>\n\t<mat-form-field>\n\t\t<input\n\t\t\taria-label=\"Enter page number to go to.\"\n\t\t\tmatInput\n\t\t\t(blur)=\"onInputBlur($event)\"\n\t\t\t[min]=\"1\"\n\t\t\t[max]=\"totalPages\"\n\t\t\tautocomplete=\"off\"\n\t\t\ttype=\"number\"\n\t\t\t[ngModelOptions]=\"{ updateOn: 'blur' }\"\n\t\t\t[(ngModel)]=\"currentPage\"\n\t\t\t[disabled]=\"!hasPages || disabled\" />\n\t\t<span matSuffix>{{ translations?.SHARED?.OF || 'of' }} {{ totalPages }}</span>\n\t</mat-form-field>\n\t<button\n\t\taria-label=\"Go to the next page.\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.NEXT_PAGE || 'Next page'\"\n\t\t(click)=\"next()\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'chevron_right_disabled' : 'chevron_right'\"></mat-icon>\n\t</button>\n\t<button\n\t\taria-label=\"Go to the last page.\"\n\t\t*ngIf=\"showFirstLastButtons\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.LAST_PAGE || 'Last page'\"\n\t\t(click)=\"goToPage(totalPages)\"\n\t\t[disabled]=\"!hasPages || isLastPage || disabled\">\n\t\t<mat-icon [svgIcon]=\"!hasPages || isLastPage || disabled ? 'last_page_disabled' : 'last_page'\"></mat-icon>\n\t</button>\n</div>\n", styles: ["[mat-pagination-wrapper]{display:flex;flex-flow:row nowrap;align-items:center;color:#0000008a}[mat-pagination-wrapper]>:not(:last-child){margin-right:.25em}[mat-pagination-wrapper] mat-form-field{width:100px}[mat-pagination-wrapper] input[type=number]::-webkit-inner-spin-button,[mat-pagination-wrapper] input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}[mat-pagination-wrapper] button[mat-button]{min-width:36px;padding:0}[mat-pagination-wrapper] button[mat-button] mat-icon{height:28px;width:28px;font-size:28px}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0;border:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-label-wrapper{padding:0}[mat-pagination-wrapper] .mat-form-field-appearance-legacy .mat-form-field-underline{bottom:-2px}.cdk-keyboard-focused{outline:2px solid black!important}\n"] }]
        }], ctorParameters: function () { return [{ type: CopyleaksTranslateService }, { type: i4$2.LiveAnnouncer }]; }, propDecorators: { totalPages: [{
                type: Input
            }], page: [{
                type: Output
            }], currentPage: [{
                type: Input
            }], currentPageChange: [{
                type: Output
            }], disabled: [{
                type: Input
            }], showFirstLastButtons: [{
                type: Input
            }] } });

/* tslint:disable */
const IMAGES = {
    PLAGIARISM_FREE_PNG: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXIAAAFyCAYAAADoJFEJAAAABGdBTUEAALGPC/xhBQAAFQRJREFUeAHt3c2rnFcdB/Bn7ktiIhHtwrQoWkVcdOHCt4WIBBQLxYUIdiPYCl25FfwHXGkVXCrooq4kK1ddFBFXiotSNxaqQrVQsBVstC9pkjt3fE7TJ7nJ5J6Z53XOec5n4DI3c56X3/n8Hr89jHfmqSoPAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgTKEFiUMU2zJEBgKoHVavXpo6Ojb9bn+3L985H650L92quLxeKF+vnpw8PDX9e/vzpVPc5DgAABAlsK1CH98Rs3bvzm+vXrq9hPvc0b9c8P6u3PbHlom20QsCLfAGSYAIHNAnUwh9X35Tqc79u89c0t6lX5Hw4ODr5RP7+y7T62u7eAIL+3i1cJENhSoH4b5et1gIcQP9xyl5Ob/b1+q+VSHeYvn3zR7+0EBHk7L1sTIHBCoGeIN0cS5o1Ex2dB3hHObgRKFxgoxBtGYd5IdHgW5B3Q7EKgdIGBQ7zhFOaNRMtnQd4SzOYEShcYKcQbVmHeSLR4FuQtsGxKoHSBkUO84RXmjcSWz4J8SyibEShdYKIQb5iFeSOxxbMg3wLJJgRKF5g4xBtuYd5IbHje2zBumACBwgX6hPhRtaqevfZaV8FP1B80+n399+kf6nqAUvYT5KV02jwJdBDoG+JPXnmh+mH988zVzh/eFOZb9M1bK1sg2YRAiQJDhPhz167convifR+rvnru4q1/t/zF2ywRMEEewUl16OJTq1WqtakrP4FXHlus5cDQId6oCPNGYthnb60M6+loBLIXGCvEA8wv/veit1lGuEIORjimQ04k8PyjE53IaWYp8NDl9WmNGeLN2UKYh0fHt1nCe+ZP1/8H6BfqL9p6szlm6c9W5KVfAeZP4F2BKUK8we65Mv9UHeY/b47luaoEuauAAIFqyhBvuHuG+bfqm1d8rjlW6c+CvPQrwPyLF9hFiDfofcK8fmvl+81xSn8W5KVfAeZftMDDH15VXW8KET7sE/5O/OSfGHbB7BHmD9e1u11cjS7Iu1x59iEwA4EQ4j/74jIEees7+wwV4g1jlzCv675Q7/9Qc4ySnwV5yd0392IFDhY3Qzw8t30MHeLN+buE+XK5fKDZv+Rnf35YcvfNvUiBEN7n9pb13LuF+I9ee6H68/Xbn9gcEvHIZ906cVqRd2KzE4E8BfqGeHhPfKwQf/zCg9Uj5+9vBbu/v/+vVjvMdGNBPtPGmhaBuwWGCPG+/8fm3TU1/+4S4vVfrbxR7/98c4ySnwV5yd0392IE5hbi7zbumTrMrxXTxMhEBXkExxCBOQjMNMRDa348h/4MMQdBPoSiYxBIVGDGIX758PDwj4myT16WIJ+c3AkJTCMw4xD/Sx3iT0yjmMdZBHkefVIlgVYCMw7xF+sQf6R+b/z1ViAz31iQz7zBpleewMxD/FId4i+V19X4jAV53McogawEhHhW7RqsWJ/sHIwy3wPd6wYD+c6mf+VtbtixX39Kcr/+hOTeuzdLO64/LLmsFtVytXb3tP6FbTiCEN8ANONhQT7j5praeAJnFsfVmb3jOrLv+pj7rfxeVNdXe9X14727txilKCE+Cms2BxXk2bRqvELbrEDHqyKPI+/XQf2evaP6a0PvCvC18lfVmcWyOtw/rt5a7lch8sd6CPGxZPM5rvfI8+mVSncsEALz/FYhfrvQsGJ/7/6yCvuO8RDiY6jmd0xBnl/PVLwDgT6BGb5lMHzb4NBh3qemsb6KtmlNl+9Oafatn8OfGPrrlBMgm34V5JuEjBcv0Ccwb+MNG+Z9ahLit7syl98E+Vw6aR6jCPQJzPWChgnzPjUJ8fWuzOEVQT6HLprDKAJ9AvP0gvqFeZ+ahPjpXcl9RJDn3kH1jyLQJzA3F9QtzPvUJMQ3dyXnLQR5zt1T+ygCfQJz+4LahXmfmoT49l3JdUtBnmvn1D2KQJ/AbF/QdmHepyYh3r4rOe4hyHPsmppHEegTmMv6TwxDaLZ/xMO8T01CvH03ct3DJztz7dyAdfuulaq69MCq+uWXut1ZPoT4T//7tyrcAf577/9kddD6U5w3w/zq8X59jNufABXiA17kMz+UFfnMG2x6mwWaED+z135F3YT4n97+T/Xstdeqn1z56yArcyG+uW+2uC1w+z//t1/zW+ICF5+ql371w3ek9G9Un8A8GeInK/nM2Q90XJmHo9z8sq3wpVzhE6FtH95OaSs2j+2tyOfRR7PoIDBGiIcy+q7Mw5dtCfEODS14F0FecPNLnnr4DvHw/SddAvO0lfhJz35hfvJI2/1uJb6d01y3EuRz7ax5nSoQLvpz9TcSjhXizYmnCnMh3oiX+yzIy+19sTM/W6/E124IsYXGNivxuw8zdpgL8bvFy/y3IC+z78XOOtwYIrw33vbRJcSbc4wV5kK8EfYsyF0DRQkcdPhrkD4h3uAOHeZCvJH1HAQEueugKIG2q/EhQrwBHirMhXgj6rkREOSNhOciBNq8Nz5kiDe4fcNciDeSnk8KCPKTGn6fvUCbT8A9d+1KFT6xOfSja5gL8aE7MZ/jCfL59NJMthAIn5fc9vHZ+hOa377w0W03b7Vd2zAX4q14i9tYkBfX8rInvDrxpVTbSHzt/AM7D3Mhvk2nyt5GkJfd/+Jmf6NlkAegXYa5EC/uEu00YUHeic1OuQocrcIl3+ad8psz3UWYC/Fcr7Lp6xbk05s74w4FwkeBrr8T5u2LmDLMhXj7/pS8hyAvufuFzv3a8V513PEjFFOE+durZfXklReq8FczYzwev/Bg9cj5+zsd+qU3FtXh4eGlxWLxUqcD2GkUAUE+CquDpi7w1nK/DvP2b7GEeY0d5t/993PJhvijv6vvfyTEk7u8BXlyLVHQFALhLZarxwdJhvkbq6NRCPqsxP9Rr8RDiL/85iilOWhPAffs7Alo93wFjus0D2F+bu+ofqMlRHu7R1iZh8evXv9nux13sHXfEP/Kbw+qa1d3ULhTbiVgRb4Vk43mKtCEeYpvswxlPkSIv2QlPlQ7RjmOIB+F1UFzEphzmAvxnK7E7rUK8u529pyRwBzDXIjP6ALdMBVBvgHIcDkCcwpzIV7OdRtmKsjL6rfZbhCYQ5gL8Q1NnuGwIJ9hU02pn0DOYS7E+/U+170Fea6dU/eoAjmGuRAf9ZJI+uCCPOn2KG6XAjmFuRDf5ZWy+3ML8t33QAUJC+QQ5n1CPHx3Sviwj78TT/gi3KI0Qb4Fkk3KFkg5zPuGePjYvRDP//oW5Pn30AwmEEgxzPuE+HF9gw3fnTLBhTPRKQT5RNBOk79ASmHeN8TDd8z4Aqz8r8lmBoK8kfBMYAuBFMJ8iBBvcxPqLVhssmMBQb7jBjh9fgK7DHMhnt/1MkXFgnwKZeeYncAuwlyIz+4yGmxCgnwwSgcqTWDKMBfipV1d7eYryNt52ZrAHQJThLkQv4PcP+4hIMjvgeIlAm0ExgxzId6mE+VuK8jL7b2ZDygwRpgL8QEbNPNDCfKZN9j0phMYKswXdcnfufBg9cj5+zsVHz7sc/PG0p12t1OGAm6+nGHTlJyuQBPmfW7o/Pmz91Uf3D/baZJCvBNb9jtZkWffQhNITaAJ8643dBbiqXU0/XoEefo9UmGGAn3DvO2UrcTbis1re0E+r36aTUICU4W5EE+o6TsqRZDvCN5pyxAYO8yFeBnX0aZZCvJNQsYJ9BQYK8yFeM/GzGh3QT6jZppKugJDh7kQT7fXu6hMkO9C3TmLFBgqzIV4kZdPdNKCPMpjkMCwArfCvP7QTpfHstqr3qpvCuH7xLvozXcfQT7f3ppZogIhzEMYh1Bu87ixqkN8uV/Vu3sQuEPAJzvv4PAPAtMIhDAOoXy4WFRn98JHh06P5/BWyrXVfnXUcRU/zYycZZcCgnyX+s5dvEBYZd9Y7lUHi9U7PyHQw5su4a2T8NvR8aJeuXd7G6Z43IIABHlBzT5tqg9dPm2kzNeff3T6eYfVthX39O5zOWO7N+nmMmvzIECAwIwErMhn1MyuU9nFCrRrrfYjQGBdwIp83cQrBAgQyEpAkGfVLsUSIEBgXUCQr5t4hQABAlkJCPKs2qVYAgQIrAsI8nUTrxAgQCArAUGeVbsUS4AAgXUBQb5u4hUCBAhkJSDIs2qXYgkQILAuIMjXTbxCgACBrAQEeVbtUiwBAgTWBQT5uolXCBAgkJWAIM+qXYolQIDAuoAgXzfxCgECBLISEORZtUuxBAgQWBcQ5OsmXiFAgEBWAoI8q3YplgABAusCbiyxblLMK27xller3QAkr35NWa0V+ZTazkWAAIERBKzIR0DN5ZBWeLl0Sp0E4gJW5HEfowQIEEheQJAn3yIFEiBAIC4gyOM+RgkQIJC8gCBPvkUKJECAQFxAkMd9jBIgQCB5AUGefIsUSIAAgbiAII/7GCVAgEDyAoI8+RYpkAABAnEBQR73MUqAAIHkBQR58i1SIAECBOICgjzuY5QAAQLJCwjy5FukQAIECMQFBHncxygBAgSSFxDkybdIgQQIEIgLCPK4j1ECBAgkLyDIk2+RAgkQIBAXcGOJuM+sR93qLa/2uhFIXv2aslor8im1nYsAAQIjCFiRj4CayyGt8HLplDoJxAWsyOM+RgkQIJC8gCBPvkUKJECAQFxAkMd9jBIgQCB5AUGefIsUSIAAgbiAII/7GCVAgEDyAoI8+RYpkAABAnEBQR73MUqAAIHkBQR58i1SIAECBOICgjzuY5QAAQLJCwjy5FukQAIECMQFBHncxygBAgSSFxDkybdIgQQIEIgLCPK4j1ECBAgkLyDIk2+RAgkQIBAXEORxH6MECBBIXkCQJ98iBRIgQCAu4MYScZ9Zj7rVW17tdSOQvPo1ZbVW5FNqOxcBAgRGELAiHwE1l0Na4eXSKXUSiAtYkcd9jBIgQCB5AUGefIsUSIAAgbiAII/7GCVAgEDyAoI8+RYpkAABAnEBQR73MUqAAIHkBQR58i1SIAECBOICgjzuY5QAAQLJCwjy5FukQAIECMQFBHncxygBAgSSFxDkybdIgQQIEIgLCPK4j1ECBAgkLyDIk2+RAgkQIBAXEORxH6MECBBIXkCQJ98iBRIgQCAuIMjjPkYJECCQvIAgT75FCiRAgEBcwI0l4j6zHnWrt7za60YgefVrymqtyKfUdi4CBAiMIGBFPgJqLoe0wsulU+okEBewIo/7GCVAgEDyAoI8+RYpkAABAnEBQR73MUqAAIHkBQR58i1SIAECBOICgjzuY5QAAQLJCwjy5FukQAIECMQFBHncxygBAgSSFxDkybdIgQQIEIgLCPK4j1ECBAgkLyDIk2+RAgkQIBAXEORxH6MECBBIXkCQJ98iBRIgQCAuIMjjPkYJECCQvIAgT75FCiRAgEBcQJDHfYwSIEAgeQFBnnyLFEiAAIG4gBtLxH1mPepWb3m1141A8urXlNVakU+p7VwECBAYQcCKfATUXA5phZdLp9RJIC5gRR73MUqAAIHkBQR58i1SIAECBOICgjzuY5QAAQLJCwjy5FukQAIECMQFBHncxygBAgSSFxDkybdIgQQIEIgLCPK4j1ECBAgkLyDIk2+RAgkQIBAXEORxH6MECBBIXkCQJ98iBRIgQCAuIMjjPkYJECCQvIAgT75FCiRAgEBcQJDHfYwSIEAgeQFBnnyLFEiAAIG4gCCP+xglQIBA8gKCPPkWKZAAAQJxAUEe9zFKgACB5AUEefItUiABAgTiAoI87mOUAAECyQsI8uRbpEACBAjEBQR53McoAQIEkhcQ5Mm3SIEECBCICwjyuI9RAgQIJC8gyJNvkQIJECAQFziIDxtNWeChyylXpzYCBKYSsCKfStp5CBAgMJKAFflIsGMe9pXHFos2x7/41GoVtn/luM1etiVAIBcBK/JcOqVOAgQInCIgyE+B8TIBAgRyERDkuXRKnQQIEDhFQJCfAuNlAgQI5CIgyHPplDoJECBwioAgPwXGywQIEMhFQJDn0il1EiBA4BQBf0d+CswcX77oP9tzbKs5Eaj8T9tFQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgUP0f1Wax1V46ySMAAAAASUVORK5CYII='
};
const SVG = {
    LOGO: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMTE3LjYgMjg3LjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDExMTcuNiAyODcuNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzA0MEYyMTt9DQoJLnN0MXtmaWx0ZXI6dXJsKCNBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcik7fQ0KCS5zdDJ7bWFzazp1cmwoI1NWR0lEXzFfKTt9DQoJLnN0M3tmaWxsOnVybCgjU1ZHSURfMl8pO30NCgkuc3Q0e2ZpbHRlcjp1cmwoI0Fkb2JlX09wYWNpdHlNYXNrRmlsdGVyXzFfKTt9DQoJLnN0NXtmaWx0ZXI6dXJsKCNBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcl8yXyk7fQ0KCS5zdDZ7bWFzazp1cmwoI1NWR0lEXzNfKTt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE4My44LDIxMi44Yy0xMC43LDIuNy0yMy4zLDQuOS0zNC42LDQuOWMtMzkuMSwwLTU2LjYtMTMuMi01Ni42LTczLjNzMjEtNzQuNyw1OC43LTc0LjcNCgkJYzExLjEsMCwyMi40LDEuNiwzMi41LDQuNWwtMy4zLDIxYy04LjgtMi41LTE4LjEtMy45LTI3LTMuOWMtMjMuMSwwLTMyLjksNy4yLTMyLjksNTIuM2MwLDQ1LjMsOS41LDUyLjUsMzIuOSw1Mi41DQoJCWM4LjcsMCwxNy43LTEuNiwyNy00LjNMMTgzLjgsMjEyLjh6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM0OC45LDcyLjJoNDIuOGMzNiwwLDUwLjcsNy42LDUwLjcsNDEuMmMwLDMyLjktMTUsNDYuMS01Mi43LDQ2LjFoLTEzdjU1LjhoLTI3LjhWNzIuMnogTTM5MC41LDEzOC41DQoJCWMxNy4xLDAsMjQuMy03LjIsMjQuMy0yNC4xYzAtMTYuOS02LjItMjEuMi0yMy43LTIxLjJoLTE0LjR2NDUuM0gzOTAuNXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDg4LjcsMTYxLjlsLTQ0LjctODkuOGgyOGwxOC45LDM1LjRjNS42LDEwLjEsOC40LDE3LjMsMTIuNiwyN2gwLjZjNC4xLTEwLjUsNi44LTE3LjMsMTEuNS0yN2wxNy45LTM1LjQNCgkJaDI3LjhsLTQ1LjMsOTB2NTMuMWgtMjcuNFYxNjEuOXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTc2LjEsNzIuMmgyNy44djEyMC43aDUxLjF2MjIuNGgtNzguOVY3Mi4yeiIvPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02NzIsNzIuMmg4Mi4xdjIxLjZoLTU0LjR2MzcuN2g1MC40djIxLjJoLTUwLjR2NDFoNTQuNHYyMS42SDY3MlY3Mi4yeiIvPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04MDcuNSw3Mi4yaDQxLjRsNDIsMTQzLjFoLTI5bC0xMC41LTM2aC00Ny42bC0xMC41LDM2aC0yNy4yTDgwNy41LDcyLjJ6IE04NDYuOCwxNThsLTEwLjEtMzUuOA0KCQljLTMuNS0xMS4zLTYuMi0yMS42LTkuMy0zMi43aC0wLjJjLTMuMSwxMS41LTUuOCwyMS44LTkuMywzMy42bC05LjksMzVIODQ2Ljh6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTkwOC40LDcyLjJoMjcuOHY2Ny45bDQzLjItNjcuOWgzMS45bC00Ni43LDY5bDQ5LjIsNzQuMUg5ODFsLTQ0LjktNzB2NzBoLTI3LjhWNzIuMnoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAyNC4zLDE5MmMxMS4zLDIuOSwyMiw0LjcsMzQuNiw0LjdjMTguMywwLDI2LjYtNi40LDI2LjYtMTcuN2MwLTEwLjctNS4zLTE0LjQtMjkuOS0yNw0KCQljLTI3LTEzLjgtMzUuOC0yMS44LTM1LjgtNDMuNGMwLTIzLjUsMTUuMi0zOC45LDUxLjctMzguOWMxMi42LDAsMjMuMywxLjksMzIuMSw0LjNsLTIuOSwyMC44Yy05LjMtMi41LTE3LjUtNC4xLTI5LjctNC4xDQoJCWMtMTcuNywwLTI1LjMsNS44LTI1LjMsMTUuNmMwLDkuNyw1LjYsMTMuNiwyOSwyNS41YzI4LjgsMTUsMzYuOSwyMi4yLDM2LjksNDMuOWMwLDI1LjktMTYuMyw0Mi01My4xLDQyDQoJCWMtMTIuOCwwLTI0LjktMS45LTM2LjgtNC45TDEwMjQuMywxOTJ6Ii8+DQoJPGRlZnM+DQoJCTxmaWx0ZXIgaWQ9IkFkb2JlX09wYWNpdHlNYXNrRmlsdGVyIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjE3LjEiIHk9IjIwLjIiIHdpZHRoPSIyNTMuMiIgaGVpZ2h0PSIyNTMuMiI+DQoJCQk8ZmVGbG9vZCAgc3R5bGU9ImZsb29kLWNvbG9yOndoaXRlO2Zsb29kLW9wYWNpdHk6MSIgcmVzdWx0PSJiYWNrIi8+DQoJCQk8ZmVCbGVuZCAgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmFjayIgbW9kZT0ibm9ybWFsIi8+DQoJCTwvZmlsdGVyPg0KCTwvZGVmcz4NCgk8bWFzayBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIxNy4xIiB5PSIyMC4yIiB3aWR0aD0iMjUzLjIiIGhlaWdodD0iMjUzLjIiIGlkPSJTVkdJRF8xXyI+DQoJCTxnIGNsYXNzPSJzdDEiPg0KCQk8L2c+DQoJPC9tYXNrPg0KCTxnIGNsYXNzPSJzdDIiPg0KCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzJfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE0My43NTgzIiB5MT0iMzk4LjM3MyIgeDI9IjE0My43NTgzIiB5Mj0iLTEwMi42NDQ4Ij4NCgkJCTxzdG9wICBvZmZzZXQ9IjAuMjE0MSIgc3R5bGU9InN0b3AtY29sb3I6IzNGOTdGNSIvPg0KCQkJPHN0b3AgIG9mZnNldD0iMC44Mjk3IiBzdHlsZT0ic3RvcC1jb2xvcjojM0ZBOUY1Ii8+DQoJCTwvbGluZWFyR3JhZGllbnQ+DQoJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0xNDMuOCwyNzMuNGMtNjkuOCwwLTEyNi42LTU2LjgtMTI2LjYtMTI2LjZTNzMuOSwyMC4yLDE0My44LDIwLjJTMjcwLjQsNzcsMjcwLjQsMTQ2LjgNCgkJCVMyMTMuNiwyNzMuNCwxNDMuOCwyNzMuNHogTTE0My44LDQ4LjRjLTU0LjIsMC05OC40LDQ0LjEtOTguNCw5OC40YzAsNTQuMiw0NC4xLDk4LjQsOTguNCw5OC40czk4LjQtNDQuMSw5OC40LTk4LjQNCgkJCUMyNDIuMSw5Mi41LDE5OCw0OC40LDE0My44LDQ4LjR6Ii8+DQoJPC9nPg0KCTxkZWZzPg0KCQk8ZmlsdGVyIGlkPSJBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcl8xXyIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIyMDcuMyIgeT0iNjkuMyIgd2lkdGg9IjExNS41IiBoZWlnaHQ9IjE0OC45Ij4NCgkJCTxmZUZsb29kICBzdHlsZT0iZmxvb2QtY29sb3I6d2hpdGU7Zmxvb2Qtb3BhY2l0eToxIiByZXN1bHQ9ImJhY2siLz4NCgkJCTxmZUJsZW5kICBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJiYWNrIiBtb2RlPSJub3JtYWwiLz4NCgkJPC9maWx0ZXI+DQoJPC9kZWZzPg0KCTxtYXNrIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjIwNy4zIiB5PSI2OS4zIiB3aWR0aD0iMTE1LjUiIGhlaWdodD0iMTQ4LjkiIGlkPSJTVkdJRF8zXyI+DQoJCTxnIGNsYXNzPSJzdDQiPg0KCQkJPGRlZnM+DQoJCQkJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXJfMl8iIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMjA5LjkiIHk9IjUzLjEiIHdpZHRoPSI1NS43IiBoZWlnaHQ9IjY3LjMiPg0KCQkJCQk8ZmVGbG9vZCAgc3R5bGU9ImZsb29kLWNvbG9yOndoaXRlO2Zsb29kLW9wYWNpdHk6MSIgcmVzdWx0PSJiYWNrIi8+DQoJCQkJCTxmZUJsZW5kICBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJiYWNrIiBtb2RlPSJub3JtYWwiLz4NCgkJCQk8L2ZpbHRlcj4NCgkJCTwvZGVmcz4NCgkJCTxtYXNrIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjIwOS45IiB5PSI1My4xIiB3aWR0aD0iNTUuNyIgaGVpZ2h0PSI2Ny4zIiBpZD0iU1ZHSURfM18iPg0KCQkJCTxnIGNsYXNzPSJzdDUiPg0KCQkJCTwvZz4NCgkJCTwvbWFzaz4NCgkJCTxnIGNsYXNzPSJzdDYiPg0KCQkJCTxwYXRoIGQ9Ik0yMzguNywxMjAuNGMtNS0xNy45LTE0LjktMzQtMjguNy00Ni42bDE4LjgtMjAuN2MxNy44LDE2LjEsMzAuNSwzNi44LDM2LjksNTkuOEwyMzguNywxMjAuNHoiLz4NCgkJCTwvZz4NCgkJPC9nPg0KCTwvbWFzaz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjY0LjEsMjE4LjJjLTM3LjksMC01Ni44LTEzLTU2LjgtNzMuN3MyMC42LTc1LjIsNTguNy03NS4yYzM3LjksMCw1Ni44LDEzLDU2LjgsNzMuN1MzMDIsMjE4LjIsMjY0LjEsMjE4LjJ6DQoJCSBNMjY0LjksOTAuOWMtMjAuOCwwLTI5LjYsOC40LTI5LjYsNTIuN2MwLDQ0LjMsOC45LDUyLjksMjkuNiw1Mi45YzIxLDAsMzAuMS04LjQsMzAuMS01Mi43UzI4NS45LDkwLjksMjY0LjksOTAuOXoiLz4NCjwvZz4NCjwvc3ZnPg0K'
};

class PoweredByComponent {
    constructor(translationsService, directionService) {
        this.translationsService = translationsService;
        this.directionService = directionService;
        this.logo = SVG.LOGO;
    }
    /**
     * init translations on component init.
     */
    ngOnInit() {
        this.translations = this.translationsService.translations;
    }
}
PoweredByComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PoweredByComponent, deps: [{ token: CopyleaksTranslateService }, { token: DirectionService }], target: i0.ɵɵFactoryTarget.Component });
PoweredByComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PoweredByComponent, selector: "cr-powered-by", ngImport: i0, template: "<svg width=\"0\" height=\"0\" style=\"display: none\">\n\t<symbol\n\t\tversion=\"1.1\"\n\t\tid=\"logo\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tx=\"0px\"\n\t\ty=\"0px\"\n\t\tviewBox=\"0 0 1412.6 362.1\"\n\t\tstyle=\"enable-background: new 0 0 1412.6 362.1\"\n\t\txml:space=\"preserve\">\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M243.9,265.9c-13.3,3.3-28.8,6.1-42.9,6.1c-48.5,0-70.2-16.3-70.2-90.9s26-92.7,72.7-92.7\nc13.8,0,27.8,2,40.3,5.6l-4.1,26c-11-3.1-22.5-4.8-33.4-4.8c-28.6,0-40.8,8.9-40.8,64.8c0,56.2,11.7,65.1,40.8,65.1\nc10.7,0,21.9-2,33.4-5.4L243.9,265.9z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M448.6,91.5h53.1c44.7,0,62.8,9.4,62.8,51c0,40.8-18.6,57.2-65.3,57.2h-16.1v69.2h-34.5V91.5z M500.2,173.7\nc21.2,0,30.1-8.9,30.1-29.9c0-20.9-7.6-26.3-29.4-26.3h-17.9v56.2H500.2z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M622,202.8L566.6,91.5h34.7l23.5,43.9c6.9,12.5,10.5,21.4,15.6,33.4h0.8c5.1-13,8.4-21.4,14.3-33.4l22.2-43.9\nh34.4l-56.2,111.5v65.9H622V202.8z\" />\n\t\t<path class=\"logo-svg-color\" d=\"M730.2,91.5h34.4v149.6h63.3v27.8h-97.8V91.5z\" />\n\t\t<path class=\"logo-svg-color\" d=\"M849.1,91.5H951v26.8h-67.4V165h62.5v26.3h-62.5v50.8H951v26.8H849.1V91.5z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M1017.1,91.5h51.3l52.1,177.4h-36l-13-44.7h-59l-13,44.7h-33.7L1017.1,91.5z M1065.8,198l-12.5-44.4\nc-4.4-14-7.7-26.8-11.5-40.6h-0.2c-3.8,14.3-7.1,27.1-11.5,41.6l-12.2,43.4H1065.8z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M1142.2,91.5h34.4v84.2l53.6-84.2h39.6l-57.9,85.5l61,91.9h-40.6l-55.6-86.8v86.8h-34.4V91.5z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M1285.9,240.1c14,3.6,27.3,5.9,42.9,5.9c22.7,0,32.9-7.9,32.9-22c0-13.3-6.6-17.9-37-33.4\nc-33.4-17.1-44.4-27.1-44.4-53.9c0-29.1,18.9-48.2,64.1-48.2c15.6,0,28.8,2.3,39.8,5.4l-3.6,25.8c-11.5-3.1-21.7-5.1-36.8-5.1\nc-21.9,0-31.4,7.1-31.4,19.4c0,12,6.9,16.8,36,31.6c35.7,18.6,45.7,27.6,45.7,54.4c0,32.2-20.2,52.1-65.9,52.1\nc-15.8,0-30.9-2.3-45.7-6.1L1285.9,240.1z\" />\n\t\t<defs>\n\t\t\t<filter id=\"Adobe_OpacityMaskFilter\" filterUnits=\"userSpaceOnUse\" x=\"37.3\" y=\"27.1\" width=\"313.9\" height=\"313.9\">\n\t\t\t\t<feFlood style=\"flood-color: white; flood-opacity: 1\" result=\"back\" />\n\t\t\t\t<feBlend in=\"SourceGraphic\" in2=\"back\" mode=\"normal\" />\n\t\t\t</filter>\n\t\t</defs>\n\t\t<mask maskUnits=\"userSpaceOnUse\" x=\"37.3\" y=\"27.1\" width=\"313.9\" height=\"313.9\" id=\"SVGID_1_\"></mask>\n\t\t<g class=\"st2\">\n\t\t\t<defs>\n\t\t\t\t<linearGradient\n\t\t\t\t\tid=\"SVGID_2_\"\n\t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\t\tx1=\"194.2911\"\n\t\t\t\t\ty1=\"495.9138\"\n\t\t\t\t\tx2=\"194.2911\"\n\t\t\t\t\ty2=\"-125.1785\">\n\t\t\t\t\t<stop offset=\"0.2141\" style=\"stop-color: #3f97f5\" />\n\t\t\t\t\t<stop offset=\"0.8297\" style=\"stop-color: #3fa9f5\" />\n\t\t\t\t</linearGradient>\n\t\t\t</defs>\n\t\t\t<path\n\t\t\t\tclass=\"logo-svg-copyleaks-color\"\n\t\t\t\td=\"M194.3,341c-86.5,0-157-70.4-157-157s70.4-157,157-157s157,70.4,157,157S280.8,341,194.3,341z M194.3,62.1\nc-67.2,0-122,54.7-122,122c0,67.3,54.7,122,122,122s122-54.7,122-122C316.3,116.8,261.5,62.1,194.3,62.1z\" />\n\t\t</g>\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M345.8,88c-9.4,0-18,0.7-25.6,2.4c5.8,7.8,10.9,16.1,15.2,24.9c2.8-0.4,5.8-0.6,9.1-0.6\nc26,0,37.3,10.7,37.3,65.6s-11.2,65.3-37.3,65.3c-25.8,0-36.7-10.7-36.7-65.6c0-14.3,0.7-25.6,2.3-34.4\nc-4.5-13.6-11.4-26.2-20.1-37.2c-11.1,14.1-16.9,36.9-16.9,72.7c0,75.3,23.5,91.4,70.4,91.4c47,0,72.8-17.9,72.8-93.2\nS392.8,88,345.8,88z\" />\n\t</symbol>\n</svg>\n\n<span>{{ translations?.SHARED?.POWERED_BY || 'Powered by' }}</span>\n\n<a\n\taria-label=\"Open Copyleaks website.\"\n\ttitle=\"Powered By Copyleaks.com\"\n\thref=\"https://copyleaks.com\"\n\ttarget=\"_blank\"\n\t[class]=\"'a-' + directionService.dir\">\n\t<!-- <img [src]=\"logo | safe: 'url'\"\n\t\t\t alt=\"Powered by Copyleaks\" /> -->\n\t<svg style=\"margin-top: 5px\" height=\"84\" width=\"103\" alt=\"Powered by Copyleaks\">\n\t\t<use xlink:href=\"#logo\"></use>\n\t</svg>\n</a>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{display:flex;flex-flow:row nowrap;place-content:center flex-start;align-items:center;flex:1}img{vertical-align:middle}a{margin-left:3px;width:100%;max-width:91px;min-width:91px}.a-rtl{margin-left:0;margin-right:3px}.logo-svg-color{fill:#040f21}.logo-svg-copyleaks-color{fill:#17a1ff}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PoweredByComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-powered-by', template: "<svg width=\"0\" height=\"0\" style=\"display: none\">\n\t<symbol\n\t\tversion=\"1.1\"\n\t\tid=\"logo\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tx=\"0px\"\n\t\ty=\"0px\"\n\t\tviewBox=\"0 0 1412.6 362.1\"\n\t\tstyle=\"enable-background: new 0 0 1412.6 362.1\"\n\t\txml:space=\"preserve\">\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M243.9,265.9c-13.3,3.3-28.8,6.1-42.9,6.1c-48.5,0-70.2-16.3-70.2-90.9s26-92.7,72.7-92.7\nc13.8,0,27.8,2,40.3,5.6l-4.1,26c-11-3.1-22.5-4.8-33.4-4.8c-28.6,0-40.8,8.9-40.8,64.8c0,56.2,11.7,65.1,40.8,65.1\nc10.7,0,21.9-2,33.4-5.4L243.9,265.9z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M448.6,91.5h53.1c44.7,0,62.8,9.4,62.8,51c0,40.8-18.6,57.2-65.3,57.2h-16.1v69.2h-34.5V91.5z M500.2,173.7\nc21.2,0,30.1-8.9,30.1-29.9c0-20.9-7.6-26.3-29.4-26.3h-17.9v56.2H500.2z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M622,202.8L566.6,91.5h34.7l23.5,43.9c6.9,12.5,10.5,21.4,15.6,33.4h0.8c5.1-13,8.4-21.4,14.3-33.4l22.2-43.9\nh34.4l-56.2,111.5v65.9H622V202.8z\" />\n\t\t<path class=\"logo-svg-color\" d=\"M730.2,91.5h34.4v149.6h63.3v27.8h-97.8V91.5z\" />\n\t\t<path class=\"logo-svg-color\" d=\"M849.1,91.5H951v26.8h-67.4V165h62.5v26.3h-62.5v50.8H951v26.8H849.1V91.5z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M1017.1,91.5h51.3l52.1,177.4h-36l-13-44.7h-59l-13,44.7h-33.7L1017.1,91.5z M1065.8,198l-12.5-44.4\nc-4.4-14-7.7-26.8-11.5-40.6h-0.2c-3.8,14.3-7.1,27.1-11.5,41.6l-12.2,43.4H1065.8z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M1142.2,91.5h34.4v84.2l53.6-84.2h39.6l-57.9,85.5l61,91.9h-40.6l-55.6-86.8v86.8h-34.4V91.5z\" />\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M1285.9,240.1c14,3.6,27.3,5.9,42.9,5.9c22.7,0,32.9-7.9,32.9-22c0-13.3-6.6-17.9-37-33.4\nc-33.4-17.1-44.4-27.1-44.4-53.9c0-29.1,18.9-48.2,64.1-48.2c15.6,0,28.8,2.3,39.8,5.4l-3.6,25.8c-11.5-3.1-21.7-5.1-36.8-5.1\nc-21.9,0-31.4,7.1-31.4,19.4c0,12,6.9,16.8,36,31.6c35.7,18.6,45.7,27.6,45.7,54.4c0,32.2-20.2,52.1-65.9,52.1\nc-15.8,0-30.9-2.3-45.7-6.1L1285.9,240.1z\" />\n\t\t<defs>\n\t\t\t<filter id=\"Adobe_OpacityMaskFilter\" filterUnits=\"userSpaceOnUse\" x=\"37.3\" y=\"27.1\" width=\"313.9\" height=\"313.9\">\n\t\t\t\t<feFlood style=\"flood-color: white; flood-opacity: 1\" result=\"back\" />\n\t\t\t\t<feBlend in=\"SourceGraphic\" in2=\"back\" mode=\"normal\" />\n\t\t\t</filter>\n\t\t</defs>\n\t\t<mask maskUnits=\"userSpaceOnUse\" x=\"37.3\" y=\"27.1\" width=\"313.9\" height=\"313.9\" id=\"SVGID_1_\"></mask>\n\t\t<g class=\"st2\">\n\t\t\t<defs>\n\t\t\t\t<linearGradient\n\t\t\t\t\tid=\"SVGID_2_\"\n\t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\t\tx1=\"194.2911\"\n\t\t\t\t\ty1=\"495.9138\"\n\t\t\t\t\tx2=\"194.2911\"\n\t\t\t\t\ty2=\"-125.1785\">\n\t\t\t\t\t<stop offset=\"0.2141\" style=\"stop-color: #3f97f5\" />\n\t\t\t\t\t<stop offset=\"0.8297\" style=\"stop-color: #3fa9f5\" />\n\t\t\t\t</linearGradient>\n\t\t\t</defs>\n\t\t\t<path\n\t\t\t\tclass=\"logo-svg-copyleaks-color\"\n\t\t\t\td=\"M194.3,341c-86.5,0-157-70.4-157-157s70.4-157,157-157s157,70.4,157,157S280.8,341,194.3,341z M194.3,62.1\nc-67.2,0-122,54.7-122,122c0,67.3,54.7,122,122,122s122-54.7,122-122C316.3,116.8,261.5,62.1,194.3,62.1z\" />\n\t\t</g>\n\t\t<path\n\t\t\tclass=\"logo-svg-color\"\n\t\t\td=\"M345.8,88c-9.4,0-18,0.7-25.6,2.4c5.8,7.8,10.9,16.1,15.2,24.9c2.8-0.4,5.8-0.6,9.1-0.6\nc26,0,37.3,10.7,37.3,65.6s-11.2,65.3-37.3,65.3c-25.8,0-36.7-10.7-36.7-65.6c0-14.3,0.7-25.6,2.3-34.4\nc-4.5-13.6-11.4-26.2-20.1-37.2c-11.1,14.1-16.9,36.9-16.9,72.7c0,75.3,23.5,91.4,70.4,91.4c47,0,72.8-17.9,72.8-93.2\nS392.8,88,345.8,88z\" />\n\t</symbol>\n</svg>\n\n<span>{{ translations?.SHARED?.POWERED_BY || 'Powered by' }}</span>\n\n<a\n\taria-label=\"Open Copyleaks website.\"\n\ttitle=\"Powered By Copyleaks.com\"\n\thref=\"https://copyleaks.com\"\n\ttarget=\"_blank\"\n\t[class]=\"'a-' + directionService.dir\">\n\t<!-- <img [src]=\"logo | safe: 'url'\"\n\t\t\t alt=\"Powered by Copyleaks\" /> -->\n\t<svg style=\"margin-top: 5px\" height=\"84\" width=\"103\" alt=\"Powered by Copyleaks\">\n\t\t<use xlink:href=\"#logo\"></use>\n\t</svg>\n</a>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{display:flex;flex-flow:row nowrap;place-content:center flex-start;align-items:center;flex:1}img{vertical-align:middle}a{margin-left:3px;width:100%;max-width:91px;min-width:91px}.a-rtl{margin-left:0;margin-right:3px}.logo-svg-color{fill:#040f21}.logo-svg-copyleaks-color{fill:#17a1ff}\n"] }]
        }], ctorParameters: function () { return [{ type: CopyleaksTranslateService }, { type: DirectionService }]; } });

class OriginalTextHelperDirective {
    constructor(reportService, highlightService) {
        this.reportService = reportService;
        this.highlightService = highlightService;
    }
    /**
     * Handles the jump logic
     * @param forward the direction of the jump
     */
    handleJump(forward) {
        if (this.canJumpInCurrentPage(forward)) {
            const components = this.children.toArray();
            const nextIndex = this.current ? components.indexOf(this.current) + (forward ? 1 : -1) : 0;
            this.highlightService.textMatchClicked({ elem: components[nextIndex], broadcast: true, origin: 'original' });
        }
        else {
            const page = (forward ? findNextPageWithMatch : findPrevPageWithMatch)(this.host.textMatches, this.host.currentPage);
            if (this.host.currentPage !== page) {
                this.children.changes.pipe(take(1)).subscribe(() => {
                    const comp = forward ? this.children.first : this.children.last;
                    this.highlightService.textMatchClicked({ elem: comp, broadcast: true, origin: 'original' });
                });
                this.host.currentPage = page;
            }
        }
    }
    /**
     * Checks whether it is possible to jump forward/backward in the current page
     * @param forward the direction of the jump
     */
    canJumpInCurrentPage(forward) {
        if (this.current) {
            return forward ? this.current !== this.children.last : this.current !== this.children.first;
        }
        else {
            return this.children.length > 0;
        }
    }
    /**
     * Life-cycle method
     * - subscribe to text jump clicks
     * - subscribe to original text selected match state
     */
    ngAfterContentInit() {
        const { contentMode$, viewMode$ } = this.reportService;
        const { jump$, originalText$, textMatchClick$ } = this.highlightService;
        originalText$.pipe(untilDestroy(this)).subscribe(value => (this.current = value));
        jump$
            .pipe(untilDestroy(this), withLatestFrom(viewMode$, contentMode$), filter(([, view, content]) => view === 'one-to-many' && content === 'text'))
            .subscribe(([forward]) => this.handleJump(forward));
        textMatchClick$
            .pipe(distinctUntilChanged(), untilDestroy(this), withLatestFrom(viewMode$, contentMode$), filter(([textMatchClickEvent, view, content]) => textMatchClickEvent && view === 'one-to-many' && content === 'text'))
            .subscribe(([textMatchClickEvent, ,]) => {
            this.lastSelectedOriginalTextMatch = textMatchClickEvent;
        });
        viewMode$
            .pipe(distinctUntilChanged(), untilDestroy(this), withLatestFrom(contentMode$), filter(([view, content]) => this.lastSelectedOriginalTextMatch && view === 'one-to-many' && content === 'text'))
            .subscribe(_ => {
            setTimeout(() => {
                const start = this.lastSelectedOriginalTextMatch?.elem?.match?.start;
                const end = this.lastSelectedOriginalTextMatch?.elem?.match?.end;
                const comp = this.children.find(item => item.match.start === start && item.match.end === end);
                if (comp === null) {
                    throw new Error('Match component was not found in view');
                }
                this.highlightService.textMatchClicked({ elem: comp, broadcast: false, origin: 'original' });
            }, 100);
        });
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
OriginalTextHelperDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OriginalTextHelperDirective, deps: [{ token: ReportService }, { token: HighlightService }], target: i0.ɵɵFactoryTarget.Directive });
OriginalTextHelperDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.3.3", type: OriginalTextHelperDirective, selector: "[crOriginalTextHelper]", inputs: { host: "host" }, queries: [{ propertyName: "children", predicate: MatchComponent }], ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OriginalTextHelperDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[crOriginalTextHelper]',
                }]
        }], ctorParameters: function () { return [{ type: ReportService }, { type: HighlightService }]; }, propDecorators: { host: [{
                type: Input
            }], children: [{
                type: ContentChildren,
                args: [MatchComponent]
            }] } });

class SourceTextHelperDirective {
    constructor(highlightService, reportService) {
        this.highlightService = highlightService;
        this.reportService = reportService;
    }
    /**
     * Life-cycle method
     * - subscribe to text match clicks from suspect
     * - subscribe to jump events
     * - subscribe to the source text selected match
     */
    ngAfterContentInit() {
        const { contentMode$, viewMode$, source$, suspectResult$: suspect$ } = this.reportService;
        const { textMatchClick$, jump$, sourceText$, suspectHtml$ } = this.highlightService;
        sourceText$.pipe(untilDestroy(this)).subscribe(value => (this.current = value));
        textMatchClick$
            .pipe(untilDestroy(this), filter(ev => ev.origin === 'suspect' && ev.broadcast), withLatestFrom(source$, suspect$, contentMode$), filter(([, , , content]) => content === 'text'))
            .subscribe(([{ elem }, source, suspect]) => {
            if (elem) {
                this.handleBroadcast(elem.match, source, suspect.result, 'text');
            }
        });
        jump$
            .pipe(untilDestroy(this), withLatestFrom(viewMode$, contentMode$), filter(([, view, content]) => view === 'one-to-one' && content === 'text'))
            .subscribe(([forward]) => this.handleJump(forward));
        suspectHtml$
            .pipe(withLatestFrom(source$, suspect$, contentMode$), filter(([, , , content]) => content === 'html'), filter(([, source]) => !source.html || !source.html.value))
            .subscribe(([match, source, suspect]) => this.handleBroadcast(match, source, suspect.result, 'html'));
    }
    /**
     * Handle a match click that was broadcasted by the suspect text helper
     * @param elem the broadcasted element
     * @param suspect the suspected scan result
     */
    handleBroadcast(match, source, suspect, contentMode) {
        const [, start] = findRespectiveMatch(match, suspect[contentMode].comparison, false);
        const page = findRespectivePage(start, source.text.pages.startPosition);
        if (page === this.host.currentPage) {
            const comp = this.children.find(item => item.match.start === start);
            if (comp === null) {
                throw new Error('Match component was not found in view');
            }
            this.highlightService.textMatchClicked({ elem: comp, broadcast: false, origin: 'source' });
        }
        else {
            this.children.changes.pipe(take(1)).subscribe(() => {
                const comp = this.children.find(item => item.match.start === start);
                if (comp === null) {
                    throw new Error('Match component was not found in view');
                }
                this.highlightService.textMatchClicked({ elem: comp, broadcast: false, origin: 'source' });
            });
            this.host.currentPage = page;
        }
    }
    /**
     * Handles the jump logic
     * @param forward the direction of the jump
     */
    handleJump(forward) {
        if (this.canJumpInCurrentPage(forward)) {
            const components = this.children.toArray();
            const nextIndex = this.current ? components.indexOf(this.current) + (forward ? 1 : -1) : 0;
            this.highlightService.textMatchClicked({ elem: components[nextIndex], broadcast: true, origin: 'source' });
        }
        else {
            const page = forward
                ? findNextPageWithMatch(this.host.textMatches, this.host.currentPage)
                : findPrevPageWithMatch(this.host.textMatches, this.host.currentPage);
            if (this.host.currentPage !== page) {
                this.highlightService.textMatchClicked({ elem: this.current, broadcast: true, origin: 'source' });
                this.children.changes.pipe(take(1)).subscribe(() => {
                    const comp = forward ? this.children.first : this.children.last;
                    this.highlightService.textMatchClicked({ elem: comp, broadcast: true, origin: 'source' });
                });
                this.host.currentPage = page;
            }
        }
    }
    /**
     * Checks whether it is possible to jump forward/backward in the current page
     * @param forward the direction of the jump
     */
    canJumpInCurrentPage(forward) {
        if (this.current) {
            return forward ? this.current !== this.children.last : this.current !== this.children.first;
        }
        else {
            return this.children.length > 0;
        }
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
SourceTextHelperDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SourceTextHelperDirective, deps: [{ token: HighlightService }, { token: ReportService }], target: i0.ɵɵFactoryTarget.Directive });
SourceTextHelperDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.3.3", type: SourceTextHelperDirective, selector: "[crSourceTextHelper]", inputs: { host: "host" }, queries: [{ propertyName: "children", predicate: MatchComponent }], ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SourceTextHelperDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[crSourceTextHelper]',
                }]
        }], ctorParameters: function () { return [{ type: HighlightService }, { type: ReportService }]; }, propDecorators: { host: [{
                type: Input
            }], children: [{
                type: ContentChildren,
                args: [MatchComponent]
            }] } });

class ClickStopPropagationDirective {
    /**
     * Click event handler that will stop any propagation
     * @param event  the default mouse event object
     */
    onClick(event) {
        event.stopPropagation();
    }
}
ClickStopPropagationDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ClickStopPropagationDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });
ClickStopPropagationDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.3.3", type: ClickStopPropagationDirective, selector: "[crClickStopPropagation]", host: { listeners: { "click": "onClick($event)" } }, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ClickStopPropagationDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[crClickStopPropagation]',
                }]
        }], propDecorators: { onClick: [{
                type: HostListener,
                args: ['click', ['$event']]
            }] } });

class OriginalComponent {
    constructor(reportService, layoutService, viewModeService, matchService, highlightService, translationService, announcer) {
        this.reportService = reportService;
        this.layoutService = layoutService;
        this.viewModeService = viewModeService;
        this.matchService = matchService;
        this.highlightService = highlightService;
        this.translationService = translationService;
        this.announcer = announcer;
        this.MatchType = MatchType;
        this.ExcludeReason = ExcludeReason;
        this.EXCLUDE_MESSAGE = EXCLUDE_MESSAGE;
        this.zoom = 1;
        this.direction = 'ltr';
        this.activeMediaQueries = [];
        this.currentPage = 1;
    }
    get pages() {
        return this.source && this.source.text.pages.startPosition;
    }
    get hasUrl() {
        return !!this.completeResult?.scannedDocument?.metadata?.finalUrl;
    }
    /**
     * get the current text matches while considering the current view mode
     */
    get textMatches() {
        return this.isOneToMany ? this.originalTextMatches : this.sourceTextMatches;
    }
    /**
     * get the current html matches while considering the current view mode
     */
    get htmlMatches() {
        return this.isOneToMany ? this.originalHtmlMatches : this.sourceHtmlMatches;
    }
    /**
     * `true` if the current view mode is `one-to-many` and `false` if `one-to-one`
     */
    get isOneToMany() {
        return this.viewMode === 'one-to-many';
    }
    /**
     * `true` if the current content mode is `html` and `false` if `text`
     */
    get isHtml() {
        return this.contentMode === 'html';
    }
    /**
     * `true` if the source document has an `html` section
     */
    get hasHtml() {
        return this.source && this.source.html && !!this.source.html.value;
    }
    /**
     * `true` if the view mode is alert
     */
    get AlertPreviewViewMode() {
        return (this.viewModeService?.reportViewMode$?.value === EReportViewModel.Alerts &&
            (this.viewModeService?.selectedAlert?.code === ALERTS.SUSPECTED_CHARACTER_REPLACEMENT_CODE ||
                this.viewModeService?.selectedAlert?.code === ALERTS.SUSPECTED_AI_TEXT_DETECTED));
    }
    /**
     * updates the font size of the suspect text.
     * @param amount a decimal number between 0.5 and 4
     */
    decreaseFontSize(amount = TEXT_FONT_SIZE_UNIT) {
        this.zoom = Math.max(this.zoom - amount, MIN_TEXT_ZOOM);
        this.announcer.announce('Font size decreased', 'assertive');
    }
    /**
     * updates the font size of the suspect text.
     * @param amount a decimal number between 0.5 and 4
     */
    increaseFontSize(amount = TEXT_FONT_SIZE_UNIT) {
        this.zoom = Math.min(this.zoom + amount, MAX_TEXT_ZOOM);
        this.announcer.announce('Font size increased', 'assertive');
    }
    /**
     * toggles between `text` and `html` content mode
     */
    toggleContent() {
        this.reportService.configure({ contentMode: this.isHtml ? 'text' : 'html' });
        this.announcer.announce('Mode changed', 'assertive');
    }
    /**
     * Jump to next match click handler.
     * @param next if `true` jump to next match, otherwise jumpt to previous match
     */
    onJumpToNextMatchClick(next = true) {
        this.highlightService.jump(next);
        this.announcer.announce('Moved', 'assertive');
    }
    /**
     * executes when a `MatPaginationComponent` emits the page event
     */
    onPage(event) {
        this.reportService.configure({ sourcePage: +event.currentPage });
        this.highlightService.clear();
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - report metadata and source document
     * - view mode and content mode changes
     * - matches from highlight service
     * - layout changes
     */
    ngOnInit() {
        this.translations = this.translationService.translations;
        if (this.translations && this.translations.SCAN_SETTINGS && this.translations.SCAN_SETTINGS.OMITTED) {
            this.EXCLUDE_MESSAGE = {
                1: this.translations.SCAN_SETTINGS.OMITTED.QUOTATIONS,
                2: this.translations.SCAN_SETTINGS.OMITTED.REFERENCES,
                5: this.translations.SCAN_SETTINGS.OMITTED.HTML_TEMPLATES,
                6: this.translations.SCAN_SETTINGS.OMITTED.TABLES_OF_CONTENT,
                7: this.translations.SCAN_SETTINGS.OMITTED.SOURCE_CODE_COMMENTS,
                0: this.translations.SCAN_SETTINGS.OMITTED.SENSITIVE_DATA,
                8: this.translations.SCAN_SETTINGS.OMITTED.PARTIAL_SCAN,
                9: this.translations.SCAN_SETTINGS.OMITTED.CITATIONS,
            };
        }
        const { completeResult$, source$, viewMode$, contentMode$, sourcePage$ } = this.reportService;
        const { originalTextMatches$, sourceTextMatches$, originalHtmlMatches$, sourceHtmlMatches$ } = this.matchService;
        completeResult$.pipe(untilDestroy(this)).subscribe(completeResult => (this.completeResult = completeResult));
        source$.pipe(untilDestroy(this)).subscribe(source => {
            this.source = source;
            sourcePage$.pipe(untilDestroy(this)).subscribe(page => (this.currentPage = +page));
        });
        viewMode$.pipe(untilDestroy(this)).subscribe(viewMode => (this.viewMode = viewMode));
        viewMode$.pipe(untilDestroy(this), distinctUntilChanged(), switchMapTo(source$)).subscribe(source => {
            if (!source.html || !source.html.value) {
                this.reportService.configure({ contentMode: 'text' });
            }
        });
        contentMode$.pipe(untilDestroy(this)).subscribe(content => (this.contentMode = content));
        originalTextMatches$.pipe(untilDestroy(this)).subscribe(matches => (this.originalTextMatches = matches));
        sourceTextMatches$.pipe(untilDestroy(this)).subscribe(matches => (this.sourceTextMatches = matches));
        originalHtmlMatches$.pipe(untilDestroy(this)).subscribe(matches => (this.originalHtmlMatches = matches));
        sourceHtmlMatches$.pipe(untilDestroy(this)).subscribe(matches => (this.sourceHtmlMatches = matches));
        this.layoutService.mediaAliases$.pipe(untilDestroy(this)).subscribe(queries => (this.activeMediaQueries = queries));
    }
    /**
     * this will open the origianl/source url in a new tab
     */
    openUrl() {
        if (this.hasUrl) {
            window.open(this.completeResult?.scannedDocument?.metadata?.finalUrl, '_blank');
        }
    }
    changeTextAlign(direction) {
        this.direction = direction;
        this.announcer.announce('Aligned', 'assertive');
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
OriginalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OriginalComponent, deps: [{ token: ReportService }, { token: LayoutMediaQueryService }, { token: ViewModeService }, { token: MatchService }, { token: HighlightService }, { token: CopyleaksTranslateService }, { token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
OriginalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: OriginalComponent, selector: "cr-original", queries: [{ propertyName: "matchItems", predicate: MatchComponent, descendants: true }], ngImport: i0, template: "<cr-panel fxFlex>\n\t<cr-panel-header>\n\t\t<label>{{ translations?.SUBMITTED_TEXT_SECTION?.TITLE || 'submitted text' }}</label>\n\t</cr-panel-header>\n\t<cr-panel-actions>\n\t\t<cr-panel-action fxHide.lt-md>\n\t\t\t<div id=\"cr-hint-go-to-next-match\"></div>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__next_match\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__prev_match\"></ng-container>\n\t\t</cr-panel-action>\n\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<!--  -->\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!AlertPreviewViewMode\">\n\t\t\t<div id=\"cr-hint-toggle-content\"></div>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_content\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"hasUrl\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<!--  -->\n\t\t<cr-panel-action fxHide.gt-sm *ngIf=\"activeMediaQueries.includes('lt-md')\">\n\t\t\t<button mat-button [matMenuTriggerFor]=\"appMenu\" aria-label=\"More Options\">\n\t\t\t\t<mat-icon svgIcon=\"more_vert\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\n\t<cr-panel-body fxLayout=\"column nowrap\">\n\t\t<div fxFlex fxLayout=\"column\" fxLayoutGap=\"1em\">\n\t\t\t<div card fxFlex class=\"mat-elevation-z3\" fxLayout=\"column\">\n\t\t\t\t<!-- skeleton placeholder -->\n\t\t\t\t<ng-container *ngTemplateOutlet=\"!source ? skeleton__body : null\"></ng-container>\n\n\t\t\t\t<!-- text for one-to-many -->\n\t\t\t\t<div\n\t\t\t\t\t[fxShow]=\"source && !(hasHtml && isHtml) && isOneToMany\"\n\t\t\t\t\tcrOriginalTextHelper\n\t\t\t\t\t[host]=\"this\"\n\t\t\t\t\ttext-container\n\t\t\t\t\t[ngStyle]=\"{ 'font-size': zoom + 'em' }\"\n\t\t\t\t\t[dir]=\"direction\">\n\t\t\t\t\t<ng-container *ngIf=\"textMatches; else clean\">\n\t\t\t\t\t\t<ng-container *ngFor=\"let partial of textMatches[currentPage - 1]\">\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type === MatchType.none\">{{ partial.content }}</span>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type !== MatchType.none && partial.match.type !== MatchType.excluded\"\n\t\t\t\t\t\t\t\t[cr-match]=\"partial.match\"\n\t\t\t\t\t\t\t\torigin=\"original\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason != 8\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason == 8\"\n\t\t\t\t\t\t\t\t[cr-exclude-partial-scan]=\"partial.match\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- text for one-to-one -->\n\t\t\t\t<div\n\t\t\t\t\t[fxShow]=\"source && !(hasHtml && isHtml) && !isOneToMany\"\n\t\t\t\t\tcrSourceTextHelper\n\t\t\t\t\t[host]=\"this\"\n\t\t\t\t\ttext-container\n\t\t\t\t\t[ngStyle]=\"{ 'font-size': zoom + 'em' }\"\n\t\t\t\t\t[dir]=\"direction\">\n\t\t\t\t\t<ng-container *ngIf=\"textMatches; else clean\">\n\t\t\t\t\t\t<ng-container *ngFor=\"let partial of textMatches[currentPage - 1]\">\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type === MatchType.none\">{{ partial.content }}</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type !== MatchType.none && partial.match.type !== MatchType.excluded\"\n\t\t\t\t\t\t\t\t[cr-match]=\"partial.match\"\n\t\t\t\t\t\t\t\torigin=\"source\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason != 8\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason == 8\"\n\t\t\t\t\t\t\t\t[cr-exclude-partial-scan]=\"partial.match\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- text without match highlighting -->\n\t\t\t\t<ng-template #clean>\n\t\t\t\t\t{{ source && (source.text.value | slice : pages[currentPage - 1] : pages[currentPage]) }}\n\t\t\t\t</ng-template>\n\n\t\t\t\t<!-- html for one-to-many -->\n\t\t\t\t<iframe\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\ttitle=\"Original Document\"\n\t\t\t\t\t[fxShow]=\"hasHtml && isHtml && isOneToMany\"\n\t\t\t\t\tcr-original-html-helper></iframe>\n\n\t\t\t\t<!-- html for one to one -->\n\t\t\t\t<iframe\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\ttitle=\"Source Document\"\n\t\t\t\t\t[fxShow]=\"hasHtml && isHtml && !isOneToMany\"\n\t\t\t\t\tcr-source-html-helper></iframe>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div content-footer fxLayout=\"row-reverse nowrap\" fxLayoutAlign=\"space-between center\">\n\t\t\t<cr-mat-pagination\n\t\t\t\t[currentPage]=\"currentPage\"\n\t\t\t\t*ngIf=\"!(hasHtml && isHtml) && pages?.length !== 1\"\n\t\t\t\tshowFirstLastButtons\n\t\t\t\t(page)=\"onPage($event)\"\n\t\t\t\t[totalPages]=\"pages?.length || 1\"></cr-mat-pagination>\n\n\t\t\t<cr-powered-by *ngIf=\"!isOneToMany\"></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n\n<!-- menu -->\n<mat-menu #appMenu>\n\t<div\n\t\ttitle=\"Open URL in a new tab\"\n\t\tmat-menu-item\n\t\t*ngIf=\"hasUrl\"\n\t\t(keyup.enter)=\"openUrl()\"\n\t\t(click)=\"openUrl()\"\n\t\tcrClickStopPropagation>\n\t\t<!-- <ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container> -->\n\t\t<mat-icon svgIcon=\"launch\"></mat-icon>\n\t\t{{ translations?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab' }}\n\t</div>\n\t<div\n\t\tmat-menu-item\n\t\ttitle=\"Next Match\"\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t(click)=\"onJumpToNextMatchClick()\"\n\t\t(keyup.enter)=\"onJumpToNextMatchClick()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__next_match\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Next Match' }}\n\t</div>\n\t<div\n\t\ttitle=\"Previous Match\"\n\t\tmat-menu-item\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t(click)=\"onJumpToNextMatchClick(false)\"\n\t\t(keyup.enter)=\"onJumpToNextMatchClick(false)\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__prev_match\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Previous Match' }}\n\t</div>\n\t<div\n\t\ttitle=\"Switch mode\"\n\t\tmat-menu-item\n\t\t[disabled]=\"!hasHtml\"\n\t\t(click)=\"toggleContent()\"\n\t\t(keyup.enter)=\"toggleContent()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_content\"></ng-container>\n\t\t{{\n\t\t\tisHtml\n\t\t\t\t? translations?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t: translations?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t}}\n\t</div>\n\t<div\n\t\ttitle=\"Align Left\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"changeTextAlign('ltr')\"\n\t\t(keyup.enter)=\"changeTextAlign('ltr')\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align Left' }}\n\t</div>\n\t<div\n\t\ttitle=\"Align Right\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"changeTextAlign('rtl')\"\n\t\t(keyup.enter)=\"changeTextAlign('rtl')\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align Right' }}\n\t</div>\n\t<div\n\t\ttitle=\"Increase Font Size\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"increaseFontSize()\"\n\t\t(keyup.enter)=\"increaseFontSize()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase Font Size' }}\n\t</div>\n\t<div\n\t\ttitle=\"Decrease Font Size\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"decreaseFontSize()\"\n\t\t(keyup.enter)=\"decreaseFontSize()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease Font Size' }}\n\t</div>\n</mat-menu>\n\n<ng-template #menu__launch_url>\n\t<button\n\t\taria-label=\"Open URL in a new tab.\"\n\t\ttitle=\"Open URL in a new tab\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab'\"\n\t\t(click)=\"openUrl()\"\n\t\tcrClickStopPropagation>\n\t\t<mat-icon svgIcon=\"launch\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__next_match>\n\t<button\n\t\taria-label=\"Go to next match.\"\n\t\ttitle=\"Go to next match\"\n\t\tmat-button\n\t\t(click)=\"onJumpToNextMatchClick()\"\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Go to next match'\">\n\t\t<mat-icon svgIcon=\"arrow_downward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__prev_match>\n\t<button\n\t\taria-label=\"Go to previous match.\"\n\t\ttitle=\"Go to previous match\"\n\t\tmat-button\n\t\t(click)=\"onJumpToNextMatchClick(false)\"\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Go to previous match'\">\n\t\t<mat-icon svgIcon=\"arrow_upward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__toggle_content>\n\t<button\n\t\taria-label=\"Switch report to text mode or rich text mode.\"\n\t\tmat-button\n\t\t*ngIf=\"!AlertPreviewViewMode\"\n\t\t[matTooltip]=\"\n\t\t\thasHtml\n\t\t\t\t? isHtml\n\t\t\t\t\t? translations?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t\t: translations?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t\t\t: 'No HTML version was found for this report'\n\t\t\"\n\t\t[disabled]=\"!hasHtml\"\n\t\t(click)=\"toggleContent()\">\n\t\t<ng-container *ngIf=\"hasHtml\">\n\t\t\t<mat-icon [svgIcon]=\"isHtml ? 'title' : 'insert_photo'\"></mat-icon>\n\t\t</ng-container>\n\t\t<ng-container *ngIf=\"!hasHtml\">\n\t\t\t<mat-icon>{{ isHtml ? 'title' : 'insert_photo' }}</mat-icon>\n\t\t</ng-container>\n\t</button>\n</ng-template>\n<ng-template #menu__align_left>\n\t<button\n\t\taria-label=\"Align content to left.\"\n\t\ttitle=\"Align left\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align left'\"\n\t\t(click)=\"changeTextAlign('ltr')\">\n\t\t<mat-icon svgIcon=\"format_align_left\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__align_right>\n\t<button\n\t\taria-label=\"Align content to right.\"\n\t\ttitle=\"Align right\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align right'\"\n\t\t(click)=\"changeTextAlign('rtl')\">\n\t\t<mat-icon svgIcon=\"format_align_right\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_inc>\n\t<button\n\t\taria-label=\"Increase font size.\"\n\t\ttitle=\"Increase font size\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase font size'\"\n\t\t(click)=\"increaseFontSize()\">\n\t\t<mat-icon svgIcon=\"zoom_in\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_dec>\n\t<button\n\t\taria-label=\"Decrease font size.\"\n\t\tmat-button\n\t\ttitle=\"Decrease font size\"\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease font size'\"\n\t\t(click)=\"decreaseFontSize()\">\n\t\t<mat-icon svgIcon=\"zoom_out\"></mat-icon>\n\t</button>\n</ng-template>\n\n<!-- skeletons -->\n\n<ng-template #skeleton__pagination>\n\t<div\n\t\tskeleton__pagination-wrapper\n\t\tfxLayout=\"row nowrap\"\n\t\tfxLayoutGap=\"0.5em\"\n\t\tfxLayoutAlign.lt-md=\"center stretch\"\n\t\tfxLayoutAlign=\"start stretch\">\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader fxFlex [theme]=\"{ width: '100%', minWidth: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n\n<ng-template #skeleton__body>\n\t<div\n\t\tfxFlex\n\t\tfxLayout=\"column\"\n\t\tfxLayoutAlign=\"start stretch\"\n\t\tfxLayoutGap=\"1em\"\n\t\tstyle=\"overflow: hidden; margin: 1em\"\n\t\tskeleton__body>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '100%' }\" *ngFor=\"let item of 20 | array\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{background-color:#fff}[text-container]{white-space:pre-line;word-break:break-word;padding:1em;line-height:normal}[text-container] i{opacity:.7}[text-container] span[class*=cr-m-]{cursor:pointer}[text-container] span[class*=cr-m-].cr-m-0{background-color:#ff796e}[text-container] span[class*=cr-m-].cr-m-0:hover{background-color:#ff9188}[text-container] span[class*=cr-m-].cr-m-1{background-color:#ff9a9a}[text-container] span[class*=cr-m-].cr-m-1:hover{background-color:#ffb4b4}[text-container] span[class*=cr-m-].cr-m-2{background-color:#ffd9b0}[text-container] span[class*=cr-m-].cr-m-2:hover{background-color:#ffe5ca}[text-container] span[class*=cr-m-].cr-m-100{background:#f0f0f0;color:red;text-decoration:underline;font-weight:bolder}[text-container] span[class*=cr-m-].cr-m-101{background:#c1addc;color:#0b163e;line-height:1.5}[text-container] span[class*=cr-m-].cr-highlight{background-color:gold}[text-container] span[class*=cr-m-].cr-highlight:hover{background-color:#ffdf33}cr-panel cr-panel-header{text-transform:uppercase}@media screen and (max-width: 599px){cr-panel cr-panel-header{font-size:1em}}cr-panel cr-powered-by{height:36px}@media screen and (max-width: 959px){cr-panel cr-powered-by{display:none}}cr-panel cr-panel-body{position:relative;max-width:100%}@media screen and (max-width: 599px){cr-panel cr-panel-body>div{padding:0}}cr-panel cr-panel-body [card]{overflow-y:auto}cr-panel cr-panel-body [spacer]{height:calc(1em + 30px)}cr-panel cr-panel-body iframe{width:100%;height:100%;border:none}cr-panel cr-panel-body iframe:not([hidden]){display:block}cr-panel cr-panel-body [content-footer]{margin-top:.5em}@media screen and (max-width: 599px){cr-panel cr-panel-body [content-footer]{margin-top:0}}[mat-menu-item] [mat-button]{pointer-events:none}[skeleton__body] ngx-skeleton-loader:nth-child(5n+1){flex:1;width:1}[skeleton__body] ngx-skeleton-loader:nth-child(5n+2){flex:1;width:.95}[skeleton__body] ngx-skeleton-loader:nth-child(5n+3){flex:1;width:.93}[skeleton__body] ngx-skeleton-loader:nth-child(5n+4){flex:1;width:.97}[skeleton__body] ngx-skeleton-loader:nth-child(5n+5){flex:1;width:.77}[mat-button]{min-width:36px;padding:0}[skeleton__pagination-wrapper]{width:100%;max-width:320px}#cr-hint-toggle-content{position:relative;top:-14px;left:-23px}#cr-hint-go-to-next-match{position:relative;right:-2px;top:-5px}.show-iframe{flex:1 1 100%;max-height:100%}.hide-iframe{flex:1 1 0%;height:0!important}\n"], components: [{ type: PanelComponent, selector: "cr-panel" }, { type: PanelHeaderComponent, selector: "cr-panel-header" }, { type: PanelActionsComponent, selector: "cr-panel-actions" }, { type: PanelActionComponent, selector: "cr-panel-action" }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: PanelBodyComponent, selector: "cr-panel-body" }, { type: MatchComponent, selector: "span[cr-match]", inputs: ["cr-match", "origin"] }, { type: ExcludePartialScanComponent, selector: "span[cr-exclude-partial-scan]", inputs: ["cr-exclude-partial-scan"] }, { type: OriginalHtmlHelperComponent, selector: "iframe[cr-original-html-helper]" }, { type: SourceHtmlHelperComponent, selector: "iframe[cr-source-html-helper]" }, { type: MatPaginationComponent, selector: "cr-mat-pagination", inputs: ["totalPages", "currentPage", "disabled", "showFirstLastButtons"], outputs: ["page", "currentPageChange"] }, { type: PoweredByComponent, selector: "cr-powered-by" }, { type: i17$1.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i17$1.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { type: i16.NgxSkeletonLoaderComponent, selector: "ngx-skeleton-loader", inputs: ["count", "appearance", "theme"] }], directives: [{ type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i20.DefaultShowHideDirective, selector: "  [fxShow], [fxShow.print],  [fxShow.xs], [fxShow.sm], [fxShow.md], [fxShow.lg], [fxShow.xl],  [fxShow.lt-sm], [fxShow.lt-md], [fxShow.lt-lg], [fxShow.lt-xl],  [fxShow.gt-xs], [fxShow.gt-sm], [fxShow.gt-md], [fxShow.gt-lg],  [fxHide], [fxHide.print],  [fxHide.xs], [fxHide.sm], [fxHide.md], [fxHide.lg], [fxHide.xl],  [fxHide.lt-sm], [fxHide.lt-md], [fxHide.lt-lg], [fxHide.lt-xl],  [fxHide.gt-xs], [fxHide.gt-sm], [fxHide.gt-md], [fxHide.gt-lg]", inputs: ["fxShow", "fxShow.print", "fxShow.xs", "fxShow.sm", "fxShow.md", "fxShow.lg", "fxShow.xl", "fxShow.lt-sm", "fxShow.lt-md", "fxShow.lt-lg", "fxShow.lt-xl", "fxShow.gt-xs", "fxShow.gt-sm", "fxShow.gt-md", "fxShow.gt-lg", "fxHide", "fxHide.print", "fxHide.xs", "fxHide.sm", "fxHide.md", "fxHide.lg", "fxHide.xl", "fxHide.lt-sm", "fxHide.lt-md", "fxHide.lt-lg", "fxHide.lt-xl", "fxHide.gt-xs", "fxHide.gt-sm", "fxHide.gt-md", "fxHide.gt-lg"] }, { type: i17.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i17$1.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: OriginalTextHelperDirective, selector: "[crOriginalTextHelper]", inputs: ["host"] }, { type: i17.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i20.DefaultStyleDirective, selector: "  [ngStyle],  [ngStyle.xs], [ngStyle.sm], [ngStyle.md], [ngStyle.lg], [ngStyle.xl],  [ngStyle.lt-sm], [ngStyle.lt-md], [ngStyle.lt-lg], [ngStyle.lt-xl],  [ngStyle.gt-xs], [ngStyle.gt-sm], [ngStyle.gt-md], [ngStyle.gt-lg]", inputs: ["ngStyle", "ngStyle.xs", "ngStyle.sm", "ngStyle.md", "ngStyle.lg", "ngStyle.xl", "ngStyle.lt-sm", "ngStyle.lt-md", "ngStyle.lt-lg", "ngStyle.lt-xl", "ngStyle.gt-xs", "ngStyle.gt-sm", "ngStyle.gt-md", "ngStyle.gt-lg"] }, { type: i6$2.Dir, selector: "[dir]", inputs: ["dir"], outputs: ["dirChange"], exportAs: ["dir"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: SourceTextHelperDirective, selector: "[crSourceTextHelper]", inputs: ["host"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: ClickStopPropagationDirective, selector: "[crClickStopPropagation]" }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }], pipes: { "slice": i17.SlicePipe, "array": ArrayPipe }, animations: [fadeIn] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: OriginalComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-original', animations: [fadeIn], template: "<cr-panel fxFlex>\n\t<cr-panel-header>\n\t\t<label>{{ translations?.SUBMITTED_TEXT_SECTION?.TITLE || 'submitted text' }}</label>\n\t</cr-panel-header>\n\t<cr-panel-actions>\n\t\t<cr-panel-action fxHide.lt-md>\n\t\t\t<div id=\"cr-hint-go-to-next-match\"></div>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__next_match\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__prev_match\"></ng-container>\n\t\t</cr-panel-action>\n\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<!--  -->\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!AlertPreviewViewMode\">\n\t\t\t<div id=\"cr-hint-toggle-content\"></div>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_content\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"hasUrl\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<!--  -->\n\t\t<cr-panel-action fxHide.gt-sm *ngIf=\"activeMediaQueries.includes('lt-md')\">\n\t\t\t<button mat-button [matMenuTriggerFor]=\"appMenu\" aria-label=\"More Options\">\n\t\t\t\t<mat-icon svgIcon=\"more_vert\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\n\t<cr-panel-body fxLayout=\"column nowrap\">\n\t\t<div fxFlex fxLayout=\"column\" fxLayoutGap=\"1em\">\n\t\t\t<div card fxFlex class=\"mat-elevation-z3\" fxLayout=\"column\">\n\t\t\t\t<!-- skeleton placeholder -->\n\t\t\t\t<ng-container *ngTemplateOutlet=\"!source ? skeleton__body : null\"></ng-container>\n\n\t\t\t\t<!-- text for one-to-many -->\n\t\t\t\t<div\n\t\t\t\t\t[fxShow]=\"source && !(hasHtml && isHtml) && isOneToMany\"\n\t\t\t\t\tcrOriginalTextHelper\n\t\t\t\t\t[host]=\"this\"\n\t\t\t\t\ttext-container\n\t\t\t\t\t[ngStyle]=\"{ 'font-size': zoom + 'em' }\"\n\t\t\t\t\t[dir]=\"direction\">\n\t\t\t\t\t<ng-container *ngIf=\"textMatches; else clean\">\n\t\t\t\t\t\t<ng-container *ngFor=\"let partial of textMatches[currentPage - 1]\">\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type === MatchType.none\">{{ partial.content }}</span>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type !== MatchType.none && partial.match.type !== MatchType.excluded\"\n\t\t\t\t\t\t\t\t[cr-match]=\"partial.match\"\n\t\t\t\t\t\t\t\torigin=\"original\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason != 8\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason == 8\"\n\t\t\t\t\t\t\t\t[cr-exclude-partial-scan]=\"partial.match\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- text for one-to-one -->\n\t\t\t\t<div\n\t\t\t\t\t[fxShow]=\"source && !(hasHtml && isHtml) && !isOneToMany\"\n\t\t\t\t\tcrSourceTextHelper\n\t\t\t\t\t[host]=\"this\"\n\t\t\t\t\ttext-container\n\t\t\t\t\t[ngStyle]=\"{ 'font-size': zoom + 'em' }\"\n\t\t\t\t\t[dir]=\"direction\">\n\t\t\t\t\t<ng-container *ngIf=\"textMatches; else clean\">\n\t\t\t\t\t\t<ng-container *ngFor=\"let partial of textMatches[currentPage - 1]\">\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type === MatchType.none\">{{ partial.content }}</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type !== MatchType.none && partial.match.type !== MatchType.excluded\"\n\t\t\t\t\t\t\t\t[cr-match]=\"partial.match\"\n\t\t\t\t\t\t\t\torigin=\"source\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason != 8\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t*ngIf=\"partial.match.type === MatchType.excluded && partial.match.reason == 8\"\n\t\t\t\t\t\t\t\t[cr-exclude-partial-scan]=\"partial.match\"\n\t\t\t\t\t\t\t\t[title]=\"EXCLUDE_MESSAGE[partial.match.reason]\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- text without match highlighting -->\n\t\t\t\t<ng-template #clean>\n\t\t\t\t\t{{ source && (source.text.value | slice : pages[currentPage - 1] : pages[currentPage]) }}\n\t\t\t\t</ng-template>\n\n\t\t\t\t<!-- html for one-to-many -->\n\t\t\t\t<iframe\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\ttitle=\"Original Document\"\n\t\t\t\t\t[fxShow]=\"hasHtml && isHtml && isOneToMany\"\n\t\t\t\t\tcr-original-html-helper></iframe>\n\n\t\t\t\t<!-- html for one to one -->\n\t\t\t\t<iframe\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\ttitle=\"Source Document\"\n\t\t\t\t\t[fxShow]=\"hasHtml && isHtml && !isOneToMany\"\n\t\t\t\t\tcr-source-html-helper></iframe>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div content-footer fxLayout=\"row-reverse nowrap\" fxLayoutAlign=\"space-between center\">\n\t\t\t<cr-mat-pagination\n\t\t\t\t[currentPage]=\"currentPage\"\n\t\t\t\t*ngIf=\"!(hasHtml && isHtml) && pages?.length !== 1\"\n\t\t\t\tshowFirstLastButtons\n\t\t\t\t(page)=\"onPage($event)\"\n\t\t\t\t[totalPages]=\"pages?.length || 1\"></cr-mat-pagination>\n\n\t\t\t<cr-powered-by *ngIf=\"!isOneToMany\"></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n\n<!-- menu -->\n<mat-menu #appMenu>\n\t<div\n\t\ttitle=\"Open URL in a new tab\"\n\t\tmat-menu-item\n\t\t*ngIf=\"hasUrl\"\n\t\t(keyup.enter)=\"openUrl()\"\n\t\t(click)=\"openUrl()\"\n\t\tcrClickStopPropagation>\n\t\t<!-- <ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container> -->\n\t\t<mat-icon svgIcon=\"launch\"></mat-icon>\n\t\t{{ translations?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab' }}\n\t</div>\n\t<div\n\t\tmat-menu-item\n\t\ttitle=\"Next Match\"\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t(click)=\"onJumpToNextMatchClick()\"\n\t\t(keyup.enter)=\"onJumpToNextMatchClick()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__next_match\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Next Match' }}\n\t</div>\n\t<div\n\t\ttitle=\"Previous Match\"\n\t\tmat-menu-item\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t(click)=\"onJumpToNextMatchClick(false)\"\n\t\t(keyup.enter)=\"onJumpToNextMatchClick(false)\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__prev_match\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Previous Match' }}\n\t</div>\n\t<div\n\t\ttitle=\"Switch mode\"\n\t\tmat-menu-item\n\t\t[disabled]=\"!hasHtml\"\n\t\t(click)=\"toggleContent()\"\n\t\t(keyup.enter)=\"toggleContent()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_content\"></ng-container>\n\t\t{{\n\t\t\tisHtml\n\t\t\t\t? translations?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t: translations?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t}}\n\t</div>\n\t<div\n\t\ttitle=\"Align Left\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"changeTextAlign('ltr')\"\n\t\t(keyup.enter)=\"changeTextAlign('ltr')\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align Left' }}\n\t</div>\n\t<div\n\t\ttitle=\"Align Right\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"changeTextAlign('rtl')\"\n\t\t(keyup.enter)=\"changeTextAlign('rtl')\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align Right' }}\n\t</div>\n\t<div\n\t\ttitle=\"Increase Font Size\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"increaseFontSize()\"\n\t\t(keyup.enter)=\"increaseFontSize()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase Font Size' }}\n\t</div>\n\t<div\n\t\ttitle=\"Decrease Font Size\"\n\t\tmat-menu-item\n\t\t*ngIf=\"!isHtml\"\n\t\t(click)=\"decreaseFontSize()\"\n\t\t(keyup.enter)=\"decreaseFontSize()\"\n\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t{{ translations?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease Font Size' }}\n\t</div>\n</mat-menu>\n\n<ng-template #menu__launch_url>\n\t<button\n\t\taria-label=\"Open URL in a new tab.\"\n\t\ttitle=\"Open URL in a new tab\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab'\"\n\t\t(click)=\"openUrl()\"\n\t\tcrClickStopPropagation>\n\t\t<mat-icon svgIcon=\"launch\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__next_match>\n\t<button\n\t\taria-label=\"Go to next match.\"\n\t\ttitle=\"Go to next match\"\n\t\tmat-button\n\t\t(click)=\"onJumpToNextMatchClick()\"\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Go to next match'\">\n\t\t<mat-icon svgIcon=\"arrow_downward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__prev_match>\n\t<button\n\t\taria-label=\"Go to previous match.\"\n\t\ttitle=\"Go to previous match\"\n\t\tmat-button\n\t\t(click)=\"onJumpToNextMatchClick(false)\"\n\t\t[disabled]=\"\n\t\t\t(isHtml && (!htmlMatches || htmlMatches?.length === 0)) || (!isHtml && (!textMatches || textMatches.length === 0))\n\t\t\"\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Go to previous match'\">\n\t\t<mat-icon svgIcon=\"arrow_upward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__toggle_content>\n\t<button\n\t\taria-label=\"Switch report to text mode or rich text mode.\"\n\t\tmat-button\n\t\t*ngIf=\"!AlertPreviewViewMode\"\n\t\t[matTooltip]=\"\n\t\t\thasHtml\n\t\t\t\t? isHtml\n\t\t\t\t\t? translations?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t\t: translations?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t\t\t: 'No HTML version was found for this report'\n\t\t\"\n\t\t[disabled]=\"!hasHtml\"\n\t\t(click)=\"toggleContent()\">\n\t\t<ng-container *ngIf=\"hasHtml\">\n\t\t\t<mat-icon [svgIcon]=\"isHtml ? 'title' : 'insert_photo'\"></mat-icon>\n\t\t</ng-container>\n\t\t<ng-container *ngIf=\"!hasHtml\">\n\t\t\t<mat-icon>{{ isHtml ? 'title' : 'insert_photo' }}</mat-icon>\n\t\t</ng-container>\n\t</button>\n</ng-template>\n<ng-template #menu__align_left>\n\t<button\n\t\taria-label=\"Align content to left.\"\n\t\ttitle=\"Align left\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align left'\"\n\t\t(click)=\"changeTextAlign('ltr')\">\n\t\t<mat-icon svgIcon=\"format_align_left\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__align_right>\n\t<button\n\t\taria-label=\"Align content to right.\"\n\t\ttitle=\"Align right\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align right'\"\n\t\t(click)=\"changeTextAlign('rtl')\">\n\t\t<mat-icon svgIcon=\"format_align_right\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_inc>\n\t<button\n\t\taria-label=\"Increase font size.\"\n\t\ttitle=\"Increase font size\"\n\t\tmat-button\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase font size'\"\n\t\t(click)=\"increaseFontSize()\">\n\t\t<mat-icon svgIcon=\"zoom_in\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_dec>\n\t<button\n\t\taria-label=\"Decrease font size.\"\n\t\tmat-button\n\t\ttitle=\"Decrease font size\"\n\t\t[matTooltip]=\"translations?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease font size'\"\n\t\t(click)=\"decreaseFontSize()\">\n\t\t<mat-icon svgIcon=\"zoom_out\"></mat-icon>\n\t</button>\n</ng-template>\n\n<!-- skeletons -->\n\n<ng-template #skeleton__pagination>\n\t<div\n\t\tskeleton__pagination-wrapper\n\t\tfxLayout=\"row nowrap\"\n\t\tfxLayoutGap=\"0.5em\"\n\t\tfxLayoutAlign.lt-md=\"center stretch\"\n\t\tfxLayoutAlign=\"start stretch\">\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader fxFlex [theme]=\"{ width: '100%', minWidth: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '2em', height: '2em' }\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n\n<ng-template #skeleton__body>\n\t<div\n\t\tfxFlex\n\t\tfxLayout=\"column\"\n\t\tfxLayoutAlign=\"start stretch\"\n\t\tfxLayoutGap=\"1em\"\n\t\tstyle=\"overflow: hidden; margin: 1em\"\n\t\tskeleton__body>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '100%' }\" *ngFor=\"let item of 20 | array\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{background-color:#fff}[text-container]{white-space:pre-line;word-break:break-word;padding:1em;line-height:normal}[text-container] i{opacity:.7}[text-container] span[class*=cr-m-]{cursor:pointer}[text-container] span[class*=cr-m-].cr-m-0{background-color:#ff796e}[text-container] span[class*=cr-m-].cr-m-0:hover{background-color:#ff9188}[text-container] span[class*=cr-m-].cr-m-1{background-color:#ff9a9a}[text-container] span[class*=cr-m-].cr-m-1:hover{background-color:#ffb4b4}[text-container] span[class*=cr-m-].cr-m-2{background-color:#ffd9b0}[text-container] span[class*=cr-m-].cr-m-2:hover{background-color:#ffe5ca}[text-container] span[class*=cr-m-].cr-m-100{background:#f0f0f0;color:red;text-decoration:underline;font-weight:bolder}[text-container] span[class*=cr-m-].cr-m-101{background:#c1addc;color:#0b163e;line-height:1.5}[text-container] span[class*=cr-m-].cr-highlight{background-color:gold}[text-container] span[class*=cr-m-].cr-highlight:hover{background-color:#ffdf33}cr-panel cr-panel-header{text-transform:uppercase}@media screen and (max-width: 599px){cr-panel cr-panel-header{font-size:1em}}cr-panel cr-powered-by{height:36px}@media screen and (max-width: 959px){cr-panel cr-powered-by{display:none}}cr-panel cr-panel-body{position:relative;max-width:100%}@media screen and (max-width: 599px){cr-panel cr-panel-body>div{padding:0}}cr-panel cr-panel-body [card]{overflow-y:auto}cr-panel cr-panel-body [spacer]{height:calc(1em + 30px)}cr-panel cr-panel-body iframe{width:100%;height:100%;border:none}cr-panel cr-panel-body iframe:not([hidden]){display:block}cr-panel cr-panel-body [content-footer]{margin-top:.5em}@media screen and (max-width: 599px){cr-panel cr-panel-body [content-footer]{margin-top:0}}[mat-menu-item] [mat-button]{pointer-events:none}[skeleton__body] ngx-skeleton-loader:nth-child(5n+1){flex:1;width:1}[skeleton__body] ngx-skeleton-loader:nth-child(5n+2){flex:1;width:.95}[skeleton__body] ngx-skeleton-loader:nth-child(5n+3){flex:1;width:.93}[skeleton__body] ngx-skeleton-loader:nth-child(5n+4){flex:1;width:.97}[skeleton__body] ngx-skeleton-loader:nth-child(5n+5){flex:1;width:.77}[mat-button]{min-width:36px;padding:0}[skeleton__pagination-wrapper]{width:100%;max-width:320px}#cr-hint-toggle-content{position:relative;top:-14px;left:-23px}#cr-hint-go-to-next-match{position:relative;right:-2px;top:-5px}.show-iframe{flex:1 1 100%;max-height:100%}.hide-iframe{flex:1 1 0%;height:0!important}\n"] }]
        }], ctorParameters: function () { return [{ type: ReportService }, { type: LayoutMediaQueryService }, { type: ViewModeService }, { type: MatchService }, { type: HighlightService }, { type: CopyleaksTranslateService }, { type: i4$2.LiveAnnouncer }]; }, propDecorators: { matchItems: [{
                type: ContentChildren,
                args: [MatchComponent, { descendants: true }]
            }] } });

class SuspectHtmlHelperComponent extends HtmlHelperBase {
    constructor(highlightService, matchService, renderer, element, reportService, translateService) {
        super(renderer, element, reportService, translateService);
        this.highlightService = highlightService;
        this.matchService = matchService;
        const js = renderer.createElement('script');
        js.textContent = iframeScript;
        this.script = js.outerHTML;
    }
    /**
     * Handle `match-select` event
     * @param event the event object
     */
    handleMatchSelect(event) {
        this.highlightService.setSuspectHtmlMatch(event.index !== -1 ? this.matches[event.index] : null);
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
    /**
     * Life-cycle method
     * subscribe to:
     * - suspect changes
     * - view mode changes
     * - source and suspect html matches
     */
    ngOnInit() {
        const { suspectResult$: suspect$, contentMode$ } = this.reportService;
        const { sourceHtml$, textMatchClick$ } = this.highlightService;
        const { suspectHtmlMatches$ } = this.matchService;
        suspect$
            .pipe(untilDestroy(this), truthy())
            .subscribe(suspect => suspect.result && suspect.result.html && (this.html = suspect.result.html.value));
        suspectHtmlMatches$.pipe(untilDestroy(this)).subscribe(matches => this.renderMatches(matches));
        // jump$
        // 	.pipe(
        // 		untilDestroy(this),
        // 		withLatestFrom(viewMode$, contentMode$),
        // 		filter(([, view, content]) => view === 'one-to-one' && content === 'html')
        // 	)
        // 	.subscribe(([forward]) => this.messageFrame({ type: 'match-jump', forward } as MatchJumpEvent));
        textMatchClick$
            .pipe(untilDestroy(this), filter(ev => ev.origin === 'source' && ev.broadcast), map(ev => ev.elem), withLatestFrom(suspect$, suspectHtmlMatches$, contentMode$), filter(([, , matches, content]) => content === 'html' && !!matches))
            .subscribe(([elem, suspect, matches]) => {
            if (elem && suspect && suspect.result) {
                const comparison = suspect.result.html.comparison[MatchType[elem.match.type]];
                const [start] = findRespectiveStart(elem.match.start, comparison, true);
                const found = matches.findIndex(m => m.start === start);
                this.markSingleMatchInFrame(found);
            }
            else {
                this.markSingleMatchInFrame(-1);
            }
        });
        sourceHtml$
            .pipe(withLatestFrom(suspect$, suspectHtmlMatches$, contentMode$), filter(([, , matches, content]) => content === 'html' && !!matches), filter(([, suspect]) => suspect && suspect.result && !!suspect.result.html.value))
            .subscribe(([match, suspect, matches]) => {
            if (match && suspect && suspect.result) {
                const comparison = suspect.result.html.comparison[MatchType[match.type]];
                const [start] = findRespectiveStart(match.start, comparison, true);
                const found = matches.findIndex(m => m.start === start);
                this.markSingleMatchInFrame(found);
            }
            else {
                this.markSingleMatchInFrame(-1);
            }
        });
    }
}
SuspectHtmlHelperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SuspectHtmlHelperComponent, deps: [{ token: HighlightService }, { token: MatchService }, { token: i0.Renderer2 }, { token: i0.ElementRef }, { token: ReportService }, { token: CopyleaksTranslateService }], target: i0.ɵɵFactoryTarget.Component });
SuspectHtmlHelperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: SuspectHtmlHelperComponent, selector: "iframe[cr-suspect-html-helper]", usesInheritance: true, ngImport: i0, template: '', isInline: true, styles: ["#sidebar.opened+#page-container{left:0px!important}#page-container .c{pointer-events:none!important}#page-container .t{pointer-events:all!important}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type=\"0\"]{background-color:#f66}span[match][data-type=\"0\"].hover{background-color:#ff8080}span[match][data-type=\"1\"]{background-color:#ff9a9a}span[match][data-type=\"1\"].hover{background-color:#ffb4b4}span[match][data-type=\"2\"]{background-color:#ffd9b0}span[match][data-type=\"2\"].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SuspectHtmlHelperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'iframe[cr-suspect-html-helper]', template: '', styles: ["#sidebar.opened+#page-container{left:0px!important}#page-container .c{pointer-events:none!important}#page-container .t{pointer-events:all!important}span[exclude]{font-style:italic;opacity:.75}span[exclude-partial-scan]{filter:blur(6px);cursor:pointer}span[match]{cursor:pointer;color:#000}span[match] a:link{pointer-events:none}span[ignored]{font-style:italic}span[match][data-type=\"0\"]{background-color:#f66}span[match][data-type=\"0\"].hover{background-color:#ff8080}span[match][data-type=\"1\"]{background-color:#ff9a9a}span[match][data-type=\"1\"].hover{background-color:#ffb4b4}span[match][data-type=\"2\"]{background-color:#ffd9b0}span[match][data-type=\"2\"].hover{background-color:#ffe5ca}span[match][on]{background-color:gold!important}\n"] }]
        }], ctorParameters: function () { return [{ type: HighlightService }, { type: MatchService }, { type: i0.Renderer2 }, { type: i0.ElementRef }, { type: ReportService }, { type: CopyleaksTranslateService }]; } });

class SuspectTextHelperDirective {
    constructor(highlightService, reportService) {
        this.highlightService = highlightService;
        this.reportService = reportService;
    }
    /**
     * Handle a match click that was broadcasted by the source text helper
     * @param elem the broadcasted element
     * @param suspect the suspected scan result
     * @param contentMode content mode of the broadcasting match
     */
    handleBroadcast(match, suspect, contentMode) {
        const [, start] = findRespectiveMatch(match, suspect[contentMode].comparison, true);
        const page = findRespectivePage(start, suspect.text.pages.startPosition);
        if (page === this.host.currentPage) {
            const comp = this.children.find(item => item.match.start === start);
            if (comp === null) {
                throw new Error('Match component was not found in view');
            }
            this.highlightService.textMatchClicked({ elem: comp, broadcast: false, origin: 'suspect' });
        }
        else {
            this.children.changes.pipe(take(1)).subscribe(() => {
                const comp = this.children.find(item => item.match.start === start);
                if (comp === null) {
                    throw new Error('Match component was not found in view');
                }
                this.highlightService.textMatchClicked({ elem: comp, broadcast: false, origin: 'suspect' });
            });
            this.host.currentPage = page;
        }
    }
    /**
     * Life-cycle method
     * - listen to text match clicks from `source`
     */
    ngAfterContentInit() {
        const { suspectResult$: suspect$, contentMode$ } = this.reportService;
        const { textMatchClick$, sourceHtml$ } = this.highlightService;
        textMatchClick$
            .pipe(untilDestroy(this), filter(ev => ev.origin === 'source' && ev.broadcast), withLatestFrom(suspect$))
            .subscribe(([{ elem }, suspect]) => {
            if (elem) {
                this.handleBroadcast(elem.match, suspect.result, 'text');
            }
        });
        sourceHtml$
            .pipe(withLatestFrom(suspect$, contentMode$), filter(([, , content]) => content === 'html'), filter(([, suspect]) => suspect && suspect.result && !suspect.result.html.value))
            .subscribe(([match, suspect]) => this.handleBroadcast(match, suspect.result, 'html'));
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
SuspectTextHelperDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SuspectTextHelperDirective, deps: [{ token: HighlightService }, { token: ReportService }], target: i0.ɵɵFactoryTarget.Directive });
SuspectTextHelperDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.3.3", type: SuspectTextHelperDirective, selector: "[crSuspectTextHelper]", inputs: { host: "host" }, queries: [{ propertyName: "children", predicate: MatchComponent }], ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SuspectTextHelperDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[crSuspectTextHelper]',
                }]
        }], ctorParameters: function () { return [{ type: HighlightService }, { type: ReportService }]; }, propDecorators: { host: [{
                type: Input
            }], children: [{
                type: ContentChildren,
                args: [MatchComponent]
            }] } });

class SuspectComponent {
    constructor(reportService, layoutService, matchService, translatesService, highlightService) {
        this.reportService = reportService;
        this.layoutService = layoutService;
        this.matchService = matchService;
        this.translatesService = translatesService;
        this.highlightService = highlightService;
        this.MatchType = MatchType;
        this.isMobile = false;
        this.zoom = 1;
        this.direction = 'ltr';
        this.currentPage = 1;
        this.disableBackButton = true;
    }
    get hasHtml() {
        return this.suspect && this.suspect.html && !!this.suspect.html.value;
    }
    get isHtml() {
        return this.contentMode === 'html';
    }
    get hasUrl() {
        return !!this.preview?.url || !!this.preview?.metadata?.finalUrl;
    }
    get pages() {
        return this.suspect.text.pages.startPosition;
    }
    /**
     * toggles between `text` and `html` content mode
     */
    toggleContent() {
        this.reportService.configure({ contentMode: this.isHtml ? 'text' : 'html' });
    }
    /**
     * exits one-to-one mode and goes to one-to-many mode
     */
    goBack() {
        this.highlightService.jump(null);
        setTimeout(() => {
            this.reportService.configure({ viewMode: 'one-to-many', suspectId: null });
        });
    }
    /**
     * updates the font size of the suspect text.
     * @param amount a decimal number
     */
    decreaseFontSize(amount = TEXT_FONT_SIZE_UNIT) {
        this.zoom = Math.max(this.zoom - amount, MIN_TEXT_ZOOM);
    }
    /**
     * updates the font size of the suspect text.
     * @param amount a decimal number
     */
    increaseFontSize(amount = TEXT_FONT_SIZE_UNIT) {
        this.zoom = Math.min(this.zoom + amount, MAX_TEXT_ZOOM);
    }
    /**
     * Handle a page event from `cr-mat-paginator` component
     * Pass the `PageChangeEvent` to `ReportService`
     * @param event the page event containing page data
     */
    onPage(event) {
        this.reportService.configure({ suspectPage: +event.currentPage });
    }
    /**
     * life-cycle method
     * Subscribe to:
     * - suspect changes
     * - content mode changes
     * - matches changes
     * - mobile layout changes
     */
    ngOnInit() {
        this.translates = this.translatesService.translations;
        const { suspectPreview$, suspectResult$: suspect$, contentMode$, suspectPage$, onlyOneToOne$ } = this.reportService;
        suspect$.pipe(untilDestroy(this), truthy()).subscribe(item => {
            this.suspect = item.result;
            suspectPage$.pipe(untilDestroy(this)).subscribe(page => (this.currentPage = +page));
            suspectPreview$.pipe(untilDestroy(this), truthy(), take(1)).subscribe(preview => {
                this.preview = preview;
                this.setupMatches();
            });
        });
        combineLatest([contentMode$, suspect$])
            .pipe(untilDestroy(this))
            .subscribe(([mode, suspect]) => (this.contentMode =
            mode === 'html' && suspect && suspect.result && suspect.result.html.value ? 'html' : 'text'));
        onlyOneToOne$.pipe(untilDestroy(this)).subscribe(disable => (this.disableBackButton = disable));
        this.layoutService.isMobile$.pipe(untilDestroy(this)).subscribe(value => (this.isMobile = value));
        this.matchService.suspectTextMatches$.pipe(untilDestroy(this)).subscribe(matches => (this.textMatches = matches));
    }
    /**
     * this will open the suspect preview url in a new tab
     */
    openUrl() {
        if (this.hasUrl) {
            const url = this.preview?.url || this.preview?.metadata?.finalUrl;
            window.open(url, '_blank');
        }
    }
    /**
     * Setup suspect and source Matches
     */
    setupMatches() {
        // this.highlightService.setSuspectHtmlMatch(null);
        // this.highlightService.setSuspectTextMatch(null);
    }
    /**
     * life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
SuspectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SuspectComponent, deps: [{ token: ReportService }, { token: LayoutMediaQueryService }, { token: MatchService }, { token: CopyleaksTranslateService }, { token: HighlightService }], target: i0.ɵɵFactoryTarget.Component });
SuspectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: SuspectComponent, selector: "cr-suspect", ngImport: i0, template: "<cr-panel fxFlex>\n\t<cr-panel-header>\n\t\t<label [matTooltip]=\"preview?.title\" class=\"suspect-title\">\n\t\t\t{{ preview?.title || translates?.SUSPECT_SECTION?.TITLE || 'Suspect' }}\n\t\t</label>\n\t</cr-panel-header>\n\n\t<cr-panel-actions>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_html\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"hasUrl\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.gt-sm *ngIf=\"isMobile\">\n\t\t\t<button mat-button [matMenuTriggerFor]=\"appMenu\" aria-label=\"More Options\">\n\t\t\t\t<mat-icon svgIcon=\"more_vert\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action *ngIf=\"!disableBackButton\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__show_results\"></ng-container>\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\n\t<cr-panel-body fxLayout=\"column nowrap\">\n\t\t<div fxFlex fxLayout=\"column\" fxLayoutGap=\"1em\">\n\t\t\t<div card fxFlex class=\"mat-elevation-z3\" fxLayout=\"column\">\n\t\t\t\t<!-- skeleton placeholder -->\n\t\t\t\t<ng-container *ngTemplateOutlet=\"!suspect ? skeleton__body : null\"></ng-container>\n\t\t\t\t<!-- text for one-to-one -->\n\t\t\t\t<div\n\t\t\t\t\t[fxShow]=\"suspect && !(hasHtml && isHtml)\"\n\t\t\t\t\tcrSuspectTextHelper\n\t\t\t\t\t[host]=\"this\"\n\t\t\t\t\ttext-container\n\t\t\t\t\t[ngStyle]=\"{ 'font-size': zoom + 'em' }\"\n\t\t\t\t\t[dir]=\"direction\">\n\t\t\t\t\t<ng-container *ngIf=\"textMatches; else clean\">\n\t\t\t\t\t\t<ng-container *ngFor=\"let partial of textMatches[currentPage - 1]\">\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type === MatchType.none\">{{ partial.content }}</span>\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type !== MatchType.none\" [cr-match]=\"partial.match\" origin=\"suspect\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</div>\n\t\t\t\t<!-- text without match highlighting -->\n\t\t\t\t<ng-template #clean>\n\t\t\t\t\t{{ suspect && (suspect.text.value | slice : pages[currentPage - 1] : pages[currentPage]) }}\n\t\t\t\t</ng-template>\n\n\t\t\t\t<iframe\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\ttitle=\"Document\"\n\t\t\t\t\tfxFlex\n\t\t\t\t\t[fxShow]=\"hasHtml && isHtml\"\n\t\t\t\t\tcr-suspect-html-helper></iframe>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div content-footer fxLayoutAlign=\"space-between center\" fxLayout=\"row-reverse nowrap\">\n\t\t\t<ng-container *ngIf=\"suspect; else skeleton__pagination\">\n\t\t\t\t<cr-mat-pagination\n\t\t\t\t\t[hidden]=\"(hasHtml && isHtml) || pages?.length === 1\"\n\t\t\t\t\tshowFirstLastButtons\n\t\t\t\t\t[currentPage]=\"currentPage\"\n\t\t\t\t\t(page)=\"onPage($event)\"\n\t\t\t\t\t[totalPages]=\"pages.length\"></cr-mat-pagination>\n\t\t\t</ng-container>\n\t\t\t<cr-powered-by></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n\n<ng-template #skeleton__pagination>\n\t<div fxLayout=\"row nowrap\" fxLayoutGap=\"0.5em\" fxLayoutAlign=\"start stretch\">\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '200px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n\n<!-- menu -->\n\n<!-- menu -->\n<mat-menu #appMenu>\n\t<!-- <button mat-menu-item\n\t\t\t\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__next_match\"></ng-container>\n\t\t{{translates?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Next Match'}}\n\t</button>\n\t<button mat-menu-item\n\t\t\t\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__prev_match\"></ng-container>\n\t\t{{translates?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Previous Match'}}\n\t</button> -->\n\t<button mat-menu-item *ngIf=\"hasUrl\" (click)=\"openUrl()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab' }}\n\t</button>\n\t<button mat-menu-item (click)=\"toggleContent()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_html\"></ng-container>\n\t\t{{\n\t\t\tisHtml\n\t\t\t\t? translates?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t: translates?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t}}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align Left' }}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align Right' }}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" (click)=\"increaseFontSize()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase Font Size' }}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" (click)=\"decreaseFontSize()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease Font Size' }}\n\t</button>\n</mat-menu>\n<ng-template #menu__next_match>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Go to next match'\"\n\t\taria-label=\"Go to next match.\">\n\t\t<mat-icon svgIcon=\"arrow_downward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__prev_match>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Go to previous match'\"\n\t\taria-label=\"Go to previous match.\">\n\t\t<mat-icon svgIcon=\"arrow_upward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__toggle_html>\n\t<button\n\t\trole=\"button\"\n\t\tmat-button\n\t\t[matTooltip]=\"\n\t\t\thasHtml\n\t\t\t\t? isHtml\n\t\t\t\t\t? translates?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t\t: translates?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t\t\t: 'No HTML version was found for this report'\n\t\t\"\n\t\t[disabled]=\"!hasHtml\"\n\t\t(click)=\"toggleContent()\"\n\t\taria-label=\"Switch report to text mode or rich text mode.\">\n\t\t<ng-container *ngIf=\"hasHtml\">\n\t\t\t<mat-icon [svgIcon]=\"isHtml ? 'title' : 'insert_photo'\"></mat-icon>\n\t\t</ng-container>\n\t\t<ng-container *ngIf=\"!hasHtml\">\n\t\t\t<mat-icon>{{ isHtml ? 'title' : 'insert_photo' }}</mat-icon>\n\t\t</ng-container>\n\t</button>\n</ng-template>\n<ng-template #menu__align_left>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align left'\"\n\t\t(click)=\"direction = 'ltr'\"\n\t\taria-label=\"Align content to left.\">\n\t\t<mat-icon svgIcon=\"format_align_left\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__launch_url>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab'\"\n\t\t(click)=\"openUrl()\"\n\t\taria-label=\"Opens the result source link in a new tab.\">\n\t\t<mat-icon svgIcon=\"launch\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__align_right>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align right'\"\n\t\t(click)=\"direction = 'rtl'\"\n\t\taria-label=\"Align content to right.\">\n\t\t<mat-icon svgIcon=\"format_align_right\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_inc>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase font size'\"\n\t\t(click)=\"increaseFontSize()\"\n\t\taria-label=\"Increase font size.\">\n\t\t<mat-icon svgIcon=\"zoom_in\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_dec>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease font size'\"\n\t\t(click)=\"decreaseFontSize()\"\n\t\taria-label=\"Decrease font size.\">\n\t\t<mat-icon svgIcon=\"zoom_out\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__show_results>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.CLOSE || 'Close'\"\n\t\t(click)=\"goBack()\"\n\t\taria-label=\"Go back to all results view.\">\n\t\t<mat-icon svgIcon=\"close\"></mat-icon>\n\t</button>\n</ng-template>\n\n<!-- skeletons -->\n<ng-template #skeleton__body>\n\t<div\n\t\tfxFlex\n\t\tfxLayout=\"column\"\n\t\tfxLayoutAlign=\"start stretch\"\n\t\tfxLayoutGap=\"1em\"\n\t\tstyle=\"overflow: hidden; margin: 1em\"\n\t\tskeleton__body>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '100%' }\" *ngFor=\"let item of 20 | array; index as i\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{background-color:#fff}.suspect-title{overflow:hidden;text-overflow:ellipsis;text-transform:none}[text-container]{white-space:pre-line;padding:1em;word-break:break-word;line-height:normal}[text-container] span[class*=cr-m-]{cursor:pointer}[text-container] span[class*=cr-m-].cr-m-0{background-color:#ff796e}[text-container] span[class*=cr-m-].cr-m-0:hover{background-color:#ff9188}[text-container] span[class*=cr-m-].cr-m-1{background-color:#ff9a9a}[text-container] span[class*=cr-m-].cr-m-1:hover{background-color:#ffb4b4}[text-container] span[class*=cr-m-].cr-m-2{background-color:#ffd9b0}[text-container] span[class*=cr-m-].cr-m-2:hover{background-color:#ffe5ca}[text-container] span[class*=cr-m-].cr-highlight{background-color:gold}[text-container] span[class*=cr-m-].cr-highlight:hover{background-color:#ffdf33}@media screen and (min-width: 600px){cr-powered-by{display:none}}cr-panel cr-panel-header{text-transform:uppercase}cr-panel cr-panel-body{position:relative;max-width:100%}cr-panel cr-panel-body [card]{overflow-y:auto}cr-panel cr-panel-body iframe{width:100%;height:100%;border:none}cr-panel cr-panel-body iframe:not([hidden]){display:block}cr-panel cr-panel-body [content-footer]{height:36px;margin-top:.5em}@media screen and (max-width: 599px){cr-panel cr-panel-body [content-footer]{margin-top:0}}[mat-button]{min-width:36px;padding:0}[skeleton__body] ngx-skeleton-loader:nth-child(5n+1){flex:1;width:.87}[skeleton__body] ngx-skeleton-loader:nth-child(5n+2){flex:1;width:.76}[skeleton__body] ngx-skeleton-loader:nth-child(5n+3){flex:1;width:.88}[skeleton__body] ngx-skeleton-loader:nth-child(5n+4){flex:1;width:.87}[skeleton__body] ngx-skeleton-loader:nth-child(5n+5){flex:1;width:1}\n"], components: [{ type: PanelComponent, selector: "cr-panel" }, { type: PanelHeaderComponent, selector: "cr-panel-header" }, { type: PanelActionsComponent, selector: "cr-panel-actions" }, { type: PanelActionComponent, selector: "cr-panel-action" }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: PanelBodyComponent, selector: "cr-panel-body" }, { type: MatchComponent, selector: "span[cr-match]", inputs: ["cr-match", "origin"] }, { type: SuspectHtmlHelperComponent, selector: "iframe[cr-suspect-html-helper]" }, { type: MatPaginationComponent, selector: "cr-mat-pagination", inputs: ["totalPages", "currentPage", "disabled", "showFirstLastButtons"], outputs: ["page", "currentPageChange"] }, { type: PoweredByComponent, selector: "cr-powered-by" }, { type: i16.NgxSkeletonLoaderComponent, selector: "ngx-skeleton-loader", inputs: ["count", "appearance", "theme"] }, { type: i17$1.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i17$1.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }], directives: [{ type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i20.DefaultShowHideDirective, selector: "  [fxShow], [fxShow.print],  [fxShow.xs], [fxShow.sm], [fxShow.md], [fxShow.lg], [fxShow.xl],  [fxShow.lt-sm], [fxShow.lt-md], [fxShow.lt-lg], [fxShow.lt-xl],  [fxShow.gt-xs], [fxShow.gt-sm], [fxShow.gt-md], [fxShow.gt-lg],  [fxHide], [fxHide.print],  [fxHide.xs], [fxHide.sm], [fxHide.md], [fxHide.lg], [fxHide.xl],  [fxHide.lt-sm], [fxHide.lt-md], [fxHide.lt-lg], [fxHide.lt-xl],  [fxHide.gt-xs], [fxHide.gt-sm], [fxHide.gt-md], [fxHide.gt-lg]", inputs: ["fxShow", "fxShow.print", "fxShow.xs", "fxShow.sm", "fxShow.md", "fxShow.lg", "fxShow.xl", "fxShow.lt-sm", "fxShow.lt-md", "fxShow.lt-lg", "fxShow.lt-xl", "fxShow.gt-xs", "fxShow.gt-sm", "fxShow.gt-md", "fxShow.gt-lg", "fxHide", "fxHide.print", "fxHide.xs", "fxHide.sm", "fxHide.md", "fxHide.lg", "fxHide.xl", "fxHide.lt-sm", "fxHide.lt-md", "fxHide.lt-lg", "fxHide.lt-xl", "fxHide.gt-xs", "fxHide.gt-sm", "fxHide.gt-md", "fxHide.gt-lg"] }, { type: i17.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i17$1.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: SuspectTextHelperDirective, selector: "[crSuspectTextHelper]", inputs: ["host"] }, { type: i17.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i20.DefaultStyleDirective, selector: "  [ngStyle],  [ngStyle.xs], [ngStyle.sm], [ngStyle.md], [ngStyle.lg], [ngStyle.xl],  [ngStyle.lt-sm], [ngStyle.lt-md], [ngStyle.lt-lg], [ngStyle.lt-xl],  [ngStyle.gt-xs], [ngStyle.gt-sm], [ngStyle.gt-md], [ngStyle.gt-lg]", inputs: ["ngStyle", "ngStyle.xs", "ngStyle.sm", "ngStyle.md", "ngStyle.lg", "ngStyle.xl", "ngStyle.lt-sm", "ngStyle.lt-md", "ngStyle.lt-lg", "ngStyle.lt-xl", "ngStyle.gt-xs", "ngStyle.gt-sm", "ngStyle.gt-md", "ngStyle.gt-lg"] }, { type: i6$2.Dir, selector: "[dir]", inputs: ["dir"], outputs: ["dirChange"], exportAs: ["dir"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: ClickStopPropagationDirective, selector: "[crClickStopPropagation]" }], pipes: { "slice": i17.SlicePipe, "array": ArrayPipe }, animations: [fadeIn] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SuspectComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-suspect', animations: [fadeIn], template: "<cr-panel fxFlex>\n\t<cr-panel-header>\n\t\t<label [matTooltip]=\"preview?.title\" class=\"suspect-title\">\n\t\t\t{{ preview?.title || translates?.SUSPECT_SECTION?.TITLE || 'Suspect' }}\n\t\t</label>\n\t</cr-panel-header>\n\n\t<cr-panel-actions>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"!isHtml\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md>\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_html\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.lt-md *ngIf=\"hasUrl\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action fxHide.gt-sm *ngIf=\"isMobile\">\n\t\t\t<button mat-button [matMenuTriggerFor]=\"appMenu\" aria-label=\"More Options\">\n\t\t\t\t<mat-icon svgIcon=\"more_vert\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action *ngIf=\"!disableBackButton\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__show_results\"></ng-container>\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\n\t<cr-panel-body fxLayout=\"column nowrap\">\n\t\t<div fxFlex fxLayout=\"column\" fxLayoutGap=\"1em\">\n\t\t\t<div card fxFlex class=\"mat-elevation-z3\" fxLayout=\"column\">\n\t\t\t\t<!-- skeleton placeholder -->\n\t\t\t\t<ng-container *ngTemplateOutlet=\"!suspect ? skeleton__body : null\"></ng-container>\n\t\t\t\t<!-- text for one-to-one -->\n\t\t\t\t<div\n\t\t\t\t\t[fxShow]=\"suspect && !(hasHtml && isHtml)\"\n\t\t\t\t\tcrSuspectTextHelper\n\t\t\t\t\t[host]=\"this\"\n\t\t\t\t\ttext-container\n\t\t\t\t\t[ngStyle]=\"{ 'font-size': zoom + 'em' }\"\n\t\t\t\t\t[dir]=\"direction\">\n\t\t\t\t\t<ng-container *ngIf=\"textMatches; else clean\">\n\t\t\t\t\t\t<ng-container *ngFor=\"let partial of textMatches[currentPage - 1]\">\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type === MatchType.none\">{{ partial.content }}</span>\n\t\t\t\t\t\t\t<span *ngIf=\"partial.match.type !== MatchType.none\" [cr-match]=\"partial.match\" origin=\"suspect\">\n\t\t\t\t\t\t\t\t{{ partial.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</div>\n\t\t\t\t<!-- text without match highlighting -->\n\t\t\t\t<ng-template #clean>\n\t\t\t\t\t{{ suspect && (suspect.text.value | slice : pages[currentPage - 1] : pages[currentPage]) }}\n\t\t\t\t</ng-template>\n\n\t\t\t\t<iframe\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\ttitle=\"Document\"\n\t\t\t\t\tfxFlex\n\t\t\t\t\t[fxShow]=\"hasHtml && isHtml\"\n\t\t\t\t\tcr-suspect-html-helper></iframe>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div content-footer fxLayoutAlign=\"space-between center\" fxLayout=\"row-reverse nowrap\">\n\t\t\t<ng-container *ngIf=\"suspect; else skeleton__pagination\">\n\t\t\t\t<cr-mat-pagination\n\t\t\t\t\t[hidden]=\"(hasHtml && isHtml) || pages?.length === 1\"\n\t\t\t\t\tshowFirstLastButtons\n\t\t\t\t\t[currentPage]=\"currentPage\"\n\t\t\t\t\t(page)=\"onPage($event)\"\n\t\t\t\t\t[totalPages]=\"pages.length\"></cr-mat-pagination>\n\t\t\t</ng-container>\n\t\t\t<cr-powered-by></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n\n<ng-template #skeleton__pagination>\n\t<div fxLayout=\"row nowrap\" fxLayoutGap=\"0.5em\" fxLayoutAlign=\"start stretch\">\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '200px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader [theme]=\"{ width: '36px', height: '36px' }\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n\n<!-- menu -->\n\n<!-- menu -->\n<mat-menu #appMenu>\n\t<!-- <button mat-menu-item\n\t\t\t\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__next_match\"></ng-container>\n\t\t{{translates?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Next Match'}}\n\t</button>\n\t<button mat-menu-item\n\t\t\t\t\tcrClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__prev_match\"></ng-container>\n\t\t{{translates?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Previous Match'}}\n\t</button> -->\n\t<button mat-menu-item *ngIf=\"hasUrl\" (click)=\"openUrl()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__launch_url\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab' }}\n\t</button>\n\t<button mat-menu-item (click)=\"toggleContent()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__toggle_html\"></ng-container>\n\t\t{{\n\t\t\tisHtml\n\t\t\t\t? translates?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t: translates?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t}}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_left\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align Left' }}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__align_right\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align Right' }}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" (click)=\"increaseFontSize()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_inc\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase Font Size' }}\n\t</button>\n\t<button mat-menu-item *ngIf=\"!isHtml\" (click)=\"decreaseFontSize()\" crClickStopPropagation>\n\t\t<ng-container *ngTemplateOutlet=\"menu__font_dec\"></ng-container>\n\t\t{{ translates?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease Font Size' }}\n\t</button>\n</mat-menu>\n<ng-template #menu__next_match>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.GO_TO_NEXT_MATCH || 'Go to next match'\"\n\t\taria-label=\"Go to next match.\">\n\t\t<mat-icon svgIcon=\"arrow_downward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__prev_match>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.GO_TO_PREV_MATCH || 'Go to previous match'\"\n\t\taria-label=\"Go to previous match.\">\n\t\t<mat-icon svgIcon=\"arrow_upward\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__toggle_html>\n\t<button\n\t\trole=\"button\"\n\t\tmat-button\n\t\t[matTooltip]=\"\n\t\t\thasHtml\n\t\t\t\t? isHtml\n\t\t\t\t\t? translates?.SHARED?.ACTIONS?.SWITCH_TO_TEXTUAL_MODE || 'Switch to textual mode'\n\t\t\t\t\t: translates?.SHARED?.ACTIONS?.SWITCH_TO_RICH_TEXT_MODE || 'Switch to rich text mode'\n\t\t\t\t: 'No HTML version was found for this report'\n\t\t\"\n\t\t[disabled]=\"!hasHtml\"\n\t\t(click)=\"toggleContent()\"\n\t\taria-label=\"Switch report to text mode or rich text mode.\">\n\t\t<ng-container *ngIf=\"hasHtml\">\n\t\t\t<mat-icon [svgIcon]=\"isHtml ? 'title' : 'insert_photo'\"></mat-icon>\n\t\t</ng-container>\n\t\t<ng-container *ngIf=\"!hasHtml\">\n\t\t\t<mat-icon>{{ isHtml ? 'title' : 'insert_photo' }}</mat-icon>\n\t\t</ng-container>\n\t</button>\n</ng-template>\n<ng-template #menu__align_left>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.ALIGN_LEFT || 'Align left'\"\n\t\t(click)=\"direction = 'ltr'\"\n\t\taria-label=\"Align content to left.\">\n\t\t<mat-icon svgIcon=\"format_align_left\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__launch_url>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.LAUNCH_URL || 'Open URL in a new tab'\"\n\t\t(click)=\"openUrl()\"\n\t\taria-label=\"Opens the result source link in a new tab.\">\n\t\t<mat-icon svgIcon=\"launch\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__align_right>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.ALIGN_RIGHT || 'Align right'\"\n\t\t(click)=\"direction = 'rtl'\"\n\t\taria-label=\"Align content to right.\">\n\t\t<mat-icon svgIcon=\"format_align_right\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_inc>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.INCREASE_FONT_SIZE || 'Increase font size'\"\n\t\t(click)=\"increaseFontSize()\"\n\t\taria-label=\"Increase font size.\">\n\t\t<mat-icon svgIcon=\"zoom_in\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__font_dec>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.DECREASE_FONT_SIZE || 'Decrease font size'\"\n\t\t(click)=\"decreaseFontSize()\"\n\t\taria-label=\"Decrease font size.\">\n\t\t<mat-icon svgIcon=\"zoom_out\"></mat-icon>\n\t</button>\n</ng-template>\n<ng-template #menu__show_results>\n\t<button\n\t\tmat-button\n\t\t[matTooltip]=\"translates?.SHARED?.ACTIONS?.CLOSE || 'Close'\"\n\t\t(click)=\"goBack()\"\n\t\taria-label=\"Go back to all results view.\">\n\t\t<mat-icon svgIcon=\"close\"></mat-icon>\n\t</button>\n</ng-template>\n\n<!-- skeletons -->\n<ng-template #skeleton__body>\n\t<div\n\t\tfxFlex\n\t\tfxLayout=\"column\"\n\t\tfxLayoutAlign=\"start stretch\"\n\t\tfxLayoutGap=\"1em\"\n\t\tstyle=\"overflow: hidden; margin: 1em\"\n\t\tskeleton__body>\n\t\t<ngx-skeleton-loader [theme]=\"{ height: '100%' }\" *ngFor=\"let item of 20 | array; index as i\"></ngx-skeleton-loader>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{background-color:#fff}.suspect-title{overflow:hidden;text-overflow:ellipsis;text-transform:none}[text-container]{white-space:pre-line;padding:1em;word-break:break-word;line-height:normal}[text-container] span[class*=cr-m-]{cursor:pointer}[text-container] span[class*=cr-m-].cr-m-0{background-color:#ff796e}[text-container] span[class*=cr-m-].cr-m-0:hover{background-color:#ff9188}[text-container] span[class*=cr-m-].cr-m-1{background-color:#ff9a9a}[text-container] span[class*=cr-m-].cr-m-1:hover{background-color:#ffb4b4}[text-container] span[class*=cr-m-].cr-m-2{background-color:#ffd9b0}[text-container] span[class*=cr-m-].cr-m-2:hover{background-color:#ffe5ca}[text-container] span[class*=cr-m-].cr-highlight{background-color:gold}[text-container] span[class*=cr-m-].cr-highlight:hover{background-color:#ffdf33}@media screen and (min-width: 600px){cr-powered-by{display:none}}cr-panel cr-panel-header{text-transform:uppercase}cr-panel cr-panel-body{position:relative;max-width:100%}cr-panel cr-panel-body [card]{overflow-y:auto}cr-panel cr-panel-body iframe{width:100%;height:100%;border:none}cr-panel cr-panel-body iframe:not([hidden]){display:block}cr-panel cr-panel-body [content-footer]{height:36px;margin-top:.5em}@media screen and (max-width: 599px){cr-panel cr-panel-body [content-footer]{margin-top:0}}[mat-button]{min-width:36px;padding:0}[skeleton__body] ngx-skeleton-loader:nth-child(5n+1){flex:1;width:.87}[skeleton__body] ngx-skeleton-loader:nth-child(5n+2){flex:1;width:.76}[skeleton__body] ngx-skeleton-loader:nth-child(5n+3){flex:1;width:.88}[skeleton__body] ngx-skeleton-loader:nth-child(5n+4){flex:1;width:.87}[skeleton__body] ngx-skeleton-loader:nth-child(5n+5){flex:1;width:1}\n"] }]
        }], ctorParameters: function () { return [{ type: ReportService }, { type: LayoutMediaQueryService }, { type: MatchService }, { type: CopyleaksTranslateService }, { type: HighlightService }]; } });

class SearchPipe {
    /**
     * A pipe to filter `items` based on one or more `keys` and a search `term`
     * @param items the items to filter
     * @param keys  comma seperated keys
     * @param term text to search for
     */
    transform(items, keys, term) {
        if (!term) {
            return items;
        }
        return (items || []).filter(item => keys.split(',').some(key => item.hasOwnProperty(key) && new RegExp(term, 'gi').test(item[key])));
    }
}
SearchPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SearchPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });
SearchPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SearchPipe, name: "search" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SearchPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'search',
                }]
        }] });

class ResultsFilterDialogComponent {
    constructor(translatesService, dialogRef, directionService, reportSerivce, announcer) {
        this.translatesService = translatesService;
        this.dialogRef = dialogRef;
        this.directionService = directionService;
        this.reportSerivce = reportSerivce;
        this.announcer = announcer;
        this.query = '';
        this.hidden = [];
        this.checkedAllResults = false;
    }
    /**
     * Checks whether the hidden results contain a `result`
     * @param result the result to test
     */
    isHidden(result) {
        return this.hidden.includes(result.id);
    }
    /**
     * Adds or removes the `result` from the hidden results list essentialy checks or unchecks it
     * @param result the result to check/uncheck
     */
    toggleResult(result) {
        const index = this.hidden.indexOf(result.id);
        if (index > -1) {
            this.hidden.splice(index, 1);
        }
        else {
            this.hidden.push(result.id);
        }
    }
    /**
     * Checks or unchecks all results
     */
    checkAll() {
        if (this.hidden.length !== this.results.length) {
            this.hidden = [...this.results.map(r => r.id)];
        }
        else {
            this.hidden = [];
        }
        this.checkedAllResults = !this.checkedAllResults;
        this.announcer.announce(this.checkedAllResults ? 'All results unchecked' : 'All results checked', 'assertive');
    }
    /**
     * Closes the dialog while indicating whether to `save` changes or not.
     */
    close(save) {
        this.dialogRef.close(save);
    }
    /**
     * Saves the hidden results changes
     */
    saveChanges() {
        this.reportSerivce.setHiddenResults(this.hidden);
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - result previews
     * - user defined hidden results
     * - dialog events
     */
    ngOnInit() {
        this.translations = this.translatesService.translations;
        const { hiddenResults$, previews$ } = this.reportSerivce;
        previews$.pipe(untilDestroy(this)).subscribe(results => (this.results = results.reverse()));
        hiddenResults$.pipe(take(1)).subscribe(hidden => {
            this.hidden = [...hidden];
        });
        this.dialogRef
            .beforeClosed()
            .pipe(truthy())
            .subscribe(() => this.saveChanges());
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
ResultsFilterDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ResultsFilterDialogComponent, deps: [{ token: CopyleaksTranslateService }, { token: i1.MatDialogRef }, { token: DirectionService }, { token: MAT_DIALOG_DATA }, { token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
ResultsFilterDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ResultsFilterDialogComponent, selector: "cr-results-filter-dialog", ngImport: i0, template: "<div mat-dialog-title>{{ translations?.FILTER_DIALOG?.TITLE || 'Results Filter' }}</div>\n<mat-form-field floatLabel=\"never\">\n\t<mat-icon matSuffix>search</mat-icon>\n\t<input\n\t\taria-label=\"Search for specific result.\"\n\t\tmatInput\n\t\t[placeholder]=\"translations?.FILTER_DIALOG?.SEARCH_PLACHOLDER || 'Filter By Results'\"\n\t\ttype=\"search\"\n\t\t[(ngModel)]=\"query\" />\n</mat-form-field>\n<mat-dialog-content>\n\t<div\n\t\tresult\n\t\t*ngFor=\"let result of results | search : 'title,id' : query\"\n\t\tfxLayout=\"row\"\n\t\tfxLayoutAlign=\"space-between center\">\n\t\t<div fxLayout=\"column\" class=\"result-item-meta-data-container\">\n\t\t\t<span class=\"result-item-meta-data-title\">{{ result.title }}</span>\n\t\t\t<ng-container *ngIf=\"result?.url\">\n\t\t\t\t<a [href]=\"result?.url\" target=\"_blank\" aria-label=\"Result source link.\" class=\"result-item-meta-data-link\">\n\t\t\t\t\t{{ result?.url }}\n\t\t\t\t</a>\n\t\t\t</ng-container>\n\t\t\t<ng-container *ngIf=\"!result?.url && result?.metadata?.filename\">\n\t\t\t\t{{ result?.metadata?.filename }}\n\t\t\t</ng-container>\n\t\t</div>\n\t\t<mat-checkbox\n\t\t\tclass=\"checkbox-outline-size\"\n\t\t\t[checked]=\"!isHidden(result)\"\n\t\t\t(change)=\"toggleResult(result)\"\n\t\t\t[aria-label]=\"\n\t\t\t\tisHidden(result) ? 'Check to include this result' : 'Un-check to exclude this result'\n\t\t\t\"></mat-checkbox>\n\t</div>\n</mat-dialog-content>\n<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding-top: 1em\">\n\t<button\n\t\tmat-button\n\t\tclass=\"check-uncheck-all-btn\"\n\t\t(click)=\"checkAll()\"\n\t\taria-label=\"Includes or excludes all results from report.\"\n\t\tdisableRipple>\n\t\t{{\n\t\t\thidden.length === results.length\n\t\t\t\t? translations?.FILTER_DIALOG?.CHECK_ALL || 'check all'\n\t\t\t\t: translations?.FILTER_DIALOG?.UNCHECK_ALL || 'uncheck all'\n\t\t}}\n\t</button>\n\t<button mat-raised-button (click)=\"close(true)\" color=\"primary\" aria-label=\"Saves the filtered results.\">\n\t\t{{ translations?.SHARED?.SAVE || 'SAVE' }}\n\t</button>\n</div>\n\n<button\n\tclose\n\tmat-icon-button\n\t(click)=\"close()\"\n\t[class]=\"'close-' + directionService.dir\"\n\taria-label=\"Closes the results filter dialog.\">\n\t<mat-icon svgIcon=\"close_black_color\"></mat-icon>\n</button>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}:host{display:flex;flex-flow:column nowrap;position:relative}mat-form-field{margin-bottom:0;width:100%}[result]:hover{background:rgba(0,0,0,.04)}[result] mat-pseudo-checkbox{margin-left:1em}[result] p{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[button-link]{cursor:pointer;text-transform:capitalize}[check-item]{cursor:pointer;margin-bottom:.5em;white-space:nowrap;flex:1;overflow:hidden;text-overflow:ellipsis}[check-item]:last-child{margin-top:0}[close]{position:absolute;margin-top:-1em;margin-right:-1em;top:0;right:0}.close-rtl{right:unset;left:-16px;top:-6px}@media screen and (min-width: 960px){mat-dialog-content{height:50vh;width:60vh}}.check-uncheck-all-btn{color:#00e;font-weight:400;font-size:14px;text-decoration:underline;text-transform:capitalize}.check-uncheck-all-btn ::ng-deep .mat-button-focus-overlay{background-color:transparent!important}.cdk-keyboard-focused{outline:2px solid black!important}.result-item-meta-data-container{padding:2px;overflow:hidden}.result-item-meta-data-container .result-item-meta-data-link{max-width:695px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.checkbox-outline-size{height:16px;line-height:12px}\n"], components: [{ type: i5.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i6$1.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }], directives: [{ type: i1.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { type: i5.MatSuffix, selector: "[matSuffix]" }, { type: i9.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i10.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i10.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i10.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i1.MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "search": SearchPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ResultsFilterDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-results-filter-dialog', template: "<div mat-dialog-title>{{ translations?.FILTER_DIALOG?.TITLE || 'Results Filter' }}</div>\n<mat-form-field floatLabel=\"never\">\n\t<mat-icon matSuffix>search</mat-icon>\n\t<input\n\t\taria-label=\"Search for specific result.\"\n\t\tmatInput\n\t\t[placeholder]=\"translations?.FILTER_DIALOG?.SEARCH_PLACHOLDER || 'Filter By Results'\"\n\t\ttype=\"search\"\n\t\t[(ngModel)]=\"query\" />\n</mat-form-field>\n<mat-dialog-content>\n\t<div\n\t\tresult\n\t\t*ngFor=\"let result of results | search : 'title,id' : query\"\n\t\tfxLayout=\"row\"\n\t\tfxLayoutAlign=\"space-between center\">\n\t\t<div fxLayout=\"column\" class=\"result-item-meta-data-container\">\n\t\t\t<span class=\"result-item-meta-data-title\">{{ result.title }}</span>\n\t\t\t<ng-container *ngIf=\"result?.url\">\n\t\t\t\t<a [href]=\"result?.url\" target=\"_blank\" aria-label=\"Result source link.\" class=\"result-item-meta-data-link\">\n\t\t\t\t\t{{ result?.url }}\n\t\t\t\t</a>\n\t\t\t</ng-container>\n\t\t\t<ng-container *ngIf=\"!result?.url && result?.metadata?.filename\">\n\t\t\t\t{{ result?.metadata?.filename }}\n\t\t\t</ng-container>\n\t\t</div>\n\t\t<mat-checkbox\n\t\t\tclass=\"checkbox-outline-size\"\n\t\t\t[checked]=\"!isHidden(result)\"\n\t\t\t(change)=\"toggleResult(result)\"\n\t\t\t[aria-label]=\"\n\t\t\t\tisHidden(result) ? 'Check to include this result' : 'Un-check to exclude this result'\n\t\t\t\"></mat-checkbox>\n\t</div>\n</mat-dialog-content>\n<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding-top: 1em\">\n\t<button\n\t\tmat-button\n\t\tclass=\"check-uncheck-all-btn\"\n\t\t(click)=\"checkAll()\"\n\t\taria-label=\"Includes or excludes all results from report.\"\n\t\tdisableRipple>\n\t\t{{\n\t\t\thidden.length === results.length\n\t\t\t\t? translations?.FILTER_DIALOG?.CHECK_ALL || 'check all'\n\t\t\t\t: translations?.FILTER_DIALOG?.UNCHECK_ALL || 'uncheck all'\n\t\t}}\n\t</button>\n\t<button mat-raised-button (click)=\"close(true)\" color=\"primary\" aria-label=\"Saves the filtered results.\">\n\t\t{{ translations?.SHARED?.SAVE || 'SAVE' }}\n\t</button>\n</div>\n\n<button\n\tclose\n\tmat-icon-button\n\t(click)=\"close()\"\n\t[class]=\"'close-' + directionService.dir\"\n\taria-label=\"Closes the results filter dialog.\">\n\t<mat-icon svgIcon=\"close_black_color\"></mat-icon>\n</button>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}:host{display:flex;flex-flow:column nowrap;position:relative}mat-form-field{margin-bottom:0;width:100%}[result]:hover{background:rgba(0,0,0,.04)}[result] mat-pseudo-checkbox{margin-left:1em}[result] p{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[button-link]{cursor:pointer;text-transform:capitalize}[check-item]{cursor:pointer;margin-bottom:.5em;white-space:nowrap;flex:1;overflow:hidden;text-overflow:ellipsis}[check-item]:last-child{margin-top:0}[close]{position:absolute;margin-top:-1em;margin-right:-1em;top:0;right:0}.close-rtl{right:unset;left:-16px;top:-6px}@media screen and (min-width: 960px){mat-dialog-content{height:50vh;width:60vh}}.check-uncheck-all-btn{color:#00e;font-weight:400;font-size:14px;text-decoration:underline;text-transform:capitalize}.check-uncheck-all-btn ::ng-deep .mat-button-focus-overlay{background-color:transparent!important}.cdk-keyboard-focused{outline:2px solid black!important}.result-item-meta-data-container{padding:2px;overflow:hidden}.result-item-meta-data-container .result-item-meta-data-link{max-width:695px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.checkbox-outline-size{height:16px;line-height:12px}\n"] }]
        }], ctorParameters: function () { return [{ type: CopyleaksTranslateService }, { type: i1.MatDialogRef }, { type: DirectionService }, { type: ReportService, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i4$2.LiveAnnouncer }]; } });

class SafePipe {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
    }
    /**
     * A pipe to bypass the security trust for some `content` of some `type`
     * @param content the `content` to declare safe
     * @param type the the `type` of content
     */
    transform(content, type) {
        switch (type) {
            case 'html':
                return this.sanitizer.bypassSecurityTrustHtml(content);
            case 'style':
                return this.sanitizer.bypassSecurityTrustStyle(content);
            case 'script':
                return this.sanitizer.bypassSecurityTrustScript(content);
            case 'url':
                return this.sanitizer.bypassSecurityTrustUrl(content);
            case 'resourceUrl':
                return this.sanitizer.bypassSecurityTrustResourceUrl(content);
            default:
                throw new Error(`Invalid safe type specified: ${type}`);
        }
    }
}
SafePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SafePipe, deps: [{ token: i2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Pipe });
SafePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SafePipe, name: "safe" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SafePipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'safe',
                }]
        }], ctorParameters: function () { return [{ type: i2.DomSanitizer }]; } });

class PlagiarismFreeComponent {
    constructor(translateService, reportService) {
        this.translateService = translateService;
        this.reportService = reportService;
        this.plagFreeImg = IMAGES.PLAGIARISM_FREE_PNG;
        this.isHighNotificationSeverity = false;
    }
    /**
     * init translation on componenet init
     */
    ngOnInit() {
        this.translations = this.translateService.translations;
        this.results$ = this.reportService.results$;
    }
    /**
     * wil be notified on notifications severity change
     * @param severity latest notifications severity
     */
    onNotificationSeverityChange(severity) {
        setTimeout(() => {
            this.isHighNotificationSeverity =
                severity === CompleteResultNotificationAlertSeverity.High ||
                    severity === CompleteResultNotificationAlertSeverity.VeryHigh;
        });
    }
}
PlagiarismFreeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PlagiarismFreeComponent, deps: [{ token: CopyleaksTranslateService }, { token: ReportService }], target: i0.ɵɵFactoryTarget.Component });
PlagiarismFreeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: PlagiarismFreeComponent, selector: "cr-plagiarism-free", ngImport: i0, template: "<img [src]=\"plagFreeImg | safe : 'url'\" alt=\"Matches free\" />\n<label *ngIf=\"!isHighNotificationSeverity\">\n\t<ng-container *ngIf=\"(results$ | async).length\">\n\t\t{{ translations?.PLAGIARISM_FREE_WITH_RESULTS || 'No Matches Found With Applied Filters' }}\n\t</ng-container>\n\t<ng-container *ngIf=\"!(results$ | async).length\">\n\t\t{{ translations?.PLAGIARISM_FREE || 'No Matches Found' }}\n\t</ng-container>\n</label>\n<label *ngIf=\"isHighNotificationSeverity\">\n\t{{ translations?.PLAGIARISM_FREE_WITH_NOTIFICATIONS || 'Cheating Detected' }}\n</label>\n\n<div class=\"notification-section\">\n\t<cr-notifications (severityChange)=\"onNotificationSeverityChange($event)\"></cr-notifications>\n</div>\n", styles: [":host{display:flex;flex-flow:column nowrap;place-items:center center}img{width:50%}label{margin-top:-1em;font-size:1.5em;text-align:center;line-height:1.5}.notification-section{margin-top:10px;font-weight:bolder}\n"], components: [{ type: NotificationsComponent, selector: "cr-notifications", outputs: ["severityChange"] }], directives: [{ type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "safe": SafePipe, "async": i17.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PlagiarismFreeComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-plagiarism-free', template: "<img [src]=\"plagFreeImg | safe : 'url'\" alt=\"Matches free\" />\n<label *ngIf=\"!isHighNotificationSeverity\">\n\t<ng-container *ngIf=\"(results$ | async).length\">\n\t\t{{ translations?.PLAGIARISM_FREE_WITH_RESULTS || 'No Matches Found With Applied Filters' }}\n\t</ng-container>\n\t<ng-container *ngIf=\"!(results$ | async).length\">\n\t\t{{ translations?.PLAGIARISM_FREE || 'No Matches Found' }}\n\t</ng-container>\n</label>\n<label *ngIf=\"isHighNotificationSeverity\">\n\t{{ translations?.PLAGIARISM_FREE_WITH_NOTIFICATIONS || 'Cheating Detected' }}\n</label>\n\n<div class=\"notification-section\">\n\t<cr-notifications (severityChange)=\"onNotificationSeverityChange($event)\"></cr-notifications>\n</div>\n", styles: [":host{display:flex;flex-flow:column nowrap;place-items:center center}img{width:50%}label{margin-top:-1em;font-size:1.5em;text-align:center;line-height:1.5}.notification-section{margin-top:10px;font-weight:bolder}\n"] }]
        }], ctorParameters: function () { return [{ type: CopyleaksTranslateService }, { type: ReportService }]; } });

class ResultCardComponent {
    constructor(translatesService, componentFactoryResolver, reportService, directionService, datePipe, messages) {
        this.translatesService = translatesService;
        this.componentFactoryResolver = componentFactoryResolver;
        this.reportService = reportService;
        this.directionService = directionService;
        this.datePipe = datePipe;
        this.messages = messages;
        this.eResultPreviewType = EResultPreviewType;
        this.elevation = true;
        this.loading = true;
        this.access = ResultAccess.locked;
        this.resultAccess = ResultAccess;
        this.resultCardActions = [];
    }
    get urlDomain() {
        if (this.preview && this.preview.url) {
            const url = new URL(this.preview.url);
            return url.host;
        }
        return 'copyleaks.com';
    }
    get previewIconToolTip() {
        if (this.preview) {
            switch (this.preview.type) {
                case EResultPreviewType.Internet:
                    return this.translations &&
                        this.translations.RESULT_CARD &&
                        this.translations.RESULT_CARD.INTERNET_RESULT_TOOLTIP
                        ? this.translations.RESULT_CARD.INTERNET_RESULT_TOOLTIP
                        : 'Internet Result';
                case EResultPreviewType.Database:
                    return this.translations &&
                        this.translations.RESULT_CARD &&
                        this.translations.RESULT_CARD.INTERNAL_DATABASE_RESULT_TOOLTIP
                        ? this.translations.RESULT_CARD.INTERNAL_DATABASE_RESULT_TOOLTIP
                        : 'Internal Database Result';
                case EResultPreviewType.Batch:
                    return this.translations &&
                        this.translations.RESULT_CARD &&
                        this.translations.RESULT_CARD.BATCH_RESULT_TOOLTIP
                        ? this.translations.RESULT_CARD.BATCH_RESULT_TOOLTIP
                        : 'Batch Result';
                case EResultPreviewType.Repositroy:
                    return this.translations &&
                        this.translations.RESULT_CARD &&
                        this.translations.RESULT_CARD.REPOSITORY_RESULT_TOOLTIP
                        ? this.translations.RESULT_CARD.REPOSITORY_RESULT_TOOLTIP
                        : 'Repository Result';
                default:
                    return '';
            }
        }
        return '';
    }
    get titleIconTooltip() {
        return !this.loading && this.result === null
            ? this.translations?.RESULT_CARD?.RESULT_ERROR || this.messages.RESULT_PUSH_ERROR
            : !this.loading && this.result !== null && !this.disabled
                ? this.previewIconToolTip
                : !this.loading && this.disabled
                    ? 'You do not have access to this result'
                    : null;
    }
    /**
     * Card click handler, will update the suspect id and switch to one-to-one view mode
     */
    onTitleClick() {
        if (this.result && !this.disabled) {
            this.reportService.configure({ viewMode: 'one-to-one', suspectId: this.preview.id });
        }
    }
    /**
     * hide result
     */
    hideResult() {
        this.reportService.hiddenResults$.pipe(untilDestroy(this), take(1)).subscribe(hiddenResultsIds => {
            this.reportService.setHiddenResults([...hiddenResultsIds, this.preview.id]);
        });
    }
    /**
     * return the preview date from meta data
     */
    getPreviewDate() {
        if (this.preview?.metadata?.creationDate ||
            this.preview?.metadata?.lastModificationDate ||
            this.preview?.metadata?.publishDate) {
            try {
                const d = new Date(this.preview?.metadata?.creationDate ??
                    this.preview?.metadata?.lastModificationDate ??
                    this.preview?.metadata?.publishDate);
                if (Object.prototype.toString.call(d) === '[object Date]') {
                    if (isNaN(d.getTime())) {
                        return null;
                    }
                    else {
                        return this.datePipe.transform(d);
                    }
                }
                else {
                    return null;
                }
            }
            catch {
                return null;
            }
        }
        else {
            return null;
        }
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - the scan result associated with this card
     */
    ngOnInit() {
        this.translations = this.translatesService.translations;
        if (!this.preview) {
            return;
        }
        if (this.preview?.metadata?.filename) {
            let filename = this.preview?.metadata?.filename;
            try {
                filename = decodeURIComponent(this.preview?.metadata?.filename);
            }
            catch {
                filename = this.preview?.metadata?.filename;
            }
            this.preview.metadata.filename = filename;
        }
        this.previewDate = this.getPreviewDate();
        if (this.preview?.metadata?.author || this.preview?.metadata?.organization || this.previewDate) {
            const author = this.preview?.metadata?.author;
            const organization = this.preview?.metadata?.organization;
            const previewDate = this.previewDate;
            // tslint:disable-next-line: max-line-length
            this.metaDataToolTip = `${author ? author : ''}${author && organization ? ' • ' : ''}${organization ? organization : ''}${(author || organization) && previewDate ? ' • ' : ''}${previewDate ? previewDate : ''}`;
        }
        if (this.preview.component) {
            const factory = this.componentFactoryResolver.resolveComponentFactory(this.preview.component);
            setTimeout(() => {
                const ref = this.vcr?.createComponent(factory);
                if (ref) {
                    this.componentInstance = ref.instance;
                    if (this.componentInstance.setPreview) {
                        this.componentInstance.setPreview(this.preview);
                    }
                    if (this.componentInstance.isLoading) {
                        this.componentInstance.isLoading(this.loading);
                    }
                    this.componentInstance.setParentRef(this);
                }
            }, 100);
        }
        const result$ = this.reportService.findResultById$(this.preview.id);
        const { source$, options$, resultCardActions$ } = this.reportService;
        combineLatest([result$, source$])
            .pipe(untilDestroy(this))
            .subscribe(([result, source]) => {
            this.source = source;
            this.result = result.result;
            this.loading = false;
            this.disabled = result.disabled;
            if (this.componentInstance) {
                if (this.componentInstance.isLoading) {
                    this.componentInstance.isLoading(this.loading);
                }
                if (this.componentInstance.setResult) {
                    this.componentInstance.setResult(result);
                }
            }
        });
        this.similarWords$ = combineLatest([result$, options$]).pipe(untilDestroy(this), map(([result, options]) => {
            if (result && result.result && options) {
                const { showIdentical, showMinorChanges, showRelated } = options;
                const { identical, minorChanges, relatedMeaning } = result.result.statistics;
                return ((showIdentical ? identical : 0) + (showMinorChanges ? minorChanges : 0) + (showRelated ? relatedMeaning : 0));
            }
            return this.preview.matchedWords;
        }));
        resultCardActions$
            .pipe(untilDestroy(this), filter(r => !!r && r.length !== 0))
            .subscribe(res => {
            this.resultCardActions = res;
        });
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
ResultCardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ResultCardComponent, deps: [{ token: CopyleaksTranslateService }, { token: i0.ComponentFactoryResolver }, { token: ReportService }, { token: DirectionService }, { token: i17.DatePipe }, { token: COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN }], target: i0.ɵɵFactoryTarget.Component });
ResultCardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ResultCardComponent, selector: "cr-result-card", inputs: { preview: "preview" }, host: { properties: { "class.mat-elevation-z3": "this.elevation" } }, providers: [DatePipe], viewQueries: [{ propertyName: "vcr", first: true, predicate: ["vcr"], descendants: true, read: ViewContainerRef }], ngImport: i0, template: "<ng-container *ngIf=\"preview; else skeleton__card\">\n\t<!-- card-icon -->\n\t<div class=\"title-icon\" [matTooltip]=\"titleIconTooltip\">\n\t\t<!-- when result is loading -->\n\t\t<cls-spinner *ngIf=\"loading\" title=\"Spinner\" width=\"20px\"></cls-spinner>\n\n\t\t<!-- when result is disabled (locked) -->\n\t\t<mat-icon class=\"success-icon\" *ngIf=\"disabled\" style=\"opacity: 0.5\">lock</mat-icon>\n\n\t\t<!-- when result has error -->\n\t\t<mat-icon class=\"error-icon\" *ngIf=\"!loading && result === null\" color=\"warn\">error</mat-icon>\n\n\t\t<!-- when result is loaded successfully and it is internal result-->\n\t\t<mat-icon\n\t\t\tclass=\"success-icon\"\n\t\t\t*ngIf=\"!loading && !disabled && result !== null && !preview.url\"\n\t\t\tstyle=\"opacity: 0.5\">\n\t\t\t<ng-container [ngSwitch]=\"preview.type\">\n\t\t\t\t<ng-container *ngSwitchCase=\"eResultPreviewType.Batch\">dns</ng-container>\n\t\t\t\t<ng-container *ngSwitchCase=\"eResultPreviewType.Database\">dns</ng-container>\n\t\t\t\t<ng-container *ngSwitchDefault>storage</ng-container>\n\t\t\t</ng-container>\n\t\t</mat-icon>\n\n\t\t<!-- when result is loaded successfully and it is external result-->\n\t\t<img\n\t\t\talt=\"Result image\"\n\t\t\t*ngIf=\"!loading && result !== null && preview.url\"\n\t\t\t[src]=\"'https://www.google.com/s2/favicons?domain=' + urlDomain\" />\n\t</div>\n\n\t<!-- customer body design -->\n\t<div *ngIf=\"preview?.component\" class=\"custom-component-wrapper\">\n\t\t<ng-container #vcr></ng-container>\n\t</div>\n\n\t<!-- default body design -->\n\t<ng-container *ngIf=\"!preview?.component\">\n\t\t<div header class=\"title\" [class]=\"'title-' + directionService.dir\">\n\t\t\t<button\n\t\t\t\t[disabled]=\"disabled\"\n\t\t\t\tclass=\"result-title-btn\"\n\t\t\t\tmat-button\n\t\t\t\t(click)=\"onTitleClick()\"\n\t\t\t\taria-label=\"Click to see report against this result.\">\n\t\t\t\t<span\n\t\t\t\t\tclass=\"result-title\"\n\t\t\t\t\t[ngClass]=\"{ 'ellipsis-flex-text': preview.type === eResultPreviewType.Internet }\"\n\t\t\t\t\t[matTooltip]=\"preview.title\"\n\t\t\t\t\t[matTooltipDisabled]=\"preview.type !== eResultPreviewType.Internet\">\n\t\t\t\t\t{{ preview.title }}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass=\"menu-toggle-button\"\n\t\t\t\ttitle=\"Toggle Menu\"\n\t\t\t\taria-label=\"Opens up options menu for this result.\"\n\t\t\t\taria-haspopup=\"menu\"\n\t\t\t\tmat-icon-button\n\t\t\t\t[matMenuTriggerFor]=\"menu\"\n\t\t\t\tmatTooltip=\"Toggle Menu\">\n\t\t\t\t<mat-icon svgIcon=\"arrow_drop_down\"></mat-icon>\n\t\t\t</button>\n\t\t\t<mat-menu #menu=\"matMenu\" class=\"result-card-actions\">\n\t\t\t\t<button [title]=\"translations?.RESULT_CARD?.ACTIONS?.EXCLUDE || 'Exclude'\" mat-menu-item (click)=\"hideResult()\">\n\t\t\t\t\t{{ translations?.RESULT_CARD?.ACTIONS?.EXCLUDE || 'Exclude' }}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttitle=\"action.name\"\n\t\t\t\t\taria-label=\"Click to choose option.\"\n\t\t\t\t\t*ngFor=\"let action of resultCardActions\"\n\t\t\t\t\tmat-menu-item\n\t\t\t\t\t(click)=\"action.action(preview)\">\n\t\t\t\t\t{{ action.name }}\n\t\t\t\t</button>\n\t\t\t</mat-menu>\n\t\t</div>\n\n\t\t<div\n\t\t\tbody\n\t\t\tclass=\"meta-data\"\n\t\t\t[title]=\"preview.metadata?.filename\"\n\t\t\t*ngIf=\"preview.type != eResultPreviewType.Internet && preview.metadata?.filename\">\n\t\t\t<span>{{ preview.metadata?.filename }}</span>\n\t\t</div>\n\n\t\t<a class=\"link-styles\" *ngIf=\"preview.url\" [href]=\"preview.url\" [title]=\"preview.url\" target=\"_blank\">\n\t\t\t{{ preview.url }}\n\t\t</a>\n\n\t\t<p\n\t\t\tbody\n\t\t\t*ngIf=\"preview.metadata?.author || preview.metadata?.organization || previewDate\"\n\t\t\tclass=\"meta-data\"\n\t\t\t#metaDataRef\n\t\t\t[matTooltip]=\"metaDataToolTip\">\n\t\t\t<span>{{ preview.metadata?.author }}</span>\n\t\t\t<span *ngIf=\"preview.metadata?.author && preview.metadata?.organization\" class=\"dot-divider\">&nbsp;\u2022&nbsp;</span>\n\t\t\t<span *ngIf=\"preview.metadata?.organization\">{{ preview.metadata?.organization }}</span>\n\t\t\t<span *ngIf=\"(preview.metadata?.author || preview.metadata?.organization) && previewDate\" class=\"dot-divider\">\n\t\t\t\t&nbsp;\u2022&nbsp;\n\t\t\t</span>\n\t\t\t<span *ngIf=\"previewDate\">{{ previewDate }}</span>\n\t\t</p>\n\t\t<p\n\t\t\tbody\n\t\t\ttabindex=\"0\"\n\t\t\trole=\"button\"\n\t\t\t(keyup.enter)=\"onTitleClick()\"\n\t\t\t(click)=\"onTitleClick()\"\n\t\t\t*ngIf=\"preview.introduction\"\n\t\t\t[style.cursor]=\"disabled ? 'default' : 'pointer'\"\n\t\t\taria-label=\"Click to see report against this result.\">\n\t\t\t{{ preview.introduction }}\n\t\t</p>\n\t</ng-container>\n\n\t<mat-divider></mat-divider>\n\n\t<div footer fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n\t\t<div [ngClass]=\"{ 'text-identical': true }\" *ngIf=\"source\" style=\"color: black; font-weight: 400\">\n\t\t\t{{ (similarWords$ | async) / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t{{ translations?.RESULT_CARD?.SIMILAR_WORDS || 'similar words' }}\n\t\t</div>\n\t\t<span></span>\n\t\t<div\n\t\t\t[dir]=\"directionService.dir\"\n\t\t\tfxLayout=\"row\"\n\t\t\tfxLayoutGap=\"1em\"\n\t\t\tstyle=\"height: 28px\"\n\t\t\t[satPopoverAnchor]=\"popover\"\n\t\t\tsatPopoverHover\n\t\t\t[tabIndex]=\"0\"\n\t\t\taria-label=\"Use the enter key to see result similarity types.\"\n\t\t\taria-haspopup=\"true\"\n\t\t\trole=\"button\"\n\t\t\t(keyup.enter)=\"popover.toggle()\">\n\t\t\t<span class=\"dot identical\"></span>\n\t\t\t<span class=\"dot minor-changes\"></span>\n\t\t\t<span class=\"dot related\"></span>\n\t\t</div>\n\t</div>\n\n\t<sat-popover #popover horizontalAlign=\"before\" [restoreFocus]=\"true\" [autoFocus]=\"true\">\n\t\t<div fxLayout=\"column nowrap\" fxLayoutAlign=\"start start\" class=\"sat-tooltip mat-typography\" [tabIndex]=\"0\">\n\t\t\t<!--  -->\n\t\t\t<ng-container *ngIf=\"!source\">\n\t\t\t\t<div>\n\t\t\t\t\t<cls-spinner title=\"Spinner\" width=\"30px\"></cls-spinner>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t\t<!--  -->\n\t\t\t<ng-container *ngIf=\"source\">\n\t\t\t\t<div class=\"text-identical\">\n\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || 'Identical' }} -\n\t\t\t\t\t{{ result?.statistics.identical / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}.\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-minor-changes\">\n\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || 'Minor Changes' }} -\n\t\t\t\t\t{{ result?.statistics.minorChanges / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}.\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-related\">\n\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }} -\n\t\t\t\t\t{{ result?.statistics.relatedMeaning / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}.\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t\t<!--  -->\n\t\t</div>\n\t</sat-popover>\n</ng-container>\n\n<ng-template #skeleton__card>\n\t<div class=\"result-loading\">\n\t\t<p>\n\t\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t</p>\n\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t<p>\n\t\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t</p>\n\t</div>\n\t<mat-divider></mat-divider>\n\t<div footer fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n\t\t<ngx-skeleton-loader fxFlex=\"30\" [theme]=\"{ height: '28px', margin: 0 }\"></ngx-skeleton-loader>\n\t\t<div fxLayout=\"row\" fxLayoutGap=\"1em\">\n\t\t\t<ngx-skeleton-loader\n\t\t\t\t[theme]=\"{ height: '28px', width: '28px', margin: 0 }\"\n\t\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t\t\t<ngx-skeleton-loader\n\t\t\t\t[theme]=\"{ height: '28px', width: '28px', margin: 0 }\"\n\t\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t\t\t<ngx-skeleton-loader\n\t\t\t\t[theme]=\"{ height: '28px', width: '28px', margin: 0 }\"\n\t\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t\t</div>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{display:flex;flex-flow:column nowrap;box-sizing:border-box;border-radius:10px;position:relative;margin:15px 10px 1.5em;box-shadow:#43475545 0 0 .25em,#5a7dbc0d 0 .25em 1em}:host cl-spinner{margin-top:1px}:host .title{display:flex;font-weight:700;justify-content:space-between;word-wrap:break-word;margin-top:17px;padding-bottom:10px}:host .title .result-title-btn{width:auto;height:auto;line-height:normal;border-radius:unset;padding:0 10px}:host .title .result-title-btn .result-title{max-width:450px;display:block;font-weight:700;color:#000;text-wrap:wrap}:host .title .menu-toggle-button{padding:0;width:24px;height:24px;line-height:normal;top:-16px}:host .title-icon{position:absolute;left:-10px;top:-15px;padding:2px;display:flex;justify-content:center;align-items:center;width:25px;height:25px;border:1.5px solid #e0e0e0;border-radius:100%;background:white}:host .title-icon .success-icon{font-size:16px;width:17px;height:16px;line-height:16px}:host .title-icon .error-icon{font-size:24px;width:24px;height:24px;line-height:24px}:host [body]{word-break:break-all;word-break:break-word;padding:1px 12px;color:#47575f}:host [url]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 12px 5px}:host [url] a{text-decoration:none;font-style:italic;color:#107ac3}:host [mat-button]{min-width:36px;padding:0;color:#a9a9a9}:host [footer]{padding:7px 10px;background:rgba(241,241,241,.41);font-weight:400}:host .ellipsis-flex-text{flex:1;text-wrap:wrap}:host .meta-data{font-style:italic;margin-bottom:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .meta-data .dot-divider{margin:0 2px 0 0}:host .custom-component-wrapper{min-height:130px}.result-loading{padding:16px 10px 0 13px}::ng-deep .result-card-actions{min-height:unset}::ng-deep .result-card-actions .mat-menu-content:not(:empty){padding-top:0;padding-bottom:0}.result-introduction-btn{width:auto;height:auto;line-height:normal}.result-introduction-btn ::ng-deep .mat-button-wrapper{word-break:normal;padding:1px 12px;color:#47575f}.link-styles{font-style:italic;color:#107ac3;text-decoration:unset;word-wrap:break-word;padding:0 12px 5px}\n"], components: [{ type: SpinnerComponent, selector: "cls-spinner", inputs: ["width", "color"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i17$1.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i17$1.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { type: i4$1.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }, { type: i10$1.SatPopover, selector: "sat-popover", inputs: ["backdropClass", "anchor", "horizontalAlign", "xAlign", "verticalAlign", "yAlign", "forceAlignment", "lockAlignment", "autoFocus", "restoreFocus", "scrollStrategy", "hasBackdrop", "interactiveClose", "openTransition", "closeTransition"], outputs: ["opened", "closed", "afterOpen", "afterClose", "backdropClicked", "overlayKeydown"] }, { type: i16.NgxSkeletonLoaderComponent, selector: "ngx-skeleton-loader", inputs: ["count", "appearance", "theme"] }], directives: [{ type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i17.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i17.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i17.NgSwitchDefault, selector: "[ngSwitchDefault]" }, { type: i17.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i20.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { type: i17$1.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i10$1.SatPopoverHoverDirective, selector: "[satPopoverHover]", inputs: ["satPopoverHover"] }, { type: i6$2.Dir, selector: "[dir]", inputs: ["dir"], outputs: ["dirChange"], exportAs: ["dir"] }, { type: i10$1.SatPopoverAnchor, selector: "[satPopoverAnchor]", inputs: ["satPopoverAnchor"], exportAs: ["satPopoverAnchor"] }, { type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }], pipes: { "similarity": SimilarityPipe, "async": i17.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ResultCardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-result-card', providers: [DatePipe], template: "<ng-container *ngIf=\"preview; else skeleton__card\">\n\t<!-- card-icon -->\n\t<div class=\"title-icon\" [matTooltip]=\"titleIconTooltip\">\n\t\t<!-- when result is loading -->\n\t\t<cls-spinner *ngIf=\"loading\" title=\"Spinner\" width=\"20px\"></cls-spinner>\n\n\t\t<!-- when result is disabled (locked) -->\n\t\t<mat-icon class=\"success-icon\" *ngIf=\"disabled\" style=\"opacity: 0.5\">lock</mat-icon>\n\n\t\t<!-- when result has error -->\n\t\t<mat-icon class=\"error-icon\" *ngIf=\"!loading && result === null\" color=\"warn\">error</mat-icon>\n\n\t\t<!-- when result is loaded successfully and it is internal result-->\n\t\t<mat-icon\n\t\t\tclass=\"success-icon\"\n\t\t\t*ngIf=\"!loading && !disabled && result !== null && !preview.url\"\n\t\t\tstyle=\"opacity: 0.5\">\n\t\t\t<ng-container [ngSwitch]=\"preview.type\">\n\t\t\t\t<ng-container *ngSwitchCase=\"eResultPreviewType.Batch\">dns</ng-container>\n\t\t\t\t<ng-container *ngSwitchCase=\"eResultPreviewType.Database\">dns</ng-container>\n\t\t\t\t<ng-container *ngSwitchDefault>storage</ng-container>\n\t\t\t</ng-container>\n\t\t</mat-icon>\n\n\t\t<!-- when result is loaded successfully and it is external result-->\n\t\t<img\n\t\t\talt=\"Result image\"\n\t\t\t*ngIf=\"!loading && result !== null && preview.url\"\n\t\t\t[src]=\"'https://www.google.com/s2/favicons?domain=' + urlDomain\" />\n\t</div>\n\n\t<!-- customer body design -->\n\t<div *ngIf=\"preview?.component\" class=\"custom-component-wrapper\">\n\t\t<ng-container #vcr></ng-container>\n\t</div>\n\n\t<!-- default body design -->\n\t<ng-container *ngIf=\"!preview?.component\">\n\t\t<div header class=\"title\" [class]=\"'title-' + directionService.dir\">\n\t\t\t<button\n\t\t\t\t[disabled]=\"disabled\"\n\t\t\t\tclass=\"result-title-btn\"\n\t\t\t\tmat-button\n\t\t\t\t(click)=\"onTitleClick()\"\n\t\t\t\taria-label=\"Click to see report against this result.\">\n\t\t\t\t<span\n\t\t\t\t\tclass=\"result-title\"\n\t\t\t\t\t[ngClass]=\"{ 'ellipsis-flex-text': preview.type === eResultPreviewType.Internet }\"\n\t\t\t\t\t[matTooltip]=\"preview.title\"\n\t\t\t\t\t[matTooltipDisabled]=\"preview.type !== eResultPreviewType.Internet\">\n\t\t\t\t\t{{ preview.title }}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass=\"menu-toggle-button\"\n\t\t\t\ttitle=\"Toggle Menu\"\n\t\t\t\taria-label=\"Opens up options menu for this result.\"\n\t\t\t\taria-haspopup=\"menu\"\n\t\t\t\tmat-icon-button\n\t\t\t\t[matMenuTriggerFor]=\"menu\"\n\t\t\t\tmatTooltip=\"Toggle Menu\">\n\t\t\t\t<mat-icon svgIcon=\"arrow_drop_down\"></mat-icon>\n\t\t\t</button>\n\t\t\t<mat-menu #menu=\"matMenu\" class=\"result-card-actions\">\n\t\t\t\t<button [title]=\"translations?.RESULT_CARD?.ACTIONS?.EXCLUDE || 'Exclude'\" mat-menu-item (click)=\"hideResult()\">\n\t\t\t\t\t{{ translations?.RESULT_CARD?.ACTIONS?.EXCLUDE || 'Exclude' }}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttitle=\"action.name\"\n\t\t\t\t\taria-label=\"Click to choose option.\"\n\t\t\t\t\t*ngFor=\"let action of resultCardActions\"\n\t\t\t\t\tmat-menu-item\n\t\t\t\t\t(click)=\"action.action(preview)\">\n\t\t\t\t\t{{ action.name }}\n\t\t\t\t</button>\n\t\t\t</mat-menu>\n\t\t</div>\n\n\t\t<div\n\t\t\tbody\n\t\t\tclass=\"meta-data\"\n\t\t\t[title]=\"preview.metadata?.filename\"\n\t\t\t*ngIf=\"preview.type != eResultPreviewType.Internet && preview.metadata?.filename\">\n\t\t\t<span>{{ preview.metadata?.filename }}</span>\n\t\t</div>\n\n\t\t<a class=\"link-styles\" *ngIf=\"preview.url\" [href]=\"preview.url\" [title]=\"preview.url\" target=\"_blank\">\n\t\t\t{{ preview.url }}\n\t\t</a>\n\n\t\t<p\n\t\t\tbody\n\t\t\t*ngIf=\"preview.metadata?.author || preview.metadata?.organization || previewDate\"\n\t\t\tclass=\"meta-data\"\n\t\t\t#metaDataRef\n\t\t\t[matTooltip]=\"metaDataToolTip\">\n\t\t\t<span>{{ preview.metadata?.author }}</span>\n\t\t\t<span *ngIf=\"preview.metadata?.author && preview.metadata?.organization\" class=\"dot-divider\">&nbsp;\u2022&nbsp;</span>\n\t\t\t<span *ngIf=\"preview.metadata?.organization\">{{ preview.metadata?.organization }}</span>\n\t\t\t<span *ngIf=\"(preview.metadata?.author || preview.metadata?.organization) && previewDate\" class=\"dot-divider\">\n\t\t\t\t&nbsp;\u2022&nbsp;\n\t\t\t</span>\n\t\t\t<span *ngIf=\"previewDate\">{{ previewDate }}</span>\n\t\t</p>\n\t\t<p\n\t\t\tbody\n\t\t\ttabindex=\"0\"\n\t\t\trole=\"button\"\n\t\t\t(keyup.enter)=\"onTitleClick()\"\n\t\t\t(click)=\"onTitleClick()\"\n\t\t\t*ngIf=\"preview.introduction\"\n\t\t\t[style.cursor]=\"disabled ? 'default' : 'pointer'\"\n\t\t\taria-label=\"Click to see report against this result.\">\n\t\t\t{{ preview.introduction }}\n\t\t</p>\n\t</ng-container>\n\n\t<mat-divider></mat-divider>\n\n\t<div footer fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n\t\t<div [ngClass]=\"{ 'text-identical': true }\" *ngIf=\"source\" style=\"color: black; font-weight: 400\">\n\t\t\t{{ (similarWords$ | async) / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t{{ translations?.RESULT_CARD?.SIMILAR_WORDS || 'similar words' }}\n\t\t</div>\n\t\t<span></span>\n\t\t<div\n\t\t\t[dir]=\"directionService.dir\"\n\t\t\tfxLayout=\"row\"\n\t\t\tfxLayoutGap=\"1em\"\n\t\t\tstyle=\"height: 28px\"\n\t\t\t[satPopoverAnchor]=\"popover\"\n\t\t\tsatPopoverHover\n\t\t\t[tabIndex]=\"0\"\n\t\t\taria-label=\"Use the enter key to see result similarity types.\"\n\t\t\taria-haspopup=\"true\"\n\t\t\trole=\"button\"\n\t\t\t(keyup.enter)=\"popover.toggle()\">\n\t\t\t<span class=\"dot identical\"></span>\n\t\t\t<span class=\"dot minor-changes\"></span>\n\t\t\t<span class=\"dot related\"></span>\n\t\t</div>\n\t</div>\n\n\t<sat-popover #popover horizontalAlign=\"before\" [restoreFocus]=\"true\" [autoFocus]=\"true\">\n\t\t<div fxLayout=\"column nowrap\" fxLayoutAlign=\"start start\" class=\"sat-tooltip mat-typography\" [tabIndex]=\"0\">\n\t\t\t<!--  -->\n\t\t\t<ng-container *ngIf=\"!source\">\n\t\t\t\t<div>\n\t\t\t\t\t<cls-spinner title=\"Spinner\" width=\"30px\"></cls-spinner>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t\t<!--  -->\n\t\t\t<ng-container *ngIf=\"source\">\n\t\t\t\t<div class=\"text-identical\">\n\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.IDENTICAL || 'Identical' }} -\n\t\t\t\t\t{{ result?.statistics.identical / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}.\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-minor-changes\">\n\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.MINOR_CHANGES || 'Minor Changes' }} -\n\t\t\t\t\t{{ result?.statistics.minorChanges / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}.\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-related\">\n\t\t\t\t\t{{ translations?.SHARED?.MATCH_TYPES?.RELATED_MEANING || 'Paraphrased' }} -\n\t\t\t\t\t{{ result?.statistics.relatedMeaning / (source?.metadata.words - source?.metadata.excluded) | similarity }}\n\t\t\t\t\t{{ translations?.SHARED?.WORDS || 'words' }}.\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t\t<!--  -->\n\t\t</div>\n\t</sat-popover>\n</ng-container>\n\n<ng-template #skeleton__card>\n\t<div class=\"result-loading\">\n\t\t<p>\n\t\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t</p>\n\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t<p>\n\t\t\t<ngx-skeleton-loader></ngx-skeleton-loader>\n\t\t</p>\n\t</div>\n\t<mat-divider></mat-divider>\n\t<div footer fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n\t\t<ngx-skeleton-loader fxFlex=\"30\" [theme]=\"{ height: '28px', margin: 0 }\"></ngx-skeleton-loader>\n\t\t<div fxLayout=\"row\" fxLayoutGap=\"1em\">\n\t\t\t<ngx-skeleton-loader\n\t\t\t\t[theme]=\"{ height: '28px', width: '28px', margin: 0 }\"\n\t\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t\t\t<ngx-skeleton-loader\n\t\t\t\t[theme]=\"{ height: '28px', width: '28px', margin: 0 }\"\n\t\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t\t\t<ngx-skeleton-loader\n\t\t\t\t[theme]=\"{ height: '28px', width: '28px', margin: 0 }\"\n\t\t\t\tappearance=\"circle\"></ngx-skeleton-loader>\n\t\t</div>\n\t</div>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{display:flex;flex-flow:column nowrap;box-sizing:border-box;border-radius:10px;position:relative;margin:15px 10px 1.5em;box-shadow:#43475545 0 0 .25em,#5a7dbc0d 0 .25em 1em}:host cl-spinner{margin-top:1px}:host .title{display:flex;font-weight:700;justify-content:space-between;word-wrap:break-word;margin-top:17px;padding-bottom:10px}:host .title .result-title-btn{width:auto;height:auto;line-height:normal;border-radius:unset;padding:0 10px}:host .title .result-title-btn .result-title{max-width:450px;display:block;font-weight:700;color:#000;text-wrap:wrap}:host .title .menu-toggle-button{padding:0;width:24px;height:24px;line-height:normal;top:-16px}:host .title-icon{position:absolute;left:-10px;top:-15px;padding:2px;display:flex;justify-content:center;align-items:center;width:25px;height:25px;border:1.5px solid #e0e0e0;border-radius:100%;background:white}:host .title-icon .success-icon{font-size:16px;width:17px;height:16px;line-height:16px}:host .title-icon .error-icon{font-size:24px;width:24px;height:24px;line-height:24px}:host [body]{word-break:break-all;word-break:break-word;padding:1px 12px;color:#47575f}:host [url]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 12px 5px}:host [url] a{text-decoration:none;font-style:italic;color:#107ac3}:host [mat-button]{min-width:36px;padding:0;color:#a9a9a9}:host [footer]{padding:7px 10px;background:rgba(241,241,241,.41);font-weight:400}:host .ellipsis-flex-text{flex:1;text-wrap:wrap}:host .meta-data{font-style:italic;margin-bottom:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .meta-data .dot-divider{margin:0 2px 0 0}:host .custom-component-wrapper{min-height:130px}.result-loading{padding:16px 10px 0 13px}::ng-deep .result-card-actions{min-height:unset}::ng-deep .result-card-actions .mat-menu-content:not(:empty){padding-top:0;padding-bottom:0}.result-introduction-btn{width:auto;height:auto;line-height:normal}.result-introduction-btn ::ng-deep .mat-button-wrapper{word-break:normal;padding:1px 12px;color:#47575f}.link-styles{font-style:italic;color:#107ac3;text-decoration:unset;word-wrap:break-word;padding:0 12px 5px}\n"] }]
        }], ctorParameters: function () { return [{ type: CopyleaksTranslateService }, { type: i0.ComponentFactoryResolver }, { type: ReportService }, { type: DirectionService }, { type: i17.DatePipe }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN]
                }] }]; }, propDecorators: { elevation: [{
                type: HostBinding,
                args: ['class.mat-elevation-z3']
            }], vcr: [{
                type: ViewChild,
                args: ['vcr', { read: ViewContainerRef }]
            }], preview: [{
                type: Input
            }] } });

/**
 * A pipe that filters a list of data according to some **whitelist** information
 */
class WhitelistPipe {
    /**
     * Filter a list according to a whitelist data, and possible a key to compare by
     * @param value an array of items
     * @param key the key to compare the items by, if missing, use shallow comparison
     * @param whitelist the whitelist data to filter by
     */
    transform(value, key, whitelist) {
        if (!whitelist || whitelist.length === 0) {
            return value;
        }
        return (value || []).filter(item => whitelist.includes(key ? item[key] : item));
    }
}
WhitelistPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: WhitelistPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });
WhitelistPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: WhitelistPipe, name: "whitelist" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: WhitelistPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'whitelist',
                }]
        }] });

class ResultsComponent {
    constructor(componentFactoryResolver, copyleaksService, reportService, dialogService, layoutService, highlightService, translationsService, directionService, cd, elementRef, announcer) {
        this.componentFactoryResolver = componentFactoryResolver;
        this.copyleaksService = copyleaksService;
        this.reportService = reportService;
        this.dialogService = dialogService;
        this.layoutService = layoutService;
        this.highlightService = highlightService;
        this.translationsService = translationsService;
        this.directionService = directionService;
        this.cd = cd;
        this.elementRef = elementRef;
        this.announcer = announcer;
        this.hasOverlay = false;
        this.isLoadingResults = true;
        this.isComponentDisplayed = true;
        this.isActive = false;
        this.isMobile = false;
        this.hiddenResults = [];
        this.plagFreeImg = IMAGES.PLAGIARISM_FREE_PNG;
    }
    get visibleResults() {
        return this.focusedMatch.ids.filter(id => !this.hiddenResults.includes(id));
    }
    /**
     * Displays the results filter dialog modal
     */
    openFilterDialog() {
        this.dialogService.open(ResultsFilterDialogComponent, {
            direction: this.directionService.dir,
            data: this.reportService,
        });
    }
    /**
     * Life-cycle method
     * subscribe to:
     * - filtered match previews
     * - currently selected match
     * - user configured hidden results
     * - layout changes
     */
    ngOnInit() {
        this.translations = this.translationsService.translations;
        const { filteredPreviews$, hiddenResults$, contentMode$, results$ } = this.reportService;
        const { originalText$, originalHtml$ } = this.highlightService;
        combineLatest([originalText$, originalHtml$, contentMode$])
            .pipe(untilDestroy(this), filter(_ => this.isComponentDisplayed))
            .subscribe(([text, html, content]) => {
            this.focusedMatch = content === 'text' ? text && text.match : html;
            this.cd.detectChanges();
        });
        filteredPreviews$.pipe(untilDestroy(this)).subscribe(previews => {
            this.previews = this.copyleaksService.sortScanResults(previews);
        });
        hiddenResults$.pipe(untilDestroy(this)).subscribe(ids => {
            this.hiddenResults = ids;
            this.highlightService.clear();
            this.highlightService.clearAllMatchs();
        });
        this.layoutService.isMobile$.pipe(untilDestroy(this)).subscribe(isMobile => (this.isMobile = isMobile));
        this.copyleaksService.onReportConfig$.pipe(untilDestroy(this)).subscribe(config => {
            this.checkAndAddOverlay(config);
        });
        results$.pipe(untilDestroy(this), delay(1000)).subscribe(results => {
            if (results?.length === this.previews?.length) {
                this.isLoadingResults = false;
            }
        });
        this.listenForDisplayChange();
    }
    /**
     * listener for display change
     */
    listenForDisplayChange() {
        const observer = new MutationObserver(() => {
            this.isComponentDisplayed = this.elementRef?.nativeElement?.style?.display !== 'none';
        });
        const target = this.elementRef.nativeElement;
        observer.observe(target, { attributes: true, attributeFilter: ['style'] });
    }
    /**
     * check if the results overlay component was passed
     */
    checkAndAddOverlay(config) {
        if (config && config.resultsOverlayComponent) {
            this.hasOverlay = true;
            if (!this.resultsOverlayComponentInstance) {
                const factory = this.componentFactoryResolver.resolveComponentFactory(config.resultsOverlayComponent);
                setTimeout(() => {
                    if (!this.resultsOverlayComponentInstance) {
                        const resultsOverlayComponentInstance = this.vcr?.createComponent(factory);
                        if (resultsOverlayComponentInstance) {
                            this.resultsOverlayComponentInstance = resultsOverlayComponentInstance;
                        }
                    }
                }, 100);
            }
        }
        else {
            this.hasOverlay = false;
        }
    }
    /**
     * Removes the focus of the currently focused match
     */
    clearFocusedMatch() {
        this.highlightService.setOriginalTextMatch(null);
        this.highlightService.setOriginalHtmlMatch(null);
        this.announcer.announce('Cleared focused', 'assertive');
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
ResultsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ResultsComponent, deps: [{ token: i0.ComponentFactoryResolver }, { token: CopyleaksService }, { token: ReportService }, { token: i1.MatDialog }, { token: LayoutMediaQueryService }, { token: HighlightService }, { token: CopyleaksTranslateService }, { token: DirectionService }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i4$2.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
ResultsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: ResultsComponent, selector: "cr-results", host: { properties: { "class.active": "this.isActive", "class.mobile": "this.isMobile" } }, viewQueries: [{ propertyName: "vcr", first: true, predicate: ["vcr"], descendants: true, read: ViewContainerRef }], ngImport: i0, template: "<cr-panel>\n\t<cr-panel-header>\n\t\t<!--  -->\n\t\t<cls-spinner\n\t\t\tstyle=\"margin-right: 8px\"\n\t\t\ttitle=\"Spinner\"\n\t\t\t*ngIf=\"previews?.length && isLoadingResults\"\n\t\t\twidth=\"20px\"></cls-spinner>\n\t\t<!--  -->\n\t\t{{ translations?.RESULTS_SECTION?.TITLE || 'Results' }}\n\t\t<ng-container *ngIf=\"focusedMatch\">\n\t\t\t({{ visibleResults.length }} {{ translations?.SHARED?.OF || 'of' }} {{ previews?.length }})\n\t\t</ng-container>\n\t\t<!--  -->\n\t</cr-panel-header>\n\t<cr-panel-actions>\n\t\t<cr-panel-action *ngIf=\"focusedMatch\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__show_results\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action *ngIf=\"isMobile\">\n\t\t\t<button mat-button [disabled]=\"!previews\" (click)=\"isActive = !isActive\" aria-label=\"expend actions\">\n\t\t\t\t<mat-icon [svgIcon]=\"isActive ? 'arrow_downward' : 'arrow_upward'\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action *ngIf=\"!isMobile || isActive\">\n\t\t\t<div id=\"cr-hint-results-filter-list\"></div>\n\t\t\t<button\n\t\t\t\ttitle=\"Filter results\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\tmat-button\n\t\t\t\t[ngClass]=\"{ 'mat-stroked-button mat-warn': hiddenResults.length }\"\n\t\t\t\t[disabled]=\"!previews || hasOverlay\"\n\t\t\t\t[matTooltip]=\"\n\t\t\t\t\thiddenResults.length\n\t\t\t\t\t\t? hiddenResults.length + (translations?.RESULTS_SECTION?.FILTERED_RESULTS_TOOLTIP || ' results are hidden')\n\t\t\t\t\t\t: translations?.RESULTS_SECTION?.FILTER_TOOLTIP || 'Filter results'\n\t\t\t\t\"\n\t\t\t\t(click)=\"openFilterDialog()\"\n\t\t\t\taria-label=\"Opens a dialog to filter out results from report.\">\n\t\t\t\t<mat-icon [svgIcon]=\"hiddenResults.length ? 'filter_list_color_red' : 'filter_list'\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\t<cr-panel-body fxLayout=\"column\" fxFlex=\"100\">\n\t\t<div id=\"cr-hint-results-card\"></div>\n\t\t<ng-container *ngIf=\"hasOverlay\">\n\t\t\t<div class=\"overlay-component-wrapper\">\n\t\t\t\t<ng-container #vcr></ng-container>\n\t\t\t</div>\n\t\t</ng-container>\n\t\t<cr-plagiarism-free\n\t\t\t*ngIf=\"previews && previews.length === 0\"\n\t\t\t[ngClass]=\"hasOverlay ? 'blur' : ''\"></cr-plagiarism-free>\n\t\t<virtual-scroller\n\t\t\t*ngIf=\"previews\"\n\t\t\t[ngClass]=\"hasOverlay ? 'blur' : ''\"\n\t\t\t[bufferAmount]=\"7\"\n\t\t\t#scroll\n\t\t\tfxFlex\n\t\t\t[items]=\"previews | whitelist : 'id' : focusedMatch?.ids\">\n\t\t\t<cr-result-card *ngFor=\"let preview of scroll.viewPortItems\" [preview]=\"preview\"></cr-result-card>\n\t\t</virtual-scroller>\n\t\t<virtual-scroller *ngIf=\"!previews\" [ngClass]=\"hasOverlay ? 'blur' : ''\" #scroll fxFlex [items]=\"[1, 2, 3, 4]\">\n\t\t\t<cr-result-card *ngFor=\"let preview of scroll.viewPortItems\"></cr-result-card>\n\t\t</virtual-scroller>\n\t\t<div class=\"powered-by-section\">\n\t\t\t<cr-powered-by></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n<ng-template #menu__show_results>\n\t<button\n\t\taria-label=\"Clear focused results\"\n\t\t[title]=\"translations?.RESULTS_SECTION?.CLEAR_FILTER || 'Clear focused'\"\n\t\tmat-button\n\t\t(click)=\"clearFocusedMatch()\"\n\t\t[matTooltip]=\"translations?.RESULTS_SECTION?.CLEAR_FILTER || 'Clear focused'\">\n\t\t<mat-icon>close</mat-icon>\n\t</button>\n</ng-template>\n\n<ng-template #skeleton__fakes>\n\t<cr-result-card></cr-result-card>\n\t<cr-result-card></cr-result-card>\n\t<cr-result-card></cr-result-card>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{background-color:#fff;overflow:hidden}cr-panel{flex:1;height:100%}cr-panel cr-panel-header{text-transform:uppercase}cr-panel-body{position:relative}cr-panel-body .overlay-component-wrapper{position:absolute;display:flex;right:0;left:0;bottom:0;top:0;z-index:1}cr-panel-body cdk-virtual-scroll-viewport{padding:1em;margin:-1em;scrollbar-width:0px;overflow-y:scroll}cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-content-wrapper{max-width:100%}cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(0),cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(1),cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(2),cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(3){transform:scaleY(0)}@media screen and (max-width: 599px){cr-panel-body cdk-virtual-scroll-viewport{padding:.5em;margin:0 -.5em}}@media screen and (max-width: 599px){cr-panel-body{margin-top:0}}[skeleton__card] mat-divider{margin:1em -1em}[skeleton__card] [footer]{height:28px}[skeleton__card] ngx-skeleton-loader:nth-child(5n+1){width:.88}[skeleton__card] ngx-skeleton-loader:nth-child(5n+2){width:.94}[skeleton__card] ngx-skeleton-loader:nth-child(5n+3){width:.71}[skeleton__card] ngx-skeleton-loader:nth-child(5n+4){width:.87}[skeleton__card] ngx-skeleton-loader:nth-child(5n+5){width:.82}[mat-button]{min-width:36px;padding:0}.blur{filter:blur(5px);overflow:hidden!important}.powered-by-section cr-powered-by{height:44px;padding-top:1px;border-top:1px solid rgba(0,0,0,.12);margin-top:12px;margin-bottom:-4px}#cr-hint-results-filter-list{position:relative;top:-5px;right:-11px}#cr-hint-results-card{transform:translate(45%)}\n"], components: [{ type: PanelComponent, selector: "cr-panel" }, { type: PanelHeaderComponent, selector: "cr-panel-header" }, { type: SpinnerComponent, selector: "cls-spinner", inputs: ["width", "color"] }, { type: PanelActionsComponent, selector: "cr-panel-actions" }, { type: PanelActionComponent, selector: "cr-panel-action" }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: PanelBodyComponent, selector: "cr-panel-body" }, { type: PlagiarismFreeComponent, selector: "cr-plagiarism-free" }, { type: i14.VirtualScrollerComponent, selector: "virtual-scroller,[virtualScroller]", inputs: ["executeRefreshOutsideAngularZone", "RTL", "useMarginInsteadOfTranslate", "ssrViewportWidth", "ssrViewportHeight", "compareItems", "checkResizeInterval", "modifyOverflowStyleOfParentScroll", "resizeBypassRefreshThreshold", "scrollAnimationTime", "scrollDebounceTime", "scrollThrottlingTime", "scrollbarHeight", "scrollbarWidth", "stripedTable", "horizontal", "enableUnequalChildrenSizes", "bufferAmount", "items", "parentScroll", "childWidth", "childHeight", "ssrChildWidth", "ssrChildHeight"], outputs: ["vsUpdate", "vsChange", "vsStart", "vsEnd"], exportAs: ["virtualScroller"] }, { type: ResultCardComponent, selector: "cr-result-card", inputs: ["preview"] }, { type: PoweredByComponent, selector: "cr-powered-by" }], directives: [{ type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i17.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i17.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i20.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }], pipes: { "whitelist": WhitelistPipe }, animations: [] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ResultsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-results', animations: [], template: "<cr-panel>\n\t<cr-panel-header>\n\t\t<!--  -->\n\t\t<cls-spinner\n\t\t\tstyle=\"margin-right: 8px\"\n\t\t\ttitle=\"Spinner\"\n\t\t\t*ngIf=\"previews?.length && isLoadingResults\"\n\t\t\twidth=\"20px\"></cls-spinner>\n\t\t<!--  -->\n\t\t{{ translations?.RESULTS_SECTION?.TITLE || 'Results' }}\n\t\t<ng-container *ngIf=\"focusedMatch\">\n\t\t\t({{ visibleResults.length }} {{ translations?.SHARED?.OF || 'of' }} {{ previews?.length }})\n\t\t</ng-container>\n\t\t<!--  -->\n\t</cr-panel-header>\n\t<cr-panel-actions>\n\t\t<cr-panel-action *ngIf=\"focusedMatch\">\n\t\t\t<ng-container *ngTemplateOutlet=\"menu__show_results\"></ng-container>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action *ngIf=\"isMobile\">\n\t\t\t<button mat-button [disabled]=\"!previews\" (click)=\"isActive = !isActive\" aria-label=\"expend actions\">\n\t\t\t\t<mat-icon [svgIcon]=\"isActive ? 'arrow_downward' : 'arrow_upward'\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t\t<cr-panel-action *ngIf=\"!isMobile || isActive\">\n\t\t\t<div id=\"cr-hint-results-filter-list\"></div>\n\t\t\t<button\n\t\t\t\ttitle=\"Filter results\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\tmat-button\n\t\t\t\t[ngClass]=\"{ 'mat-stroked-button mat-warn': hiddenResults.length }\"\n\t\t\t\t[disabled]=\"!previews || hasOverlay\"\n\t\t\t\t[matTooltip]=\"\n\t\t\t\t\thiddenResults.length\n\t\t\t\t\t\t? hiddenResults.length + (translations?.RESULTS_SECTION?.FILTERED_RESULTS_TOOLTIP || ' results are hidden')\n\t\t\t\t\t\t: translations?.RESULTS_SECTION?.FILTER_TOOLTIP || 'Filter results'\n\t\t\t\t\"\n\t\t\t\t(click)=\"openFilterDialog()\"\n\t\t\t\taria-label=\"Opens a dialog to filter out results from report.\">\n\t\t\t\t<mat-icon [svgIcon]=\"hiddenResults.length ? 'filter_list_color_red' : 'filter_list'\"></mat-icon>\n\t\t\t</button>\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\t<cr-panel-body fxLayout=\"column\" fxFlex=\"100\">\n\t\t<div id=\"cr-hint-results-card\"></div>\n\t\t<ng-container *ngIf=\"hasOverlay\">\n\t\t\t<div class=\"overlay-component-wrapper\">\n\t\t\t\t<ng-container #vcr></ng-container>\n\t\t\t</div>\n\t\t</ng-container>\n\t\t<cr-plagiarism-free\n\t\t\t*ngIf=\"previews && previews.length === 0\"\n\t\t\t[ngClass]=\"hasOverlay ? 'blur' : ''\"></cr-plagiarism-free>\n\t\t<virtual-scroller\n\t\t\t*ngIf=\"previews\"\n\t\t\t[ngClass]=\"hasOverlay ? 'blur' : ''\"\n\t\t\t[bufferAmount]=\"7\"\n\t\t\t#scroll\n\t\t\tfxFlex\n\t\t\t[items]=\"previews | whitelist : 'id' : focusedMatch?.ids\">\n\t\t\t<cr-result-card *ngFor=\"let preview of scroll.viewPortItems\" [preview]=\"preview\"></cr-result-card>\n\t\t</virtual-scroller>\n\t\t<virtual-scroller *ngIf=\"!previews\" [ngClass]=\"hasOverlay ? 'blur' : ''\" #scroll fxFlex [items]=\"[1, 2, 3, 4]\">\n\t\t\t<cr-result-card *ngFor=\"let preview of scroll.viewPortItems\"></cr-result-card>\n\t\t</virtual-scroller>\n\t\t<div class=\"powered-by-section\">\n\t\t\t<cr-powered-by></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n<ng-template #menu__show_results>\n\t<button\n\t\taria-label=\"Clear focused results\"\n\t\t[title]=\"translations?.RESULTS_SECTION?.CLEAR_FILTER || 'Clear focused'\"\n\t\tmat-button\n\t\t(click)=\"clearFocusedMatch()\"\n\t\t[matTooltip]=\"translations?.RESULTS_SECTION?.CLEAR_FILTER || 'Clear focused'\">\n\t\t<mat-icon>close</mat-icon>\n\t</button>\n</ng-template>\n\n<ng-template #skeleton__fakes>\n\t<cr-result-card></cr-result-card>\n\t<cr-result-card></cr-result-card>\n\t<cr-result-card></cr-result-card>\n</ng-template>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{background-color:#fff;overflow:hidden}cr-panel{flex:1;height:100%}cr-panel cr-panel-header{text-transform:uppercase}cr-panel-body{position:relative}cr-panel-body .overlay-component-wrapper{position:absolute;display:flex;right:0;left:0;bottom:0;top:0;z-index:1}cr-panel-body cdk-virtual-scroll-viewport{padding:1em;margin:-1em;scrollbar-width:0px;overflow-y:scroll}cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-content-wrapper{max-width:100%}cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(0),cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(1),cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(2),cr-panel-body cdk-virtual-scroll-viewport ::ng-deep .cdk-virtual-scroll-spacer:nth-child(3){transform:scaleY(0)}@media screen and (max-width: 599px){cr-panel-body cdk-virtual-scroll-viewport{padding:.5em;margin:0 -.5em}}@media screen and (max-width: 599px){cr-panel-body{margin-top:0}}[skeleton__card] mat-divider{margin:1em -1em}[skeleton__card] [footer]{height:28px}[skeleton__card] ngx-skeleton-loader:nth-child(5n+1){width:.88}[skeleton__card] ngx-skeleton-loader:nth-child(5n+2){width:.94}[skeleton__card] ngx-skeleton-loader:nth-child(5n+3){width:.71}[skeleton__card] ngx-skeleton-loader:nth-child(5n+4){width:.87}[skeleton__card] ngx-skeleton-loader:nth-child(5n+5){width:.82}[mat-button]{min-width:36px;padding:0}.blur{filter:blur(5px);overflow:hidden!important}.powered-by-section cr-powered-by{height:44px;padding-top:1px;border-top:1px solid rgba(0,0,0,.12);margin-top:12px;margin-bottom:-4px}#cr-hint-results-filter-list{position:relative;top:-5px;right:-11px}#cr-hint-results-card{transform:translate(45%)}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: CopyleaksService }, { type: ReportService }, { type: i1.MatDialog }, { type: LayoutMediaQueryService }, { type: HighlightService }, { type: CopyleaksTranslateService }, { type: DirectionService }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i4$2.LiveAnnouncer }]; }, propDecorators: { vcr: [{
                type: ViewChild,
                args: ['vcr', { read: ViewContainerRef }]
            }], isActive: [{
                type: HostBinding,
                args: ['class.active']
            }], isMobile: [{
                type: HostBinding,
                args: ['class.mobile']
            }] } });

class AlertsComponent {
    constructor(reportService, viewModeService) {
        this.reportService = reportService;
        this.viewModeService = viewModeService;
    }
    get selectedAlert() {
        return this.viewModeService?.selectedAlert;
    }
    /**
     * Life-cycle method
     */
    ngOnInit() {
        this.reportService.completeResult$
            .pipe(untilDestroy(this), filter(c => !!c.notifications && !!c.notifications.alerts && !!c.notifications.alerts.length))
            .subscribe(completeResult => {
            this.notification = JSON.parse(JSON.stringify(completeResult.notifications));
            if (this.notification) {
                this.notification.alerts = this.notification.alerts.filter(n => n.code != ALERTS.SUSPECTED_AI_TEXT_DETECTED);
            }
        });
    }
    /**
     * hide alerts and go back to scanning mode
     */
    hideAlerts() {
        this.viewModeService.changeViewMode$(EReportViewModel.ScanningResult);
    }
    /**
     * Life-cycle method
     * required by untilDestory
     */
    ngOnDestroy() { }
}
AlertsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: AlertsComponent, deps: [{ token: ReportService }, { token: ViewModeService }], target: i0.ɵɵFactoryTarget.Component });
AlertsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: AlertsComponent, selector: "cr-alerts", ngImport: i0, template: "<cr-panel>\n\t<cr-panel-header>Alerts</cr-panel-header>\n\t<cr-panel-actions>\n\t\t<cr-panel-action>\n\t\t\t<button mat-button matTooltip=\"Close alerts\" (click)=\"hideAlerts()\" aria-label=\"Close alerts.\">\n\t\t\t\t<mat-icon>close</mat-icon>\n\t\t\t</button>\n\t\t\t<!-- <cr-panel-action *ngIf=\"isMobile\">\n\t\t\t\t<button mat-button\n\t\t\t\t\t\t\t\t[disabled]=\"!previews\"\n\t\t\t\t\t\t\t\t(click)=\"isActive = !isActive\">\n\t\t\t\t\t<mat-icon>{{ isActive ? 'arrow_downward' : 'arrow_upward' }}</mat-icon>\n\t\t\t\t</button>\n\t\t\t</cr-panel-action> -->\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\t<cr-panel-body fxLayout=\"column\" fxFlex=\"100\">\n\t\t<div fxFlex fxLayout=\"column\" fxLayoutGap=\"15px\" class=\"alerts-container\">\n\t\t\t<ng-container *ngFor=\"let alert of notification?.alerts\">\n\t\t\t\t<cr-alert-card\n\t\t\t\t\t[ngClass]=\"{ 'alert-opacity': selectedAlert && selectedAlert.code !== alert.code }\"\n\t\t\t\t\t[alert]=\"alert\"></cr-alert-card>\n\t\t\t</ng-container>\n\t\t</div>\n\t\t<div class=\"powered-by-section\">\n\t\t\t<cr-powered-by></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n", styles: [":host{width:30%;max-width:530px}cr-panel{flex:1;height:100%}cr-panel cr-panel-header{text-transform:uppercase}.powered-by-section cr-powered-by{height:44px;padding-top:1px;border-top:1px solid rgba(0,0,0,.12);margin-top:12px;margin-bottom:-4px}.alerts-container{height:100%;overflow-y:scroll;padding:5px}.alerts-container .alert-opacity{opacity:.4}\n"], components: [{ type: PanelComponent, selector: "cr-panel" }, { type: PanelHeaderComponent, selector: "cr-panel-header" }, { type: PanelActionsComponent, selector: "cr-panel-actions" }, { type: PanelActionComponent, selector: "cr-panel-action" }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: PanelBodyComponent, selector: "cr-panel-body" }, { type: AlertCardComponent, selector: "cr-alert-card", inputs: ["alert"], outputs: ["afterToggleError"] }, { type: PoweredByComponent, selector: "cr-powered-by" }], directives: [{ type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { type: i19.DefaultLayoutGapDirective, selector: "  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]", inputs: ["fxLayoutGap", "fxLayoutGap.xs", "fxLayoutGap.sm", "fxLayoutGap.md", "fxLayoutGap.lg", "fxLayoutGap.xl", "fxLayoutGap.lt-sm", "fxLayoutGap.lt-md", "fxLayoutGap.lt-lg", "fxLayoutGap.lt-xl", "fxLayoutGap.gt-xs", "fxLayoutGap.gt-sm", "fxLayoutGap.gt-md", "fxLayoutGap.gt-lg"] }, { type: i17.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i17.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i20.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: AlertsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-alerts', template: "<cr-panel>\n\t<cr-panel-header>Alerts</cr-panel-header>\n\t<cr-panel-actions>\n\t\t<cr-panel-action>\n\t\t\t<button mat-button matTooltip=\"Close alerts\" (click)=\"hideAlerts()\" aria-label=\"Close alerts.\">\n\t\t\t\t<mat-icon>close</mat-icon>\n\t\t\t</button>\n\t\t\t<!-- <cr-panel-action *ngIf=\"isMobile\">\n\t\t\t\t<button mat-button\n\t\t\t\t\t\t\t\t[disabled]=\"!previews\"\n\t\t\t\t\t\t\t\t(click)=\"isActive = !isActive\">\n\t\t\t\t\t<mat-icon>{{ isActive ? 'arrow_downward' : 'arrow_upward' }}</mat-icon>\n\t\t\t\t</button>\n\t\t\t</cr-panel-action> -->\n\t\t</cr-panel-action>\n\t</cr-panel-actions>\n\t<cr-panel-body fxLayout=\"column\" fxFlex=\"100\">\n\t\t<div fxFlex fxLayout=\"column\" fxLayoutGap=\"15px\" class=\"alerts-container\">\n\t\t\t<ng-container *ngFor=\"let alert of notification?.alerts\">\n\t\t\t\t<cr-alert-card\n\t\t\t\t\t[ngClass]=\"{ 'alert-opacity': selectedAlert && selectedAlert.code !== alert.code }\"\n\t\t\t\t\t[alert]=\"alert\"></cr-alert-card>\n\t\t\t</ng-container>\n\t\t</div>\n\t\t<div class=\"powered-by-section\">\n\t\t\t<cr-powered-by></cr-powered-by>\n\t\t</div>\n\t</cr-panel-body>\n</cr-panel>\n", styles: [":host{width:30%;max-width:530px}cr-panel{flex:1;height:100%}cr-panel cr-panel-header{text-transform:uppercase}.powered-by-section cr-powered-by{height:44px;padding-top:1px;border-top:1px solid rgba(0,0,0,.12);margin-top:12px;margin-bottom:-4px}.alerts-container{height:100%;overflow-y:scroll;padding:5px}.alerts-container .alert-opacity{opacity:.4}\n"] }]
        }], ctorParameters: function () { return [{ type: ReportService }, { type: ViewModeService }]; } });

class CopyleaksReportComponent {
    constructor(reportService, copyleaksService, viewModeService, directionService, el, renderer, iconRegistryService) {
        this.reportService = reportService;
        this.copyleaksService = copyleaksService;
        this.viewModeService = viewModeService;
        this.directionService = directionService;
        this.el = el;
        this.iconRegistryService = iconRegistryService;
        this.typography = true;
        this.config = {};
        this.isPDFDownloading = false;
        this.hideCreationTime = false;
        this.showProductUpgradeButton = false;
        this.showAIContentProperty = true;
        this.configChange = new EventEmitter();
        this.help = new EventEmitter();
        this.share = new EventEmitter();
        this.download = new EventEmitter();
        this.propertiesExpandChange = new EventEmitter();
        this.upgradePlan = new EventEmitter();
        this.upgradeProduct = new EventEmitter();
        this.dir = 'ltr';
        this.resultsActive = false;
        this.aaa = false;
        this.hasResultsOverlay = false;
        this.eReportViewModel = EReportViewModel;
        renderer.setAttribute(el.nativeElement, 'plagiarism-report-version', packageInfo.version);
    }
    get isOneToOne() {
        return this.viewMode === 'one-to-one';
    }
    get isOneToMany() {
        return this.viewMode === 'one-to-many';
    }
    /**
     * life-cycle method
     * Initialize the component view mode
     */
    ngOnInit() {
        this.directionService.setDir(this.dir);
        const { viewMode$, helpClick$, shareClick$, downloadClick$, configChange$, planUpgradeEvent$ } = this.reportService;
        viewMode$.pipe(untilDestroy(this)).subscribe(viewMode => (this.viewMode = viewMode));
        helpClick$.pipe(untilDestroy(this)).subscribe(data => this.help.emit(data));
        shareClick$.pipe(untilDestroy(this)).subscribe(data => this.share.emit(data));
        downloadClick$.pipe(untilDestroy(this)).subscribe(data => this.download.emit(data));
        planUpgradeEvent$.pipe(untilDestroy(this)).subscribe(data => this.upgradePlan.emit(data));
        configChange$.pipe(untilDestroy(this)).subscribe(config => this.configChange.emit(config));
        this.hasResultsOverlay = !!this.config && !!this.config.resultsOverlayComponent;
        this.viewModeService.reportViewMode$
            .pipe(untilDestroy(this))
            .subscribe(viewMode => (this.reportViewMode = viewMode));
        this.iconRegistryService.init();
    }
    /**
     * Life-cycle method
     * Handles `changes` for input properties
     * @param changes the changes
     */
    ngOnChanges(changes) {
        if (changes.config) {
            this.copyleaksService.setConfig({ ...changes.config.currentValue });
            this.hasResultsOverlay = !!changes.config.currentValue && !!changes.config.currentValue.resultsOverlayComponent;
        }
    }
    /**
     * Life-cycle method
     * empty for `untilDestroy` rxjs operator
     */
    ngOnDestroy() { }
}
CopyleaksReportComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksReportComponent, deps: [{ token: ReportService }, { token: CopyleaksService }, { token: ViewModeService }, { token: DirectionService }, { token: i0.ElementRef }, { token: i0.Renderer2 }, { token: IconRegistryService }], target: i0.ɵɵFactoryTarget.Component });
CopyleaksReportComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: CopyleaksReportComponent, selector: "cr-copyleaks-report", inputs: { config: "config", isPDFDownloading: "isPDFDownloading", hideCreationTime: "hideCreationTime", showProductUpgradeButton: "showProductUpgradeButton", showAIContentProperty: "showAIContentProperty", dir: "dir" }, outputs: { configChange: "configChange", help: "help", share: "share", download: "download", propertiesExpandChange: "propertiesExpandChange", upgradePlan: "upgradePlan", upgradeProduct: "upgradeProduct" }, host: { properties: { "class.mat-typography": "this.typography", "class.one-to-one": "this.isOneToOne", "class.one-to-many": "this.isOneToMany" } }, providers: [ReportService, StatisticsService, MatchService, HighlightService, ViewModeService, IconRegistryService], usesOnChanges: true, ngImport: i0, template: "<cr-properties\n\t*ngIf=\"!hasResultsOverlay\"\n\t[scanSummaryComponent]=\"config.scanSummaryComponent\"\n\t[isPDFDownloading]=\"isPDFDownloading\"\n\t[hideCreationTime]=\"hideCreationTime\"\n\t[expanded]=\"config.propertiesExpanded != null ? config.propertiesExpanded : true\"\n\t(expandChange)=\"propertiesExpandChange.emit($event)\"\n\t(upgrade)=\"upgradeProduct.emit($event)\"\n\t[showUpgradeButton]=\"showProductUpgradeButton\"\n\t[showAIContentProperty]=\"showAIContentProperty\">\n\t<ng-content select=\"cr-custom-report-action\"></ng-content>\n</cr-properties>\n\n<div\n\tmain-wrapper\n\tfxLayout=\"row nowrap\"\n\tfxLayoutAlign=\"start stretch\"\n\tfxLayout.lt-sm=\"column nowrap\"\n\t[class]=\"'cr-report-' + dir\">\n\t<cr-original [style.margin-right]=\"reportViewMode == eReportViewModel.ScanningResult ? '1em' : ''\"></cr-original>\n\t<ng-container *ngIf=\"reportViewMode == eReportViewModel.ScanningResult\">\n\t\t<cr-suspect [fxShow]=\"isOneToOne\"></cr-suspect>\n\t\t<cr-results [fxShow]=\"isOneToMany\"></cr-results>\n\t</ng-container>\n\t<ng-container *ngIf=\"reportViewMode == eReportViewModel.Alerts\">\n\t\t<cr-alerts></cr-alerts>\n\t</ng-container>\n</div>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{display:contents;flex-flow:column nowrap;position:relative;width:100%}[wrapper]{display:flex;flex-flow:column nowrap;position:relative;place-content:center start}cr-properties{width:100%}@media screen and (max-width: 599px){cr-properties{margin-bottom:0}}[main-wrapper]{height:100%;padding:1em}@media screen and (max-width: 599px){[main-wrapper]{position:relative;overflow:hidden}}cr-original{flex:1}@media screen and (max-width: 599px){cr-original{width:100%;height:100%;background-color:#fff}cr-original:focus{flex:2}}cr-results{width:30%;max-width:530px}@media screen and (max-width: 599px){cr-results{flex:1;position:absolute;width:calc(100% - 2em);height:calc(100% - 2em);background-color:#fff}cr-results:not(.active){top:calc(100% - 2.35em)}}@media screen and (max-width: 599px){:host(.one-to-many) cr-original{padding-bottom:calc(2.35em - 2px)}}:host(.one-to-one) cr-original{max-width:50%}@media screen and (max-width: 599px){:host(.one-to-one) cr-original{max-width:100%;margin-bottom:-1px}}:host(.one-to-one) cr-suspect{flex:1;width:50%;max-width:50%}@media screen and (max-width: 599px){:host(.one-to-one) cr-suspect{width:100%;max-width:100%}}.cr-report-rtl cr-original{margin-right:0;margin-left:1em}\n"], components: [{ type: PropertiesComponent, selector: "cr-properties", inputs: ["scanSummaryComponent", "isPDFDownloading", "hideCreationTime", "expanded", "showUpgradeButton", "showAIContentProperty"], outputs: ["upgrade", "expandChange"] }, { type: OriginalComponent, selector: "cr-original" }, { type: SuspectComponent, selector: "cr-suspect" }, { type: ResultsComponent, selector: "cr-results" }, { type: AlertsComponent, selector: "cr-alerts" }], directives: [{ type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i19.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i19.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i20.DefaultShowHideDirective, selector: "  [fxShow], [fxShow.print],  [fxShow.xs], [fxShow.sm], [fxShow.md], [fxShow.lg], [fxShow.xl],  [fxShow.lt-sm], [fxShow.lt-md], [fxShow.lt-lg], [fxShow.lt-xl],  [fxShow.gt-xs], [fxShow.gt-sm], [fxShow.gt-md], [fxShow.gt-lg],  [fxHide], [fxHide.print],  [fxHide.xs], [fxHide.sm], [fxHide.md], [fxHide.lg], [fxHide.xl],  [fxHide.lt-sm], [fxHide.lt-md], [fxHide.lt-lg], [fxHide.lt-xl],  [fxHide.gt-xs], [fxHide.gt-sm], [fxHide.gt-md], [fxHide.gt-lg]", inputs: ["fxShow", "fxShow.print", "fxShow.xs", "fxShow.sm", "fxShow.md", "fxShow.lg", "fxShow.xl", "fxShow.lt-sm", "fxShow.lt-md", "fxShow.lt-lg", "fxShow.lt-xl", "fxShow.gt-xs", "fxShow.gt-sm", "fxShow.gt-md", "fxShow.gt-lg", "fxHide", "fxHide.print", "fxHide.xs", "fxHide.sm", "fxHide.md", "fxHide.lg", "fxHide.xl", "fxHide.lt-sm", "fxHide.lt-md", "fxHide.lt-lg", "fxHide.lt-xl", "fxHide.gt-xs", "fxHide.gt-sm", "fxHide.gt-md", "fxHide.gt-lg"] }], animations: [] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksReportComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cr-copyleaks-report', animations: [], providers: [ReportService, StatisticsService, MatchService, HighlightService, ViewModeService, IconRegistryService], template: "<cr-properties\n\t*ngIf=\"!hasResultsOverlay\"\n\t[scanSummaryComponent]=\"config.scanSummaryComponent\"\n\t[isPDFDownloading]=\"isPDFDownloading\"\n\t[hideCreationTime]=\"hideCreationTime\"\n\t[expanded]=\"config.propertiesExpanded != null ? config.propertiesExpanded : true\"\n\t(expandChange)=\"propertiesExpandChange.emit($event)\"\n\t(upgrade)=\"upgradeProduct.emit($event)\"\n\t[showUpgradeButton]=\"showProductUpgradeButton\"\n\t[showAIContentProperty]=\"showAIContentProperty\">\n\t<ng-content select=\"cr-custom-report-action\"></ng-content>\n</cr-properties>\n\n<div\n\tmain-wrapper\n\tfxLayout=\"row nowrap\"\n\tfxLayoutAlign=\"start stretch\"\n\tfxLayout.lt-sm=\"column nowrap\"\n\t[class]=\"'cr-report-' + dir\">\n\t<cr-original [style.margin-right]=\"reportViewMode == eReportViewModel.ScanningResult ? '1em' : ''\"></cr-original>\n\t<ng-container *ngIf=\"reportViewMode == eReportViewModel.ScanningResult\">\n\t\t<cr-suspect [fxShow]=\"isOneToOne\"></cr-suspect>\n\t\t<cr-results [fxShow]=\"isOneToMany\"></cr-results>\n\t</ng-container>\n\t<ng-container *ngIf=\"reportViewMode == eReportViewModel.Alerts\">\n\t\t<cr-alerts></cr-alerts>\n\t</ng-container>\n</div>\n", styles: [".sat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding:.5em;overflow:hidden;text-overflow:ellipsis;background:rgba(0,0,0,.8)}.identical{background-color:#ff796e}.minor-changes{background-color:#ff9a9a}.related{background-color:#ffd9b0}.omitted{background-color:#fff}.text-identical{color:#ff796e}.text-minor-changes{color:#ff9a9a}.text-related{color:#ffd9b0}.dot{border:1px solid #171717;width:1.5em;min-width:1.5em;min-height:1.5em;height:1.5em;border-radius:50%}@media screen and (max-width: 959px){.dot{width:1em;min-width:1em;min-height:1em;height:1em}}.copyleaks-report-dialog .mat-dialog-container{padding:0}.cdk-keyboard-focused{outline:2px solid black!important}:host{display:contents;flex-flow:column nowrap;position:relative;width:100%}[wrapper]{display:flex;flex-flow:column nowrap;position:relative;place-content:center start}cr-properties{width:100%}@media screen and (max-width: 599px){cr-properties{margin-bottom:0}}[main-wrapper]{height:100%;padding:1em}@media screen and (max-width: 599px){[main-wrapper]{position:relative;overflow:hidden}}cr-original{flex:1}@media screen and (max-width: 599px){cr-original{width:100%;height:100%;background-color:#fff}cr-original:focus{flex:2}}cr-results{width:30%;max-width:530px}@media screen and (max-width: 599px){cr-results{flex:1;position:absolute;width:calc(100% - 2em);height:calc(100% - 2em);background-color:#fff}cr-results:not(.active){top:calc(100% - 2.35em)}}@media screen and (max-width: 599px){:host(.one-to-many) cr-original{padding-bottom:calc(2.35em - 2px)}}:host(.one-to-one) cr-original{max-width:50%}@media screen and (max-width: 599px){:host(.one-to-one) cr-original{max-width:100%;margin-bottom:-1px}}:host(.one-to-one) cr-suspect{flex:1;width:50%;max-width:50%}@media screen and (max-width: 599px){:host(.one-to-one) cr-suspect{width:100%;max-width:100%}}.cr-report-rtl cr-original{margin-right:0;margin-left:1em}\n"] }]
        }], ctorParameters: function () { return [{ type: ReportService }, { type: CopyleaksService }, { type: ViewModeService }, { type: DirectionService }, { type: i0.ElementRef }, { type: i0.Renderer2 }, { type: IconRegistryService }]; }, propDecorators: { typography: [{
                type: HostBinding,
                args: ['class.mat-typography']
            }], isOneToOne: [{
                type: HostBinding,
                args: ['class.one-to-one']
            }], isOneToMany: [{
                type: HostBinding,
                args: ['class.one-to-many']
            }], config: [{
                type: Input
            }], isPDFDownloading: [{
                type: Input
            }], hideCreationTime: [{
                type: Input
            }], showProductUpgradeButton: [{
                type: Input
            }], showAIContentProperty: [{
                type: Input
            }], configChange: [{
                type: Output
            }], help: [{
                type: Output
            }], share: [{
                type: Output
            }], download: [{
                type: Output
            }], propertiesExpandChange: [{
                type: Output
            }], upgradePlan: [{
                type: Output
            }], upgradeProduct: [{
                type: Output
            }], dir: [{
                type: Input
            }] } });
class CustomReportActionComponent {
}
CustomReportActionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CustomReportActionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
CustomReportActionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.3", type: CustomReportActionComponent, selector: "cr-custom-report-action", ngImport: i0, template: '<cr-expansion-panel-menu-item><ng-content></ng-content></cr-expansion-panel-menu-item>', isInline: true, components: [{ type: ExpansionPanelMenuItemComponent, selector: "cr-expansion-panel-menu-item" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CustomReportActionComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'cr-custom-report-action',
                    template: '<cr-expansion-panel-menu-item><ng-content></ng-content></cr-expansion-panel-menu-item>',
                }]
        }] });

class ExpansionPanelModule {
}
ExpansionPanelModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
ExpansionPanelModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelModule, declarations: [ExpansionPanelComponent,
        ExpansionPanelTitleComponent,
        ExpansionPanelMenuComponent,
        ExpansionPanelMenuItemComponent,
        ExpansionPanelBodyComponent], imports: [CommonModule,
        MatDividerModule,
        FlexLayoutModule,
        MatRippleModule,
        MatButtonModule,
        MatIconModule,
        MatTooltipModule], exports: [ExpansionPanelComponent,
        ExpansionPanelTitleComponent,
        ExpansionPanelMenuComponent,
        ExpansionPanelMenuItemComponent,
        ExpansionPanelBodyComponent] });
ExpansionPanelModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelModule, imports: [[
            CommonModule,
            MatDividerModule,
            FlexLayoutModule,
            MatRippleModule,
            MatButtonModule,
            MatIconModule,
            MatTooltipModule,
        ]] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: ExpansionPanelModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [
                        ExpansionPanelComponent,
                        ExpansionPanelTitleComponent,
                        ExpansionPanelMenuComponent,
                        ExpansionPanelMenuItemComponent,
                        ExpansionPanelBodyComponent,
                    ],
                    imports: [
                        CommonModule,
                        MatDividerModule,
                        FlexLayoutModule,
                        MatRippleModule,
                        MatButtonModule,
                        MatIconModule,
                        MatTooltipModule,
                    ],
                    exports: [
                        ExpansionPanelComponent,
                        ExpansionPanelTitleComponent,
                        ExpansionPanelMenuComponent,
                        ExpansionPanelMenuItemComponent,
                        ExpansionPanelBodyComponent,
                    ],
                }]
        }] });

class MatPaginationModule {
}
MatPaginationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
MatPaginationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationModule, declarations: [MatPaginationComponent], imports: [CommonModule,
        FormsModule,
        MatIconModule,
        FlexLayoutModule,
        MatButtonModule,
        MatInputModule,
        MatTooltipModule], exports: [MatPaginationComponent] });
MatPaginationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationModule, imports: [[
            CommonModule,
            FormsModule,
            MatIconModule,
            FlexLayoutModule,
            MatButtonModule,
            MatInputModule,
            MatTooltipModule,
        ]] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: MatPaginationModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [MatPaginationComponent],
                    imports: [
                        CommonModule,
                        FormsModule,
                        MatIconModule,
                        FlexLayoutModule,
                        MatButtonModule,
                        MatInputModule,
                        MatTooltipModule,
                    ],
                    exports: [MatPaginationComponent],
                }]
        }] });

class PanelModule {
}
PanelModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
PanelModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelModule, declarations: [PanelComponent, PanelHeaderComponent, PanelActionsComponent, PanelActionComponent, PanelBodyComponent], imports: [CommonModule, FlexLayoutModule, MatIconModule, MatDividerModule, MatButtonModule], exports: [PanelComponent, PanelActionsComponent, PanelActionComponent, PanelHeaderComponent, PanelBodyComponent] });
PanelModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelModule, imports: [[CommonModule, FlexLayoutModule, MatIconModule, MatDividerModule, MatButtonModule]] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: PanelModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [PanelComponent, PanelHeaderComponent, PanelActionsComponent, PanelActionComponent, PanelBodyComponent],
                    imports: [CommonModule, FlexLayoutModule, MatIconModule, MatDividerModule, MatButtonModule],
                    exports: [PanelComponent, PanelActionsComponent, PanelActionComponent, PanelHeaderComponent, PanelBodyComponent],
                }]
        }] });

/**
 * A pipe that takes a list of items and returns that list without duplicates
 */
class UniquePipe {
    /**
     * Filter an array of items, removing duplicates possible using a key to compare
     * @param value the array of items
     * @param key the key to compare by
     */
    transform(value, key) {
        const dict = value.reduce((prev, curr) => {
            prev[curr[key]] = curr;
            return prev;
        }, {});
        return Object.values(dict);
    }
}
UniquePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: UniquePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });
UniquePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: UniquePipe, name: "unique" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: UniquePipe, decorators: [{
            type: Pipe,
            args: [{ name: 'unique' }]
        }] });

/**
 * A shared module containing all sort of generic reuseable stuff
 */
class SharedModule {
}
SharedModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SharedModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
SharedModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SharedModule, declarations: [ShortNumberPipe,
        SafePipe,
        SearchPipe,
        ArrayPipe,
        TimeAgoPipe,
        WhitelistPipe,
        UniquePipe,
        SimilarityPipe,
        ClickStopPropagationDirective], imports: [CommonModule], exports: [ShortNumberPipe,
        SafePipe,
        SearchPipe,
        ArrayPipe,
        TimeAgoPipe,
        WhitelistPipe,
        SimilarityPipe,
        ClickStopPropagationDirective] });
SharedModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SharedModule, providers: [PercentPipe], imports: [[CommonModule]] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: SharedModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [
                        ShortNumberPipe,
                        SafePipe,
                        SearchPipe,
                        ArrayPipe,
                        TimeAgoPipe,
                        WhitelistPipe,
                        UniquePipe,
                        SimilarityPipe,
                        ClickStopPropagationDirective,
                    ],
                    imports: [CommonModule],
                    providers: [PercentPipe],
                    exports: [
                        ShortNumberPipe,
                        SafePipe,
                        SearchPipe,
                        ArrayPipe,
                        TimeAgoPipe,
                        WhitelistPipe,
                        SimilarityPipe,
                        ClickStopPropagationDirective,
                    ],
                }]
        }] });

class CopyleaksReportModule {
    /**
     * Modify the config that is added to the root module providers
     * @param config the modified report config
     * @param textConfig config containing custom text messages
     */
    static forRoot(config = {}, textConfig = {}) {
        return {
            ngModule: CopyleaksReportModule,
            providers: [
                { provide: COPYLEAKS_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_REPORT_CONFIG, ...config } },
                { provide: COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_TEXT_CONFIG, ...textConfig } },
            ],
        };
    }
    /**
     * Modify the config that is added to the child module providers
     * @param config the modified config
     */
    static forChild(config = {}, textConfig = {}) {
        return {
            ngModule: CopyleaksReportModule,
            providers: [
                { provide: COPYLEAKS_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_REPORT_CONFIG, ...config } },
                { provide: COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_TEXT_CONFIG, ...textConfig } },
            ],
        };
    }
}
CopyleaksReportModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksReportModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
CopyleaksReportModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksReportModule, declarations: [SpinnerComponent,
        CopyleaksReportComponent,
        PropertiesComponent,
        ResultsComponent,
        OriginalComponent,
        ResultCardComponent,
        SuspectComponent,
        OptionsDialogComponent,
        ResultsFilterDialogComponent,
        PoweredByComponent,
        MatchComponent,
        OriginalHtmlHelperComponent,
        SourceHtmlHelperComponent,
        SuspectHtmlHelperComponent,
        OriginalTextHelperDirective,
        SourceTextHelperDirective,
        SuspectTextHelperDirective,
        PlagiarismFreeComponent,
        NotificationsComponent,
        NotificationsDialogComponent,
        AlertsComponent,
        AlertCardComponent,
        ExcludePartialScanComponent,
        CustomReportActionComponent], imports: [CommonModule,
        PanelModule,
        SharedModule,
        ExpansionPanelModule,
        MatIconModule,
        FormsModule,
        MatDividerModule,
        MatButtonModule,
        FlexLayoutModule,
        ChartCommonModule,
        PieChartModule,
        SatPopoverModule,
        MatTooltipModule,
        MatDialogModule,
        MatInputModule,
        MatMenuModule,
        MatListModule,
        MatCheckboxModule,
        MatSlideToggleModule,
        MatPaginatorModule,
        MatRippleModule,
        NgxSkeletonLoaderModule,
        MatPaginationModule,
        MatProgressSpinnerModule,
        VirtualScrollerModule], exports: [CopyleaksReportComponent, CustomReportActionComponent] });
CopyleaksReportModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksReportModule, providers: [
        IconRegistryService,
        CopyleaksService,
        CopyleaksTranslateService,
        DirectionService,
        { provide: COPYLEAKS_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_REPORT_CONFIG } },
        { provide: COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_TEXT_CONFIG } },
    ], imports: [[
            CommonModule,
            PanelModule,
            SharedModule,
            ExpansionPanelModule,
            MatIconModule,
            FormsModule,
            MatDividerModule,
            MatButtonModule,
            FlexLayoutModule,
            ChartCommonModule,
            PieChartModule,
            SatPopoverModule,
            MatTooltipModule,
            MatDialogModule,
            MatInputModule,
            MatMenuModule,
            MatListModule,
            MatCheckboxModule,
            MatSlideToggleModule,
            MatPaginatorModule,
            MatRippleModule,
            NgxSkeletonLoaderModule,
            MatPaginationModule,
            MatProgressSpinnerModule,
            VirtualScrollerModule,
        ]] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.3", ngImport: i0, type: CopyleaksReportModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [
                        SpinnerComponent,
                        CopyleaksReportComponent,
                        PropertiesComponent,
                        ResultsComponent,
                        OriginalComponent,
                        ResultCardComponent,
                        SuspectComponent,
                        OptionsDialogComponent,
                        ResultsFilterDialogComponent,
                        PoweredByComponent,
                        MatchComponent,
                        OriginalHtmlHelperComponent,
                        SourceHtmlHelperComponent,
                        SuspectHtmlHelperComponent,
                        OriginalTextHelperDirective,
                        SourceTextHelperDirective,
                        SuspectTextHelperDirective,
                        PlagiarismFreeComponent,
                        NotificationsComponent,
                        NotificationsDialogComponent,
                        AlertsComponent,
                        AlertCardComponent,
                        ExcludePartialScanComponent,
                        CustomReportActionComponent,
                    ],
                    imports: [
                        CommonModule,
                        PanelModule,
                        SharedModule,
                        ExpansionPanelModule,
                        MatIconModule,
                        FormsModule,
                        MatDividerModule,
                        MatButtonModule,
                        FlexLayoutModule,
                        ChartCommonModule,
                        PieChartModule,
                        SatPopoverModule,
                        MatTooltipModule,
                        MatDialogModule,
                        MatInputModule,
                        MatMenuModule,
                        MatListModule,
                        MatCheckboxModule,
                        MatSlideToggleModule,
                        MatPaginatorModule,
                        MatRippleModule,
                        NgxSkeletonLoaderModule,
                        MatPaginationModule,
                        MatProgressSpinnerModule,
                        VirtualScrollerModule,
                    ],
                    providers: [
                        IconRegistryService,
                        CopyleaksService,
                        CopyleaksTranslateService,
                        DirectionService,
                        { provide: COPYLEAKS_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_REPORT_CONFIG } },
                        { provide: COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN, useValue: { ...DEFAULT_TEXT_CONFIG } },
                    ],
                    entryComponents: [OptionsDialogComponent, ResultsFilterDialogComponent, NotificationsDialogComponent],
                    exports: [CopyleaksReportComponent, CustomReportActionComponent],
                }]
        }] });

/**
 * Utility function to test whether a CopyleaksReportOptions object is valid
 * @param options the options object to test
 * @param logErrors  whether to show errors or not. defaults to false
 */
const isCopyleaksReportOptions = (options, logErrors = false) => {
    if (!options) {
        logErrors && console.warn('config.options can not be null');
        return false;
    }
    if (options.showIdentical && typeof options.showIdentical !== 'boolean') {
        logErrors && console.warn('config.options.showIdentical should be a boolean');
        return false;
    }
    if (options.showMinorChanges && typeof options.showMinorChanges !== 'boolean') {
        logErrors && console.warn('config.options.showMinorChanges should be a boolean');
        return false;
    }
    if (options.showRelated && typeof options.showRelated !== 'boolean') {
        logErrors && console.warn('config.options.showRelated should be a boolean');
        return false;
    }
    if (options.showOnlyTopResults && typeof options.showOnlyTopResults !== 'boolean') {
        logErrors && console.warn('config.options.showOnlyTopResults should be a boolean');
        return false;
    }
    if (options.showPageSources && typeof options.showPageSources !== 'boolean') {
        logErrors && console.warn('config.options.showPageSources should be a boolean');
        return false;
    }
    if (options.setAsDefault && typeof options.setAsDefault !== 'boolean') {
        logErrors && console.warn('config.options.setAsDefault should be a boolean');
        return false;
    }
    return true;
};
/**
 * Utility function to test whether a CopyleaksReportConfig object is valid
 * @param config the config object to test
 * @param logErrors whether to show errors or not. defaults to false
 */
const isCopyleaksReportConfig = (config, logErrors = false) => {
    if (!config) {
        logErrors && console.warn('config.options can not be null');
        return false;
    }
    if (config.viewMode !== undefined && typeof config.viewMode !== 'string') {
        logErrors && console.warn('config.viewMode should be a string');
        return false;
    }
    if (config.contentMode && typeof config.contentMode !== 'string') {
        logErrors && console.warn('config.contentMode should be a string');
        return false;
    }
    if (config.disableSuspectBackButton && typeof config.disableSuspectBackButton !== 'boolean') {
        logErrors && console.warn('config.disableSuspectBackButton should be a boolean');
        return false;
    }
    if (config.share !== undefined && typeof config.share !== 'boolean') {
        logErrors && console.warn('config.share should be a boolean');
        return false;
    }
    if (config.download !== undefined && typeof config.download !== 'boolean') {
        logErrors && console.warn('config.download should be a boolean');
        return false;
    }
    if (config.settings !== undefined && typeof config.settings !== 'boolean') {
        logErrors && console.warn('config.settings should be a boolean');
        return false;
    }
    if (config.options !== undefined && !isCopyleaksReportOptions(config.options, logErrors)) {
        return false;
    }
    if (config.suspectId !== undefined && config.suspectId !== null && typeof config.suspectId !== 'string') {
        logErrors && console.warn('config.suspectId should be a string');
        return false;
    }
    if (config.scanId !== undefined && config.scanId !== null && typeof config.scanId !== 'string') {
        logErrors && console.warn('config.scanId should be a string');
        return false;
    }
    if (config.sourcePage !== undefined && typeof config.sourcePage !== 'number') {
        logErrors && console.warn('config.sourcePage should be a number');
        return false;
    }
    if (config.suspectPage !== undefined && typeof config.suspectPage !== 'number') {
        logErrors && console.warn('config.suspectPage should be a number');
        return false;
    }
    return true;
};

/*
 * Public API Surface of plagiarism-report
 */

/**
 * Generated bundle index. Do not edit.
 */

export { COPYLEAKS_CONFIG_INJECTION_TOKEN, COPYLEAKS_TEXT_CONFIG_INJECTION_TOKEN, CompleteResultNotificationAlertSeverity, CopyleaksReportComponent, CopyleaksReportModule, CopyleaksService, CopyleaksTranslateService, CustomReportActionComponent, DEFAULT_OPTIONS, DEFAULT_REPORT_CONFIG, DEFAULT_TEXT_CONFIG, ECRPackageProducts, EResultPreviewType, EndpointKind, ExcludeReason, MatchType, ResultAccess, ScanStatus, StatisticsService, isCopyleaksReportConfig, isCopyleaksReportOptions };
//# sourceMappingURL=copyleaks-plagiarism-report.mjs.map
